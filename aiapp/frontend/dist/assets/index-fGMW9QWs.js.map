{"version":3,"file":"index-fGMW9QWs.js","sources":["../../src/services/email-pro.service.ts","../../src/pages/web-cloud/email-pro/tabs/AccountsTab.tsx","../../src/pages/web-cloud/email-pro/tabs/DomainsTab.tsx","../../src/pages/web-cloud/email-pro/tabs/TasksTab.tsx","../../src/pages/web-cloud/email-pro/index.tsx"],"sourcesContent":["// ============================================================\n// SERVICE EMAIL PRO - OVHcloud\n// ============================================================\n\nimport { ovhApi } from './api.service';\n\n// ============================================================\n// TYPES\n// ============================================================\n\nexport interface EmailProService {\n  domain: string;\n  hostname: string;\n  maxReceiveSize: number;\n  maxSendSize: number;\n  offer: string;\n  spamAndVirusConfiguration: { checkDKIM: boolean; checkSPF: boolean };\n  state: 'creating' | 'deleting' | 'inMaintenance' | 'ok' | 'reopening' | 'suspended' | 'suspending';\n  taskPendingId: number | null;\n  webUrl: string;\n}\n\nexport interface EmailProServiceInfos {\n  serviceId: number;\n  creation: string;\n  expiration: string;\n  contactAdmin: string;\n  contactTech: string;\n  contactBilling: string;\n  status: string;\n  renew: { automatic: boolean; deleteAtExpiration: boolean; period: number | null };\n}\n\nexport interface EmailProAccount {\n  SAMAccountName: string | null;\n  configured: boolean;\n  creationDate: string;\n  currentUsage: number | null;\n  displayName: string;\n  domain: string;\n  expirationDate: string | null;\n  expirationOutlookDate: string | null;\n  firstName: string;\n  id: number;\n  initial: string;\n  lastName: string;\n  lastLogoffDate: string | null;\n  lastLogonDate: string | null;\n  login: string;\n  passwordLastUpdate: string | null;\n  primaryEmailAddress: string;\n  quota: number;\n  spamAndVirusConfiguration: { checkDKIM: boolean; checkSPF: boolean };\n  spamDetected: boolean;\n  spamTicketNumber: number | null;\n  state: 'creating' | 'deleting' | 'ok' | 'suspended';\n  taskPendingId: number | null;\n}\n\nexport interface EmailProDomain {\n  cnameToCheck: string | null;\n  domainAliases: string[];\n  domainValidated: boolean;\n  isAliasDomain: boolean;\n  mxIsValid: boolean;\n  mxRecord: string[];\n  mxRelay: string | null;\n  name: string;\n  srvIsValid: boolean;\n  srvRecord: string[];\n  state: 'creating' | 'deleting' | 'ok' | 'suspended';\n  taskPendingId: number | null;\n  type: 'authoritative' | 'nonAuthoritative';\n}\n\nexport interface EmailProTask {\n  id: number;\n  function: string;\n  status: 'cancelled' | 'doing' | 'done' | 'error' | 'todo';\n  todoDate: string;\n  finishDate: string | null;\n}\n\n// ============================================================\n// SERVICE\n// ============================================================\n\nclass EmailProService {\n  async listServices(): Promise<string[]> {\n    return ovhApi.get<string[]>('/email/pro');\n  }\n\n  async getService(service: string): Promise<EmailProService> {\n    return ovhApi.get<EmailProService>(`/email/pro/${service}`);\n  }\n\n  async getServiceInfos(service: string): Promise<EmailProServiceInfos> {\n    return ovhApi.get<EmailProServiceInfos>(`/email/pro/${service}/serviceInfos`);\n  }\n\n  // ---------- Accounts ----------\n  async listAccounts(service: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/pro/${service}/account`);\n  }\n\n  async getAccount(service: string, email: string): Promise<EmailProAccount> {\n    return ovhApi.get<EmailProAccount>(`/email/pro/${service}/account/${email}`);\n  }\n\n  // ---------- Domains ----------\n  async listDomains(service: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/pro/${service}/domain`);\n  }\n\n  async getDomain(service: string, domainName: string): Promise<EmailProDomain> {\n    return ovhApi.get<EmailProDomain>(`/email/pro/${service}/domain/${domainName}`);\n  }\n\n  // ---------- Tasks ----------\n  async listTasks(service: string): Promise<number[]> {\n    return ovhApi.get<number[]>(`/email/pro/${service}/task`);\n  }\n\n  async getTask(service: string, id: number): Promise<EmailProTask> {\n    return ovhApi.get<EmailProTask>(`/email/pro/${service}/task/${id}`);\n  }\n}\n\nexport const emailProService = new EmailProService();\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { emailProService, EmailProAccount } from \"../../../../services/email-pro.service\";\n\ninterface Props { service: string; }\n\nexport function AccountsTab({ service }: Props) {\n  const { t } = useTranslation(\"web-cloud/email-pro/index\");\n  const [accounts, setAccounts] = useState<EmailProAccount[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const emails = await emailProService.listAccounts(service);\n        const data = await Promise.all(emails.map(e => emailProService.getAccount(service, e)));\n        setAccounts(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [service]);\n\n  const formatSize = (bytes: number | null) => bytes ? `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB` : '-';\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"accounts-tab\">\n      <div className=\"tab-header\"><h3>{t(\"accounts.title\")}</h3><span className=\"records-count\">{accounts.length}</span></div>\n      {accounts.length === 0 ? (<div className=\"empty-state\"><p>{t(\"accounts.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"accounts.email\")}</th><th>{t(\"accounts.name\")}</th><th>{t(\"accounts.usage\")}</th><th>{t(\"accounts.lastLogin\")}</th><th>{t(\"accounts.status\")}</th></tr></thead>\n          <tbody>\n            {accounts.map(a => (\n              <tr key={a.primaryEmailAddress}>\n                <td className=\"font-mono\">{a.primaryEmailAddress}</td>\n                <td>{a.displayName}</td>\n                <td>{formatSize(a.currentUsage)} / {formatSize(a.quota)}</td>\n                <td>{a.lastLogonDate ? new Date(a.lastLogonDate).toLocaleDateString() : '-'}</td>\n                <td><span className={`badge ${a.state === 'ok' ? 'success' : 'warning'}`}>{a.state}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default AccountsTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { emailProService, EmailProDomain } from \"../../../../services/email-pro.service\";\n\ninterface Props { service: string; }\n\nexport function DomainsTab({ service }: Props) {\n  const { t } = useTranslation(\"web-cloud/email-pro/index\");\n  const [domains, setDomains] = useState<EmailProDomain[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const names = await emailProService.listDomains(service);\n        const data = await Promise.all(names.map(n => emailProService.getDomain(service, n)));\n        setDomains(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [service]);\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"domains-tab\">\n      <div className=\"tab-header\"><h3>{t(\"domains.title\")}</h3></div>\n      {domains.length === 0 ? (<div className=\"empty-state\"><p>{t(\"domains.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"domains.name\")}</th><th>{t(\"domains.type\")}</th><th>MX</th><th>SRV</th><th>{t(\"domains.status\")}</th></tr></thead>\n          <tbody>\n            {domains.map(d => (\n              <tr key={d.name}>\n                <td className=\"font-mono\">{d.name}</td>\n                <td>{d.type}</td>\n                <td><span className={`badge ${d.mxIsValid ? 'success' : 'error'}`}>{d.mxIsValid ? '✓' : '✗'}</span></td>\n                <td><span className={`badge ${d.srvIsValid ? 'success' : 'error'}`}>{d.srvIsValid ? '✓' : '✗'}</span></td>\n                <td><span className={`badge ${d.state === 'ok' ? 'success' : 'warning'}`}>{d.state}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default DomainsTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { emailProService, EmailProTask } from \"../../../../services/email-pro.service\";\n\ninterface Props { service: string; }\n\nexport function TasksTab({ service }: Props) {\n  const { t } = useTranslation(\"web-cloud/email-pro/index\");\n  const [tasks, setTasks] = useState<EmailProTask[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await emailProService.listTasks(service);\n        const data = await Promise.all(ids.slice(0, 50).map(id => emailProService.getTask(service, id)));\n        setTasks(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [service]);\n\n  const getStatusBadge = (status: string) => {\n    const map: Record<string, string> = { todo: 'warning', doing: 'info', done: 'success', error: 'error', cancelled: 'inactive' };\n    return <span className={`badge ${map[status] || 'inactive'}`}>{status}</span>;\n  };\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"tasks-tab\">\n      <div className=\"tab-header\"><h3>{t(\"tasks.title\")}</h3></div>\n      {tasks.length === 0 ? (<div className=\"empty-state\"><p>{t(\"tasks.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"tasks.function\")}</th><th>{t(\"tasks.status\")}</th><th>{t(\"tasks.date\")}</th></tr></thead>\n          <tbody>{tasks.map(task => (<tr key={task.id}><td className=\"font-mono\">{task.function}</td><td>{getStatusBadge(task.status)}</td><td>{new Date(task.todoDate).toLocaleString()}</td></tr>))}</tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default TasksTab;\n","// ============================================================\n// EMAIL PRO - Page principale\n// ============================================================\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { emailProService, EmailProService } from \"../../../services/email-pro.service\";\nimport { AccountsTab, DomainsTab, TasksTab } from \"./tabs\";\nimport \"../styles.css\";\n\ninterface Tab { id: string; labelKey: string; }\ninterface ServiceWithDetails { service: string; details?: EmailProService; loading: boolean; }\n\nexport default function EmailProPage() {\n  const { t } = useTranslation(\"web-cloud/email-pro/index\");\n  const { t: tCommon } = useTranslation(\"common\");\n  const [services, setServices] = useState<ServiceWithDetails[]>([]);\n  const [selected, setSelected] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(\"accounts\");\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const tabs: Tab[] = [\n    { id: \"accounts\", labelKey: \"tabs.accounts\" },\n    { id: \"domains\", labelKey: \"tabs.domains\" },\n    { id: \"tasks\", labelKey: \"tabs.tasks\" },\n  ];\n\n  const loadServices = useCallback(async () => {\n    try {\n      setLoading(true);\n      const names = await emailProService.listServices();\n      const list: ServiceWithDetails[] = names.map(service => ({ service, loading: true }));\n      setServices(list);\n      if (names.length > 0 && !selected) setSelected(names[0]);\n      for (const name of names) {\n        try {\n          const details = await emailProService.getService(name);\n          setServices(prev => prev.map(s => s.service === name ? { ...s, details, loading: false } : s));\n        } catch { setServices(prev => prev.map(s => s.service === name ? { ...s, loading: false } : s)); }\n      }\n    } finally { setLoading(false); }\n  }, [selected]);\n\n  useEffect(() => { loadServices(); }, []);\n\n  const filtered = services.filter(s => s.service.toLowerCase().includes(searchQuery.toLowerCase()));\n  const current = services.find(s => s.service === selected);\n\n  const renderTab = () => {\n    if (!selected) return null;\n    switch (activeTab) {\n      case \"accounts\": return <AccountsTab service={selected} />;\n      case \"domains\": return <DomainsTab service={selected} />;\n      case \"tasks\": return <TasksTab service={selected} />;\n      default: return null;\n    }\n  };\n\n  return (\n    <div className=\"email-page\">\n      <aside className=\"email-sidebar\">\n        <div className=\"sidebar-header\"><h2>{t(\"title\")}</h2><span className=\"count-badge\">{services.length}</span></div>\n        <div className=\"sidebar-search\"><input type=\"text\" placeholder={t(\"searchPlaceholder\")} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} /></div>\n        <div className=\"email-list\">\n          {loading && services.length === 0 ? (<div className=\"loading-state\"><div className=\"skeleton-item\" /></div>) : filtered.length === 0 ? (<div className=\"empty-state\">{tCommon(\"empty.title\")}</div>) : (\n            filtered.map((s) => (\n              <button key={s.service} className={`email-item ${selected === s.service ? \"active\" : \"\"}`} onClick={() => setSelected(s.service)}>\n                <div className=\"email-icon pro\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={1.5}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75\" /></svg></div>\n                <div className=\"email-info\"><span className=\"email-name\">{s.service}</span>{s.details && <span className=\"email-meta\">{s.details.offer}</span>}</div>\n              </button>\n            ))\n          )}\n        </div>\n      </aside>\n      <main className=\"email-main\">\n        {selected && current ? (\n          <>\n            <header className=\"page-header\">\n              <div><h1>{selected}</h1>{current.details && <p className=\"page-description\">Email Pro | {current.details.offer} | {current.details.state}</p>}</div>\n              <button className=\"btn-refresh\" onClick={loadServices}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\" /></svg>{tCommon(\"actions.refresh\")}</button>\n            </header>\n            <div className=\"tabs-container\"><div className=\"tabs-list\">{tabs.map((tab) => (<button key={tab.id} className={`tab-btn ${activeTab === tab.id ? \"active\" : \"\"}`} onClick={() => setActiveTab(tab.id)}>{t(tab.labelKey)}</button>))}</div></div>\n            <div className=\"tab-content\">{renderTab()}</div>\n          </>\n        ) : (<div className=\"no-selection\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={1.5}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75\" /></svg><p>{t(\"selectService\")}</p></div>)}\n      </main>\n    </div>\n  );\n}\n"],"names":["EmailProService","ovhApi","service","email","domainName","id","emailProService","AccountsTab","t","useTranslation","accounts","setAccounts","useState","loading","setLoading","useEffect","emails","data","e","formatSize","bytes","jsx","jsxs","DomainsTab","domains","setDomains","names","n","d","TasksTab","tasks","setTasks","ids","getStatusBadge","status","map","task","EmailProPage","tCommon","services","setServices","selected","setSelected","activeTab","setActiveTab","searchQuery","setSearchQuery","tabs","loadServices","useCallback","list","name","details","prev","s","filtered","current","renderTab","Fragment","tab"],"mappings":"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"}