{"version":3,"file":"index-D9ho85DW.js","sources":["../../src/pages/network/load-balancer/tabs/FarmsTab.tsx","../../src/pages/network/load-balancer/tabs/FrontendsTab.tsx","../../src/pages/network/load-balancer/index.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { networkService, IpLoadBalancingFarm, IpLoadBalancingServer } from \"../../../../services/network.service\";\n\ninterface Props { serviceName: string; }\n\nexport function FarmsTab({ serviceName }: Props) {\n  const { t } = useTranslation(\"network/load-balancer/index\");\n  const [farms, setFarms] = useState<(IpLoadBalancingFarm & { servers?: IpLoadBalancingServer[] })[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedFarm, setExpandedFarm] = useState<number | null>(null);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await networkService.listFarms(serviceName);\n        const data = await Promise.all(ids.map(id => networkService.getFarm(serviceName, id)));\n        setFarms(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceName]);\n\n  const loadServers = async (farmId: number) => {\n    if (expandedFarm === farmId) { setExpandedFarm(null); return; }\n    setExpandedFarm(farmId);\n    try {\n      const ids = await networkService.listServers(serviceName, farmId);\n      const servers = await Promise.all(ids.map(id => networkService.getServer(serviceName, farmId, id)));\n      setFarms(prev => prev.map(f => f.farmId === farmId ? { ...f, servers } : f));\n    } catch { /* ignore */ }\n  };\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"farms-tab\">\n      <div className=\"tab-header\"><h3>{t(\"farms.title\")}</h3><span className=\"records-count\">{farms.length}</span></div>\n      {farms.length === 0 ? (<div className=\"empty-state\"><p>{t(\"farms.empty\")}</p></div>) : (\n        <div className=\"farms-list\">\n          {farms.map(farm => (\n            <div key={farm.farmId} className={`farm-card ${expandedFarm === farm.farmId ? 'expanded' : ''}`}>\n              <div className=\"farm-header\" onClick={() => loadServers(farm.farmId)}>\n                <div className=\"farm-info\">\n                  <h4>{farm.displayName || `Farm #${farm.farmId}`}</h4>\n                  <div className=\"farm-meta\">\n                    <span className=\"badge info\">{farm.zone}</span>\n                    <span className=\"badge secondary\">{farm.balance}</span>\n                    {farm.port && <span>:{farm.port}</span>}\n                  </div>\n                </div>\n                <svg className=\"chevron\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 8.25l-7.5 7.5-7.5-7.5\" /></svg>\n              </div>\n              {expandedFarm === farm.farmId && farm.servers && (\n                <div className=\"farm-servers\">\n                  {farm.servers.length === 0 ? (<p className=\"no-servers\">{t(\"farms.noServers\")}</p>) : (\n                    <table className=\"servers-table\">\n                      <thead><tr><th>{t(\"farms.address\")}</th><th>{t(\"farms.port\")}</th><th>{t(\"farms.weight\")}</th><th>{t(\"farms.status\")}</th><th>{t(\"farms.ssl\")}</th></tr></thead>\n                      <tbody>\n                        {farm.servers.map(s => (\n                          <tr key={s.serverId}>\n                            <td className=\"font-mono\">{s.address}</td>\n                            <td>{s.port || '-'}</td>\n                            <td>{s.weight || '-'}</td>\n                            <td><span className={`badge ${s.status === 'active' ? 'success' : 'inactive'}`}>{s.status}</span></td>\n                            <td>{s.ssl ? '✓' : '✗'}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  )}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\nexport default FarmsTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { networkService, IpLoadBalancingFrontend } from \"../../../../services/network.service\";\n\ninterface Props { serviceName: string; }\n\nexport function FrontendsTab({ serviceName }: Props) {\n  const { t } = useTranslation(\"network/load-balancer/index\");\n  const [frontends, setFrontends] = useState<IpLoadBalancingFrontend[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await networkService.listFrontends(serviceName);\n        const data = await Promise.all(ids.map(id => networkService.getFrontend(serviceName, id)));\n        setFrontends(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceName]);\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"frontends-tab\">\n      <div className=\"tab-header\"><h3>{t(\"frontends.title\")}</h3><span className=\"records-count\">{frontends.length}</span></div>\n      {frontends.length === 0 ? (<div className=\"empty-state\"><p>{t(\"frontends.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"frontends.name\")}</th><th>{t(\"frontends.zone\")}</th><th>{t(\"frontends.port\")}</th><th>{t(\"frontends.ssl\")}</th><th>{t(\"frontends.farm\")}</th><th>{t(\"frontends.status\")}</th></tr></thead>\n          <tbody>\n            {frontends.map(f => (\n              <tr key={f.frontendId}>\n                <td>{f.displayName || `Frontend #${f.frontendId}`}</td>\n                <td><span className=\"badge info\">{f.zone}</span></td>\n                <td className=\"font-mono\">{f.port}</td>\n                <td>{f.ssl ? <span className=\"badge success\">SSL</span> : '-'}</td>\n                <td>{f.defaultFarmId || '-'}</td>\n                <td><span className={`badge ${f.disabled ? 'inactive' : 'success'}`}>{f.disabled ? t(\"frontends.disabled\") : t(\"frontends.enabled\")}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default FrontendsTab;\n","// ============================================================\n// LOAD BALANCER - Page principale\n// ============================================================\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { networkService, IpLoadBalancing, IpLoadBalancingServiceInfos } from \"../../../services/network.service\";\nimport { FarmsTab, FrontendsTab } from \"./tabs\";\nimport \"./styles.css\";\n\ninterface Tab { id: string; labelKey: string; }\ninterface LbWithDetails { serviceName: string; details?: IpLoadBalancing; serviceInfos?: IpLoadBalancingServiceInfos; loading: boolean; }\n\nexport default function LoadBalancerPage() {\n  const { t } = useTranslation(\"network/load-balancer/index\");\n  const { t: tCommon } = useTranslation(\"common\");\n  const [lbs, setLbs] = useState<LbWithDetails[]>([]);\n  const [selected, setSelected] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(\"farms\");\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const tabs: Tab[] = [\n    { id: \"farms\", labelKey: \"tabs.farms\" },\n    { id: \"frontends\", labelKey: \"tabs.frontends\" },\n  ];\n\n  const loadLbs = useCallback(async () => {\n    try {\n      setLoading(true);\n      const names = await networkService.listLoadBalancers();\n      const list: LbWithDetails[] = names.map(serviceName => ({ serviceName, loading: true }));\n      setLbs(list);\n      if (names.length > 0 && !selected) setSelected(names[0]);\n      for (const name of names) {\n        try {\n          const [details, serviceInfos] = await Promise.all([networkService.getLoadBalancer(name), networkService.getLoadBalancerServiceInfos(name)]);\n          setLbs(prev => prev.map(lb => lb.serviceName === name ? { ...lb, details, serviceInfos, loading: false } : lb));\n        } catch { setLbs(prev => prev.map(lb => lb.serviceName === name ? { ...lb, loading: false } : lb)); }\n      }\n    } finally { setLoading(false); }\n  }, [selected]);\n\n  useEffect(() => { loadLbs(); }, []);\n\n  const filtered = lbs.filter(lb => lb.serviceName.toLowerCase().includes(searchQuery.toLowerCase()) || lb.details?.displayName?.toLowerCase().includes(searchQuery.toLowerCase()));\n  const current = lbs.find(lb => lb.serviceName === selected);\n\n  const renderTab = () => {\n    if (!selected) return null;\n    switch (activeTab) {\n      case \"farms\": return <FarmsTab serviceName={selected} />;\n      case \"frontends\": return <FrontendsTab serviceName={selected} />;\n      default: return null;\n    }\n  };\n\n  return (\n    <div className=\"lb-page\">\n      <aside className=\"lb-sidebar\">\n        <div className=\"sidebar-header\"><h2>{t(\"title\")}</h2><span className=\"count-badge\">{lbs.length}</span></div>\n        <div className=\"sidebar-search\"><input type=\"text\" placeholder={t(\"searchPlaceholder\")} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} /></div>\n        <div className=\"lb-list\">\n          {loading && lbs.length === 0 ? (<div className=\"loading-state\"><div className=\"skeleton-item\" /></div>) : filtered.length === 0 ? (<div className=\"empty-state\">{tCommon(\"empty.title\")}</div>) : (\n            filtered.map((lb) => (\n              <button key={lb.serviceName} className={`lb-item ${selected === lb.serviceName ? \"active\" : \"\"}`} onClick={() => setSelected(lb.serviceName)}>\n                <div className={`lb-status-dot ${lb.details?.state === 'ok' ? 'running' : 'warning'}`} />\n                <div className=\"lb-info\">\n                  <span className=\"lb-name\">{lb.details?.displayName || lb.serviceName}</span>\n                  {lb.details && <span className=\"lb-meta\">{lb.details.zone?.join(', ')} | {lb.details.offer}</span>}\n                </div>\n              </button>\n            ))\n          )}\n        </div>\n      </aside>\n      <main className=\"lb-main\">\n        {selected && current ? (\n          <>\n            <header className=\"page-header\">\n              <div>\n                <h1>{current.details?.displayName || selected}</h1>\n                {current.details && <p className=\"page-description\">IP: {current.details.ipLoadbalancing} | Zones: {current.details.zone?.join(', ')} | <span className={`state-text ${current.details.state === 'ok' ? 'running' : 'warning'}`}>{current.details.state}</span></p>}\n              </div>\n              <button className=\"btn-refresh\" onClick={loadLbs}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\" /></svg>{tCommon(\"actions.refresh\")}</button>\n            </header>\n            <div className=\"tabs-container\"><div className=\"tabs-list\">{tabs.map((tab) => (<button key={tab.id} className={`tab-btn ${activeTab === tab.id ? \"active\" : \"\"}`} onClick={() => setActiveTab(tab.id)}>{t(tab.labelKey)}</button>))}</div></div>\n            <div className=\"tab-content\">{renderTab()}</div>\n          </>\n        ) : (<div className=\"no-selection\"><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5\" /></svg><p>{t(\"selectLb\")}</p></div>)}\n      </main>\n    </div>\n  );\n}\n"],"names":["FarmsTab","serviceName","t","useTranslation","farms","setFarms","useState","loading","setLoading","expandedFarm","setExpandedFarm","useEffect","ids","networkService","data","id","loadServers","farmId","servers","prev","jsx","jsxs","farm","s","FrontendsTab","frontends","setFrontends","f","LoadBalancerPage","tCommon","lbs","setLbs","selected","setSelected","activeTab","setActiveTab","searchQuery","setSearchQuery","tabs","loadLbs","useCallback","names","list","name","details","serviceInfos","lb","filtered","_b","_a","current","renderTab","_c","Fragment","tab"],"mappings":"0IAMO,SAASA,EAAS,CAAE,YAAAC,GAAsB,CAC/C,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,6BAA6B,EACpD,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAA0E,CAAA,CAAE,EAChG,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAwB,IAAI,EAEpEK,EAAAA,UAAU,IAAM,EACD,SAAY,CACvB,GAAI,CACFH,EAAW,EAAI,EACf,MAAMI,EAAM,MAAMC,EAAe,UAAUZ,CAAW,EAChDa,EAAO,MAAM,QAAQ,IAAIF,EAAI,IAAIG,GAAMF,EAAe,QAAQZ,EAAac,CAAE,CAAC,CAAC,EACrFV,EAASS,CAAI,CACf,QAAA,CAAYN,EAAW,EAAK,CAAG,CACjC,GACA,CACF,EAAG,CAACP,CAAW,CAAC,EAEhB,MAAMe,EAAc,MAAOC,GAAmB,CAC5C,GAAIR,IAAiBQ,EAAQ,CAAEP,EAAgB,IAAI,EAAG,MAAQ,CAC9DA,EAAgBO,CAAM,EACtB,GAAI,CACF,MAAML,EAAM,MAAMC,EAAe,YAAYZ,EAAagB,CAAM,EAC1DC,EAAU,MAAM,QAAQ,IAAIN,EAAI,IAAIG,GAAMF,EAAe,UAAUZ,EAAagB,EAAQF,CAAE,CAAC,CAAC,EAClGV,EAASc,GAAQA,EAAK,IAAI,GAAK,EAAE,SAAWF,EAAS,CAAE,GAAG,EAAG,QAAAC,CAAA,EAAY,CAAC,CAAC,CAC7E,MAAQ,CAAe,CACzB,EAEA,OAAIX,EAAgBa,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAA,CAAiB,CAAA,CAAE,EAGjFC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,aAAa,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,aAAa,CAAA,CAAE,EAAKkB,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAiB,WAAM,MAAA,CAAO,CAAA,EAAO,EAC3GhB,EAAM,SAAW,EAAKgB,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAAA,EAAAA,IAAC,IAAA,CAAG,SAAAlB,EAAE,aAAa,CAAA,CAAE,EAAI,EAC3EkB,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,SAAAhB,EAAM,IAAIkB,GACTD,EAAAA,KAAC,MAAA,CAAsB,UAAW,aAAaZ,IAAiBa,EAAK,OAAS,WAAa,EAAE,GAC3F,SAAA,CAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,cAAc,QAAS,IAAML,EAAYM,EAAK,MAAM,EACjE,SAAA,CAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAD,EAAAA,IAAC,MAAI,SAAAE,EAAK,aAAe,SAASA,EAAK,MAAM,GAAG,EAChDD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAc,SAAAE,EAAK,KAAK,EACxCF,EAAAA,IAAC,OAAA,CAAK,UAAU,kBAAmB,WAAK,QAAQ,EAC/CE,EAAK,MAAQD,EAAAA,KAAC,OAAA,CAAK,SAAA,CAAA,IAAEC,EAAK,IAAA,CAAA,CAAK,CAAA,CAAA,CAClC,CAAA,EACF,EACAF,EAAAA,IAAC,OAAI,UAAU,UAAU,MAAM,6BAA6B,KAAK,OAAO,QAAQ,YAAY,YAAa,EAAG,OAAO,eAAe,eAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,EAAE,6BAAA,CAA8B,CAAA,CAAE,CAAA,EACzN,EACCX,IAAiBa,EAAK,QAAUA,EAAK,eACnC,MAAA,CAAI,UAAU,eACZ,SAAAA,EAAK,QAAQ,SAAW,EAAKF,EAAAA,IAAC,IAAA,CAAE,UAAU,aAAc,SAAAlB,EAAE,iBAAiB,EAAE,EAC5EmB,EAAAA,KAAC,QAAA,CAAM,UAAU,gBACf,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,gBAAC,KAAA,CAAG,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,eAAe,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,YAAY,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,cAAc,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,cAAc,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,WAAW,CAAA,CAAE,CAAA,CAAA,CAAK,CAAA,CAAK,QACvJ,QAAA,CACE,SAAAoB,EAAK,QAAQ,IAAIC,UACf,KAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,KAAA,CAAG,UAAU,YAAa,SAAAG,EAAE,QAAQ,EACrCH,EAAAA,IAAC,KAAA,CAAI,SAAAG,EAAE,MAAQ,IAAI,EACnBH,EAAAA,IAAC,KAAA,CAAI,SAAAG,EAAE,QAAU,IAAI,EACrBH,MAAC,KAAA,CAAG,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAW,SAASG,EAAE,SAAW,SAAW,UAAY,UAAU,GAAK,SAAAA,EAAE,OAAO,EAAO,EACjGH,EAAAA,IAAC,KAAA,CAAI,SAAAG,EAAE,IAAM,IAAM,GAAA,CAAI,CAAA,GALhBA,EAAE,QAMX,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAEJ,CAAA,GA9BMD,EAAK,MAgCf,CACD,CAAA,CACH,CAAA,EAEJ,CAEJ,CC1EO,SAASE,EAAa,CAAE,YAAAvB,GAAsB,CACnD,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,6BAA6B,EACpD,CAACsB,EAAWC,CAAY,EAAIpB,EAAAA,SAAoC,CAAA,CAAE,EAClE,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EAc3C,OAZAK,EAAAA,UAAU,IAAM,EACD,SAAY,CACvB,GAAI,CACFH,EAAW,EAAI,EACf,MAAMI,EAAM,MAAMC,EAAe,cAAcZ,CAAW,EACpDa,EAAO,MAAM,QAAQ,IAAIF,EAAI,IAAIG,GAAMF,EAAe,YAAYZ,EAAac,CAAE,CAAC,CAAC,EACzFW,EAAaZ,CAAI,CACnB,QAAA,CAAYN,EAAW,EAAK,CAAG,CACjC,GACA,CACF,EAAG,CAACP,CAAW,CAAC,EAEZM,EAAgBa,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAA,CAAiB,CAAA,CAAE,EAGjFC,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,aAAa,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,iBAAiB,CAAA,CAAE,EAAKkB,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAiB,WAAU,MAAA,CAAO,CAAA,EAAO,EACnHK,EAAU,SAAW,EAAKL,MAAC,MAAA,CAAI,UAAU,cAAc,SAAAA,EAAAA,IAAC,IAAA,CAAG,SAAAlB,EAAE,iBAAiB,CAAA,CAAE,EAAI,EACnFmB,OAAC,QAAA,CAAM,UAAU,aACf,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,gBAAC,KAAA,CAAG,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,gBAAgB,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,gBAAgB,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,gBAAgB,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,eAAe,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,gBAAgB,CAAA,CAAE,EAAKkB,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,kBAAkB,CAAA,CAAE,CAAA,CAAA,CAAK,CAAA,CAAK,QACpM,QAAA,CACE,SAAAuB,EAAU,IAAIE,UACZ,KAAA,CACC,SAAA,CAAAP,EAAAA,IAAC,MAAI,SAAAO,EAAE,aAAe,aAAaA,EAAE,UAAU,GAAG,EAClDP,EAAAA,IAAC,MAAG,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAc,SAAAO,EAAE,KAAK,CAAA,CAAO,EAChDP,EAAAA,IAAC,KAAA,CAAG,UAAU,YAAa,WAAE,KAAK,EAClCA,EAAAA,IAAC,KAAA,CAAI,SAAAO,EAAE,IAAMP,EAAAA,IAAC,QAAK,UAAU,gBAAgB,SAAA,KAAA,CAAG,EAAU,GAAA,CAAI,EAC9DA,EAAAA,IAAC,KAAA,CAAI,SAAAO,EAAE,eAAiB,IAAI,QAC3B,KAAA,CAAG,SAAAP,MAAC,QAAK,UAAW,SAASO,EAAE,SAAW,WAAa,SAAS,GAAK,SAAAA,EAAE,SAAWzB,EAAE,oBAAoB,EAAIA,EAAE,mBAAmB,EAAE,CAAA,CAAO,CAAA,GANpIyB,EAAE,UAOX,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ,CClCA,SAAwBC,GAAmB,SACzC,KAAM,CAAE,EAAA1B,CAAA,EAAMC,EAAe,6BAA6B,EACpD,CAAE,EAAG0B,GAAY1B,EAAe,QAAQ,EACxC,CAAC2B,EAAKC,CAAM,EAAIzB,EAAAA,SAA0B,CAAA,CAAE,EAC5C,CAAC0B,EAAUC,CAAW,EAAI3B,EAAAA,SAAwB,IAAI,EACtD,CAAC4B,EAAWC,CAAY,EAAI7B,EAAAA,SAAS,OAAO,EAC5C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAAC8B,EAAaC,CAAc,EAAI/B,EAAAA,SAAS,EAAE,EAE3CgC,EAAc,CAClB,CAAE,GAAI,QAAS,SAAU,YAAA,EACzB,CAAE,GAAI,YAAa,SAAU,gBAAA,CAAiB,EAG1CC,EAAUC,EAAAA,YAAY,SAAY,CACtC,GAAI,CACFhC,EAAW,EAAI,EACf,MAAMiC,EAAQ,MAAM5B,EAAe,kBAAA,EAC7B6B,EAAwBD,EAAM,IAAIxC,IAAgB,CAAE,YAAAA,EAAa,QAAS,IAAO,EACvF8B,EAAOW,CAAI,EACPD,EAAM,OAAS,GAAK,CAACT,GAAUC,EAAYQ,EAAM,CAAC,CAAC,EACvD,UAAWE,KAAQF,EACjB,GAAI,CACF,KAAM,CAACG,EAASC,CAAY,EAAI,MAAM,QAAQ,IAAI,CAAChC,EAAe,gBAAgB8B,CAAI,EAAG9B,EAAe,4BAA4B8B,CAAI,CAAC,CAAC,EAC1IZ,KAAeZ,EAAK,IAAI2B,GAAMA,EAAG,cAAgBH,EAAO,CAAE,GAAGG,EAAI,QAAAF,EAAS,aAAAC,EAAc,QAAS,EAAA,EAAUC,CAAE,CAAC,CAChH,MAAQ,CAAEf,EAAOZ,GAAQA,EAAK,IAAI2B,GAAMA,EAAG,cAAgBH,EAAO,CAAE,GAAGG,EAAI,QAAS,EAAA,EAAUA,CAAE,CAAC,CAAG,CAExG,QAAA,CAAYtC,EAAW,EAAK,CAAG,CACjC,EAAG,CAACwB,CAAQ,CAAC,EAEbrB,EAAAA,UAAU,IAAM,CAAE4B,EAAA,CAAW,EAAG,CAAA,CAAE,EAElC,MAAMQ,EAAWjB,EAAI,OAAOgB,GAAA,SAAM,OAAAA,EAAG,YAAY,YAAA,EAAc,SAASV,EAAY,aAAa,KAAKY,GAAAC,EAAAH,EAAG,UAAH,YAAAG,EAAY,cAAZ,YAAAD,EAAyB,cAAc,SAASZ,EAAY,YAAA,IAAc,EAC1Kc,EAAUpB,EAAI,KAAKgB,GAAMA,EAAG,cAAgBd,CAAQ,EAEpDmB,EAAY,IAAM,CACtB,GAAI,CAACnB,EAAU,OAAO,KACtB,OAAQE,EAAA,CACN,IAAK,QAAS,OAAOd,EAAAA,IAACpB,EAAA,CAAS,YAAagC,CAAA,CAAU,EACtD,IAAK,YAAa,OAAOZ,EAAAA,IAACI,EAAA,CAAa,YAAaQ,CAAA,CAAU,EAC9D,QAAS,OAAO,IAAA,CAEpB,EAEA,OACEX,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,aACf,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBAAiB,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAI,SAAAlB,EAAE,OAAO,CAAA,CAAE,EAAKkB,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAI,MAAA,CAAO,CAAA,EAAO,EACtGA,EAAAA,IAAC,OAAI,UAAU,iBAAiB,eAAC,QAAA,CAAM,KAAK,OAAO,YAAalB,EAAE,mBAAmB,EAAG,MAAOkC,EAAa,SAAW,GAAMC,EAAe,EAAE,OAAO,KAAK,CAAA,CAAG,CAAA,CAAE,EAC/JjB,EAAAA,IAAC,OAAI,UAAU,UACZ,YAAWU,EAAI,SAAW,EAAKV,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,eAAA,CAAgB,CAAA,CAAE,EAAU2B,EAAS,SAAW,EAAK3B,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAe,SAAAS,EAAQ,aAAa,EAAE,EACtLkB,EAAS,IAAKD,GAAA,WACZzB,OAAAA,OAAC,SAAA,CAA4B,UAAW,WAAWW,IAAac,EAAG,YAAc,SAAW,EAAE,GAAI,QAAS,IAAMb,EAAYa,EAAG,WAAW,EACzI,SAAA,CAAA1B,EAAAA,IAAC,MAAA,CAAI,UAAW,mBAAiB6B,EAAAH,EAAG,UAAH,YAAAG,EAAY,SAAU,KAAO,UAAY,SAAS,EAAA,CAAI,EACvF5B,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAD,EAAAA,IAAC,QAAK,UAAU,UAAW,eAAG,wBAAS,cAAe0B,EAAG,WAAA,CAAY,EACpEA,EAAG,SAAWzB,OAAC,OAAA,CAAK,UAAU,UAAW,SAAA,EAAA+B,EAAAN,EAAG,QAAQ,OAAX,YAAAM,EAAiB,KAAK,MAAM,MAAIN,EAAG,QAAQ,KAAA,CAAA,CAAM,CAAA,CAAA,CAC7F,CAAA,GALWA,EAAG,WAMhB,EACD,CAAA,CAEL,CAAA,EACF,QACC,OAAA,CAAK,UAAU,UACb,SAAAd,GAAYkB,EACX7B,EAAAA,KAAAgC,EAAAA,SAAA,CACE,SAAA,CAAAhC,EAAAA,KAAC,SAAA,CAAO,UAAU,cAChB,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAI,WAAA6B,EAAAC,EAAQ,UAAR,YAAAD,EAAiB,cAAejB,EAAS,EAC7CkB,EAAQ,SAAW7B,OAAC,IAAA,CAAE,UAAU,mBAAmB,SAAA,CAAA,OAAK6B,EAAQ,QAAQ,gBAAgB,cAAWF,EAAAE,EAAQ,QAAQ,OAAhB,YAAAF,EAAsB,KAAK,MAAM,MAAG5B,EAAAA,IAAC,OAAA,CAAK,UAAW,cAAc8B,EAAQ,QAAQ,QAAU,KAAO,UAAY,SAAS,GAAK,SAAAA,EAAQ,QAAQ,KAAA,CAAM,CAAA,CAAA,CAAO,CAAA,EACjQ,EACA7B,EAAAA,KAAC,SAAA,CAAO,UAAU,cAAc,QAASkB,EAAS,SAAA,CAAAnB,EAAAA,IAAC,OAAI,MAAM,6BAA6B,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAa,EAAG,SAAAA,EAAAA,IAAC,QAAK,cAAc,QAAQ,eAAe,QAAQ,EAAE,sKAAsK,CAAA,CAAE,EAAOS,EAAQ,iBAAiB,CAAA,CAAA,CAAE,CAAA,EACja,QACC,MAAA,CAAI,UAAU,iBAAiB,SAAAT,EAAAA,IAAC,OAAI,UAAU,YAAa,SAAAkB,EAAK,IAAKgB,GAASlC,EAAAA,IAAC,SAAA,CAAoB,UAAW,WAAWc,IAAcoB,EAAI,GAAK,SAAW,EAAE,GAAI,QAAS,IAAMnB,EAAamB,EAAI,EAAE,EAAI,SAAApD,EAAEoD,EAAI,QAAQ,CAAA,EAA1HA,EAAI,EAAwH,CAAU,EAAE,EAAM,EAC1OlC,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAe,YAAU,CAAE,CAAA,CAAA,CAC5C,EACGC,EAAAA,KAAC,MAAA,CAAI,UAAU,eAAe,SAAA,CAAAD,EAAAA,IAAC,OAAI,MAAM,6BAA6B,KAAK,OAAO,QAAQ,YAAY,YAAa,IAAK,OAAO,eAAe,SAAAA,EAAAA,IAAC,QAAK,cAAc,QAAQ,eAAe,QAAQ,EAAE,6EAA6E,CAAA,CAAE,EAAMA,EAAAA,IAAC,IAAA,CAAG,SAAAlB,EAAE,UAAU,CAAA,CAAE,CAAA,CAAA,CAAI,CAAA,CACrT,CAAA,EACF,CAEJ"}