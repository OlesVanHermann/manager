import{u as p,j as s,r as l}from"./index-svQWOpff.js";import{o as j}from"./api.service-CIh7kdHI.js";/* empty css               */class q{async listHostings(){return j.get("/hosting/web")}async getHosting(e){return j.get(`/hosting/web/${e}`)}async getServiceInfos(e){return j.get(`/hosting/web/${e}/serviceInfos`)}async listAttachedDomains(e){return j.get(`/hosting/web/${e}/attachedDomain`)}async getAttachedDomain(e,a){return j.get(`/hosting/web/${e}/attachedDomain/${a}`)}async listFtpUsers(e){return j.get(`/hosting/web/${e}/user`)}async getFtpUser(e,a){return j.get(`/hosting/web/${e}/user/${a}`)}async listDatabases(e){return j.get(`/hosting/web/${e}/database`)}async getDatabase(e,a){return j.get(`/hosting/web/${e}/database/${a}`)}async listCronJobs(e){return j.get(`/hosting/web/${e}/cron`)}async getCronJob(e,a){return j.get(`/hosting/web/${e}/cron/${a}`)}async getSslCertificate(e){try{return await j.get(`/hosting/web/${e}/ssl`)}catch{return null}}async listRuntimes(e){return j.get(`/hosting/web/${e}/runtime`)}async getRuntime(e,a){return j.get(`/hosting/web/${e}/runtime/${a}`)}async listEnvVars(e){return j.get(`/hosting/web/${e}/envVar`)}async getEnvVar(e,a){return j.get(`/hosting/web/${e}/envVar/${a}`)}async getEmailOption(e){try{return await j.get(`/hosting/web/${e}/email`)}catch{return null}}async listModules(e){return j.get(`/hosting/web/${e}/module`)}async getModule(e,a){return j.get(`/hosting/web/${e}/module/${a}`)}async listTasks(e,a){let x=`/hosting/web/${e}/tasks`;return a&&(x+=`?status=${a}`),j.get(x)}async getTask(e,a){return j.get(`/hosting/web/${e}/tasks/${a}`)}}const g=new q;function B({serviceName:i,details:e,serviceInfos:a,loading:x}){const{t:n}=p("web-cloud/hosting/index");if(x)return s.jsxs("div",{className:"tab-loading",children:[s.jsx("div",{className:"skeleton-block"}),s.jsx("div",{className:"skeleton-block"})]});const d=m=>m?m.unit==="MB"?`${(m.value/1024).toFixed(2)} GB`:m.unit==="GB"?`${m.value} GB`:`${m.value} ${m.unit}`:"-",h=e!=null&&e.quotaSize&&(e!=null&&e.quotaUsed)?Math.round(e.quotaUsed.value/e.quotaSize.value*100):0;return s.jsxs("div",{className:"general-tab",children:[s.jsxs("section",{className:"info-section",children:[s.jsx("h3",{children:n("generalInfo.title")}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.serviceName")}),s.jsx("span",{className:"font-mono",children:i})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.offer")}),s.jsx("span",{className:"badge success",children:e.offer})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.state")}),s.jsxs("span",{className:`badge ${e.state==="active"?"success":"warning"}`,children:[e.state==="active"?"âœ“ ":"âš  ",n(`state.${e.state}`)]})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.cluster")}),s.jsx("span",{children:e.cluster})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.ip")}),s.jsx("span",{className:"font-mono",children:e.hostingIp})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.ipv6")}),s.jsx("span",{className:"font-mono",children:e.hostingIpv6||"-"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.os")}),s.jsx("span",{children:e.operatingSystem})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("generalInfo.home")}),s.jsx("span",{className:"font-mono",children:e.home})]})]})]})]}),e&&s.jsxs("section",{className:"info-section",children:[s.jsx("h3",{children:n("quotaInfo.title")}),s.jsxs("div",{className:"quota-display",children:[s.jsx("div",{className:"quota-bar",children:s.jsx("div",{className:"quota-fill",style:{width:`${Math.min(h,100)}%`}})}),s.jsxs("div",{className:"quota-text",children:[s.jsxs("span",{children:[d(e.quotaUsed)," / ",d(e.quotaSize)]}),s.jsxs("span",{className:h>90?"warning":"",children:[h,"%"]})]})]}),s.jsxs("div",{className:"info-grid",style:{marginTop:"var(--space-4)"},children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("quotaInfo.cdn")}),s.jsx("span",{className:`badge ${e.hasCdn?"success":"inactive"}`,children:e.hasCdn?"âœ“ Actif":"âœ— Inactif"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("quotaInfo.ssl")}),s.jsx("span",{className:`badge ${e.hasHostedSsl?"success":"inactive"}`,children:e.hasHostedSsl?"âœ“ Actif":"âœ— Inactif"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("quotaInfo.boost")}),s.jsx("span",{children:e.boostOffer||"-"})]})]})]}),a&&s.jsxs("section",{className:"info-section",children:[s.jsx("h3",{children:n("serviceInfo.title")}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("serviceInfo.creation")}),s.jsx("span",{children:new Date(a.creation).toLocaleDateString()})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("serviceInfo.expiration")}),s.jsx("span",{className:H(a.expiration)?"expiring":"",children:new Date(a.expiration).toLocaleDateString()})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:n("serviceInfo.autoRenew")}),s.jsx("span",{className:`badge ${a.renew.automatic?"success":"warning"}`,children:a.renew.automatic?"âœ“ Actif":"âœ— Inactif"})]})]})]})]})}function H(i){return(new Date(i).getTime()-Date.now())/864e5<30}function P({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);return l.useEffect(()=>{(async()=>{try{d(!0);const c=await g.listAttachedDomains(i),r=await Promise.all(c.map(u=>g.getAttachedDomain(i,u)));x(r)}catch(c){m(String(c))}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"multisite-tab",children:[s.jsxs("div",{className:"tab-header",children:[s.jsxs("div",{children:[s.jsx("h3",{children:e("multisite.title")}),s.jsx("p",{className:"tab-description",children:e("multisite.description")})]}),s.jsxs("span",{className:"records-count",children:[a.length," ",e("multisite.domains")]})]}),a.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:e("multisite.empty")})}):s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("multisite.domain")}),s.jsx("th",{children:e("multisite.path")}),s.jsx("th",{children:e("multisite.ssl")}),s.jsx("th",{children:e("multisite.cdn")}),s.jsx("th",{children:e("multisite.firewall")}),s.jsx("th",{children:e("multisite.status")})]})}),s.jsx("tbody",{children:a.map(t=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-mono",children:t.domain}),s.jsx("td",{className:"font-mono",children:t.path}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.ssl?"success":"inactive"}`,children:t.ssl?"âœ“":"âœ—"})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.cdn==="active"?"success":"inactive"}`,children:t.cdn})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.firewall==="active"?"success":"inactive"}`,children:t.firewall})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.status==="created"?"success":"warning"}`,children:t.status})})]},t.domain))})]})]})}function A({serviceName:i,details:e}){var c,r,u,f;const{t:a}=p("web-cloud/hosting/index"),[x,n]=l.useState([]),[d,h]=l.useState(!0),[m,t]=l.useState(null);return l.useEffect(()=>{(async()=>{try{h(!0);const w=await g.listFtpUsers(i),y=await Promise.all(w.map(S=>g.getFtpUser(i,S)));n(y)}catch(w){t(String(w))}finally{h(!1)}})()},[i]),d?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):m?s.jsx("div",{className:"error-state",children:m}):s.jsxs("div",{className:"ftp-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:a("ftp.title")}),s.jsx("p",{className:"tab-description",children:a("ftp.description")})]})}),e&&s.jsxs("div",{className:"connection-info",children:[s.jsx("h4",{children:a("ftp.connectionInfo")}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:a("ftp.server")}),s.jsxs("span",{className:"font-mono",children:["ftp.cluster0",e.cluster,".hosting.ovh.net"]})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:a("ftp.port")}),s.jsx("span",{className:"font-mono",children:((r=(c=e.serviceManagementAccess)==null?void 0:c.ftp)==null?void 0:r.port)||21})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:a("ftp.sshPort")}),s.jsx("span",{className:"font-mono",children:((f=(u=e.serviceManagementAccess)==null?void 0:u.ssh)==null?void 0:f.port)||22})]})]})]}),x.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:a("ftp.empty")})}):s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:a("ftp.login")}),s.jsx("th",{children:a("ftp.home")}),s.jsx("th",{children:a("ftp.state")}),s.jsx("th",{children:a("ftp.ssh")}),s.jsx("th",{children:a("ftp.primary")})]})}),s.jsx("tbody",{children:x.map(v=>{var w,y;return s.jsxs("tr",{children:[s.jsx("td",{className:"font-mono",children:v.login}),s.jsx("td",{className:"font-mono",children:v.home}),s.jsx("td",{children:s.jsx("span",{className:`badge ${v.state==="rw"?"success":v.state==="read"?"info":"inactive"}`,children:v.state})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${(w=v.serviceManagementCredentials)!=null&&w.ssh?"success":"inactive"}`,children:(y=v.serviceManagementCredentials)!=null&&y.ssh?"âœ“":"âœ—"})}),s.jsx("td",{children:v.isPrimaryAccount?"â˜…":""})]},v.login)})})]})]})}function U({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);l.useEffect(()=>{(async()=>{try{d(!0);const u=await g.listDatabases(i),f=await Promise.all(u.map(v=>g.getDatabase(i,v)));x(f)}catch(u){m(String(u))}finally{d(!1)}})()},[i]);const t=r=>r.unit==="MB"?`${r.value} MB`:`${r.value} ${r.unit}`,c=(r,u)=>Math.round(r.value/u.value*100);return n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"database-tab",children:[s.jsxs("div",{className:"tab-header",children:[s.jsxs("div",{children:[s.jsx("h3",{children:e("database.title")}),s.jsx("p",{className:"tab-description",children:e("database.description")})]}),s.jsxs("span",{className:"records-count",children:[a.length," ",e("database.count")]})]}),a.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:e("database.empty")})}):s.jsx("div",{className:"database-cards",children:a.map(r=>s.jsxs("div",{className:"database-card",children:[s.jsxs("div",{className:"db-header",children:[s.jsx("span",{className:`db-type type-${r.type}`,children:r.type}),s.jsx("span",{className:`badge ${r.state==="activated"?"success":"warning"}`,children:r.state})]}),s.jsx("h4",{className:"font-mono",children:r.name}),s.jsxs("div",{className:"db-info",children:[s.jsxs("div",{children:[s.jsx("label",{children:e("database.server")}),s.jsxs("span",{className:"font-mono",children:[r.server,":",r.port]})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("database.user")}),s.jsx("span",{className:"font-mono",children:r.user})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("database.version")}),s.jsx("span",{children:r.version})]})]}),s.jsxs("div",{className:"quota-mini",children:[s.jsx("div",{className:"quota-bar",children:s.jsx("div",{className:"quota-fill",style:{width:`${c(r.quotaUsed,r.quotaSize)}%`}})}),s.jsxs("span",{children:[t(r.quotaUsed)," / ",t(r.quotaSize)]})]})]},r.name))})]})}function V({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);return l.useEffect(()=>{(async()=>{try{d(!0);const c=await g.listCronJobs(i),r=await Promise.all(c.map(u=>g.getCronJob(i,u)));x(r)}catch(c){m(String(c))}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"cron-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:e("cron.title")}),s.jsx("p",{className:"tab-description",children:e("cron.description")})]})}),a.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{children:e("cron.empty")})]}):s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("cron.command")}),s.jsx("th",{children:e("cron.frequency")}),s.jsx("th",{children:e("cron.language")}),s.jsx("th",{children:e("cron.email")}),s.jsx("th",{children:e("cron.status")})]})}),s.jsx("tbody",{children:a.map(t=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-mono command-cell",children:t.command}),s.jsx("td",{className:"font-mono",children:t.frequency}),s.jsx("td",{children:s.jsx("span",{className:"badge info",children:t.language})}),s.jsx("td",{children:t.email||"-"}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.status==="enabled"?"success":t.status==="disabled"?"inactive":"warning"}`,children:t.status})})]},t.id))})]})]})}function z({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState(null),[n,d]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{d(!0);const m=await g.getSslCertificate(i);x(m)}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):s.jsxs("div",{className:"ssl-tab",children:[s.jsxs("div",{className:"tab-header",children:[s.jsx("h3",{children:e("ssl.title")}),s.jsx("p",{className:"tab-description",children:e("ssl.description")})]}),a?s.jsxs("div",{className:"ssl-card",children:[s.jsxs("div",{className:"ssl-status",children:[s.jsx("div",{className:"status-icon enabled",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}),s.jsxs("div",{className:"status-text",children:[s.jsx("span",{className:"status-label enabled",children:e("ssl.active")}),s.jsxs("span",{className:"status-description",children:[e("ssl.provider"),": ",a.provider]})]})]}),s.jsxs("div",{className:"ssl-details",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:e("ssl.type")}),s.jsx("span",{className:"badge success",children:a.type})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:e("ssl.status")}),s.jsx("span",{className:"badge info",children:a.status})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:e("ssl.regenerable")}),s.jsx("span",{children:a.regenerable?"âœ“":"âœ—"})]})]})]}):s.jsx("div",{className:"ssl-card inactive",children:s.jsxs("div",{className:"ssl-status",children:[s.jsx("div",{className:"status-icon disabled",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}),s.jsxs("div",{className:"status-text",children:[s.jsx("span",{className:"status-label disabled",children:e("ssl.inactive")}),s.jsx("span",{className:"status-description",children:e("ssl.noSsl")})]})]})}),s.jsxs("div",{className:"info-box",children:[s.jsx("h4",{children:e("ssl.whatIs")}),s.jsx("p",{children:e("ssl.explanation")})]})]})}function K({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);return l.useEffect(()=>{(async()=>{try{d(!0);const c=await g.listRuntimes(i),r=await Promise.all(c.map(u=>g.getRuntime(i,u)));x(r)}catch(c){m(String(c))}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"runtimes-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:e("runtimes.title")}),s.jsx("p",{className:"tab-description",children:e("runtimes.description")})]})}),a.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:e("runtimes.empty")})}):s.jsx("div",{className:"runtime-cards",children:a.map(t=>s.jsxs("div",{className:`runtime-card ${t.isDefault?"default":""}`,children:[t.isDefault&&s.jsx("span",{className:"default-badge",children:e("runtimes.default")}),s.jsx("div",{className:"runtime-type",children:s.jsx("span",{className:`badge ${t.type==="phpfpm"?"info":"success"}`,children:t.type})}),s.jsx("h4",{children:t.name}),s.jsxs("div",{className:"runtime-info",children:[s.jsxs("div",{children:[s.jsx("label",{children:e("runtimes.publicDir")}),s.jsx("span",{className:"font-mono",children:t.publicDir})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("runtimes.appEnv")}),s.jsx("span",{children:t.appEnv||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("runtimes.bootstrap")}),s.jsx("span",{className:"font-mono",children:t.appBootstrap||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("runtimes.status")}),s.jsx("span",{className:`badge ${t.status==="active"?"success":"inactive"}`,children:t.status})]})]})]},t.id))})]})}function W({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);return l.useEffect(()=>{(async()=>{try{d(!0);const c=await g.listEnvVars(i),r=await Promise.all(c.map(u=>g.getEnvVar(i,u)));x(r)}catch(c){m(String(c))}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"envvars-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:e("envvars.title")}),s.jsx("p",{className:"tab-description",children:e("envvars.description")})]})}),a.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})}),s.jsx("p",{children:e("envvars.empty")}),s.jsx("span",{className:"empty-hint",children:e("envvars.emptyHint")})]}):s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("envvars.key")}),s.jsx("th",{children:e("envvars.value")}),s.jsx("th",{children:e("envvars.type")}),s.jsx("th",{children:e("envvars.status")})]})}),s.jsx("tbody",{children:a.map(t=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-mono",children:t.key}),s.jsx("td",{className:"font-mono",children:t.type==="password"?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":t.value}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.type==="password"?"warning":"info"}`,children:t.type})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${t.status==="active"?"success":"error"}`,children:t.status})})]},t.key))})]})]})}function F({serviceName:i,details:e}){const{t:a}=p("web-cloud/hosting/index"),x=e?`https://logs.cluster0${e.cluster}.hosting.ovh.net/${i}/`:null,n=e?`https://logs.cluster0${e.cluster}.hosting.ovh.net/${i}/statistics/`:null;return s.jsxs("div",{className:"logs-tab",children:[s.jsxs("div",{className:"tab-header",children:[s.jsx("h3",{children:a("logs.title")}),s.jsx("p",{className:"tab-description",children:a("logs.description")})]}),s.jsxs("div",{className:"logs-cards",children:[s.jsxs("a",{href:x||"#",target:"_blank",rel:"noopener noreferrer",className:"logs-card",children:[s.jsx("div",{className:"logs-icon",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),s.jsx("h4",{children:a("logs.rawLogs")}),s.jsx("p",{children:a("logs.rawLogsDesc")})]}),s.jsxs("a",{href:n||"#",target:"_blank",rel:"noopener noreferrer",className:"logs-card",children:[s.jsx("div",{className:"logs-icon",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})}),s.jsx("h4",{children:a("logs.statistics")}),s.jsx("p",{children:a("logs.statisticsDesc")})]})]}),s.jsxs("div",{className:"info-box",children:[s.jsx("h4",{children:a("logs.access")}),s.jsx("p",{children:a("logs.accessInfo")})]})]})}function R({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState(null),[n,d]=l.useState(!0);if(l.useEffect(()=>{(async()=>{try{d(!0);const t=await g.getEmailOption(i);x(t)}finally{d(!1)}})()},[i]),n)return s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})});const h=m=>{const c={normal:{class:"success",label:e("emails.statusNormal")},bounce:{class:"warning",label:e("emails.statusBounce")},spam:{class:"error",label:e("emails.statusSpam")},suspend:{class:"error",label:e("emails.statusSuspend")},force:{class:"info",label:e("emails.statusForce")},none:{class:"inactive",label:e("emails.statusNone")}}[m]||{class:"inactive",label:m};return s.jsx("span",{className:`badge ${c.class}`,children:c.label})};return s.jsxs("div",{className:"emails-tab",children:[s.jsxs("div",{className:"tab-header",children:[s.jsx("h3",{children:e("emails.title")}),s.jsx("p",{className:"tab-description",children:e("emails.description")})]}),a?s.jsxs("div",{className:"email-card",children:[s.jsxs("div",{className:"email-status",children:[s.jsx("div",{className:`status-icon ${a.status==="normal"?"enabled":"disabled"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),s.jsxs("div",{className:"status-text",children:[s.jsx("span",{className:"status-label",children:a.domain}),h(a.status)]})]}),a.quota&&s.jsxs("div",{className:"email-quota",children:[s.jsx("label",{children:e("emails.quota")}),s.jsxs("span",{children:[a.quota.value," ",a.quota.unit]})]})]}):s.jsxs("div",{className:"empty-state",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75"})}),s.jsx("p",{children:e("emails.noEmail")})]}),s.jsxs("div",{className:"info-box",children:[s.jsx("h4",{children:e("emails.info")}),s.jsx("p",{children:e("emails.infoDesc")})]})]})}function Q({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);return l.useEffect(()=>{(async()=>{try{d(!0);const c=await g.listModules(i),r=await Promise.all(c.map(u=>g.getModule(i,u)));x(r)}catch(c){m(String(c))}finally{d(!1)}})()},[i]),n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"modules-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:e("modules.title")}),s.jsx("p",{className:"tab-description",children:e("modules.description")})]})}),a.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),s.jsx("p",{children:e("modules.empty")}),s.jsx("span",{className:"empty-hint",children:e("modules.emptyHint")})]}):s.jsx("div",{className:"module-cards",children:a.map(t=>s.jsxs("div",{className:"module-card",children:[s.jsx("div",{className:"module-header",children:s.jsx("span",{className:`badge ${t.status==="created"?"success":t.status==="error"?"error":"warning"}`,children:t.status})}),s.jsx("h4",{children:t.adminName}),s.jsxs("div",{className:"module-info",children:[s.jsxs("div",{children:[s.jsx("label",{children:e("modules.folder")}),s.jsx("span",{className:"font-mono",children:t.adminFolder})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("modules.url")}),s.jsx("a",{href:t.targetUrl,target:"_blank",rel:"noopener noreferrer",className:"font-mono",children:t.targetUrl})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("modules.language")}),s.jsx("span",{children:t.language})]}),s.jsxs("div",{children:[s.jsx("label",{children:e("modules.created")}),s.jsx("span",{children:new Date(t.creationDate).toLocaleDateString()})]})]})]},t.id))})]})}function G({serviceName:i}){const{t:e}=p("web-cloud/hosting/index"),[a,x]=l.useState([]),[n,d]=l.useState(!0),[h,m]=l.useState(null);l.useEffect(()=>{(async()=>{try{d(!0);const r=await g.listTasks(i),u=await Promise.all(r.slice(0,50).map(f=>g.getTask(i,f)));u.sort((f,v)=>new Date(v.startDate).getTime()-new Date(f.startDate).getTime()),x(u)}catch(r){m(String(r))}finally{d(!1)}})()},[i]);const t=c=>{const u={todo:{class:"warning",icon:"â³"},init:{class:"info",icon:"ðŸ”„"},doing:{class:"info",icon:"ðŸ”„"},done:{class:"success",icon:"âœ“"},error:{class:"error",icon:"âœ—"},cancelled:{class:"inactive",icon:"âŠ˜"}}[c]||{class:"inactive",icon:"?"};return s.jsxs("span",{className:`badge ${u.class}`,children:[u.icon," ",c]})};return n?s.jsx("div",{className:"tab-loading",children:s.jsx("div",{className:"skeleton-block"})}):h?s.jsx("div",{className:"error-state",children:h}):s.jsxs("div",{className:"tasks-tab",children:[s.jsx("div",{className:"tab-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:e("tasks.title")}),s.jsx("p",{className:"tab-description",children:e("tasks.description")})]})}),a.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{children:e("tasks.empty")})]}):s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("tasks.function")}),s.jsx("th",{children:e("tasks.status")}),s.jsx("th",{children:e("tasks.started")}),s.jsx("th",{children:e("tasks.finished")})]})}),s.jsx("tbody",{children:a.map(c=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-mono",children:c.function}),s.jsx("td",{children:t(c.status)}),s.jsx("td",{children:new Date(c.startDate).toLocaleString()}),s.jsx("td",{children:c.doneDate?new Date(c.doneDate).toLocaleString():"-"})]},c.id))})]})]})}function X(){const{t:i}=p("web-cloud/hosting/index"),{t:e}=p("common"),[a,x]=l.useState([]),[n,d]=l.useState(null),[h,m]=l.useState("general"),[t,c]=l.useState(!0),[r,u]=l.useState(null),[f,v]=l.useState(""),w=[{id:"general",labelKey:"tabs.general"},{id:"multisite",labelKey:"tabs.multisite"},{id:"ftp",labelKey:"tabs.ftp"},{id:"database",labelKey:"tabs.database"},{id:"cron",labelKey:"tabs.cron"},{id:"modules",labelKey:"tabs.modules"},{id:"ssl",labelKey:"tabs.ssl"},{id:"runtimes",labelKey:"tabs.runtimes"},{id:"envvars",labelKey:"tabs.envvars"},{id:"logs",labelKey:"tabs.logs"},{id:"emails",labelKey:"tabs.emails"},{id:"tasks",labelKey:"tabs.tasks"}],y=l.useCallback(async()=>{try{c(!0),u(null);const o=await g.listHostings(),$=o.map(N=>({serviceName:N,loading:!0}));x($),o.length>0&&!n&&d(o[0]);for(let N=0;N<o.length;N+=5){const T=o.slice(N,N+5);await Promise.all(T.map(async L=>{try{const[M,D]=await Promise.all([g.getHosting(L),g.getServiceInfos(L)]);x(k=>k.map(C=>C.serviceName===L?{...C,details:M,serviceInfos:D,loading:!1}:C))}catch(M){x(D=>D.map(k=>k.serviceName===L?{...k,loading:!1,error:String(M)}:k))}}))}}catch(o){u(String(o))}finally{c(!1)}},[n]);l.useEffect(()=>{y()},[]);const S=a.filter(o=>o.serviceName.toLowerCase().includes(f.toLowerCase())),b=a.find(o=>o.serviceName===n),I=()=>{if(!n||!b)return null;switch(h){case"general":return s.jsx(B,{serviceName:n,details:b.details,serviceInfos:b.serviceInfos,loading:b.loading});case"multisite":return s.jsx(P,{serviceName:n});case"ftp":return s.jsx(A,{serviceName:n,details:b.details});case"database":return s.jsx(U,{serviceName:n});case"cron":return s.jsx(V,{serviceName:n});case"modules":return s.jsx(Q,{serviceName:n});case"ssl":return s.jsx(z,{serviceName:n});case"runtimes":return s.jsx(K,{serviceName:n});case"envvars":return s.jsx(W,{serviceName:n});case"logs":return s.jsx(F,{serviceName:n,details:b.details});case"emails":return s.jsx(R,{serviceName:n});case"tasks":return s.jsx(G,{serviceName:n});default:return null}},E=o=>{var $,N;return!(($=o.details)!=null&&$.quotaSize)||!((N=o.details)!=null&&N.quotaUsed)?0:Math.round(o.details.quotaUsed.value/o.details.quotaSize.value*100)};return s.jsxs("div",{className:"hosting-page",children:[s.jsxs("aside",{className:"hosting-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h2",{children:i("title")}),s.jsx("span",{className:"hosting-count",children:a.length})]}),s.jsx("div",{className:"sidebar-search",children:s.jsx("input",{type:"text",placeholder:i("searchPlaceholder"),value:f,onChange:o=>v(o.target.value)})}),s.jsx("div",{className:"hosting-list",children:t&&a.length===0?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"skeleton-item"}),s.jsx("div",{className:"skeleton-item"}),s.jsx("div",{className:"skeleton-item"})]}):r?s.jsx("div",{className:"error-state",children:r}):S.length===0?s.jsx("div",{className:"empty-state",children:e("empty.title")}):S.map(o=>s.jsxs("button",{className:`hosting-item ${n===o.serviceName?"active":""}`,onClick:()=>d(o.serviceName),children:[s.jsx("div",{className:"hosting-icon",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228"})})}),s.jsxs("div",{className:"hosting-info",children:[s.jsx("span",{className:"hosting-name",children:o.serviceName}),o.loading?s.jsx("span",{className:"hosting-status loading",children:e("loading")}):o.details?s.jsx("span",{className:"hosting-offer",children:o.details.offer}):null]}),o.details&&s.jsx("div",{className:"quota-mini-badge",style:{"--percent":`${E(o)}%`},children:s.jsxs("span",{children:[E(o),"%"]})})]},o.serviceName))})]}),s.jsx("main",{className:"hosting-main",children:n&&b?s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"page-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:n}),b.details&&s.jsxs("p",{className:"page-description",children:[b.details.offer," | ",b.details.cluster," | ",b.details.state==="active"?"âœ“ Actif":"âš  "+b.details.state]})]}),s.jsxs("button",{className:"btn-refresh",onClick:y,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),e("actions.refresh")]})]}),s.jsx("div",{className:"tabs-container",children:s.jsx("div",{className:"tabs-list",children:w.map(o=>s.jsx("button",{className:`tab-btn ${h===o.id?"active":""}`,onClick:()=>m(o.id),children:i(o.labelKey)},o.id))})}),s.jsx("div",{className:"tab-content",children:I()})]}):s.jsxs("div",{className:"no-selection",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228"})}),s.jsx("p",{children:i("selectHosting")})]})})]})}export{X as default};
//# sourceMappingURL=index-DV3hZ0k9.js.map
