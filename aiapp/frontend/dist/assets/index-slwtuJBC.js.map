{"version":3,"file":"index-slwtuJBC.js","sources":["../../src/services/zimbra.service.ts","../../src/pages/web-cloud/zimbra/tabs/AccountsTab.tsx","../../src/pages/web-cloud/zimbra/tabs/DomainsTab.tsx","../../src/pages/web-cloud/zimbra/tabs/AliasesTab.tsx","../../src/pages/web-cloud/zimbra/tabs/TasksTab.tsx","../../src/pages/web-cloud/zimbra/index.tsx"],"sourcesContent":["// ============================================================\n// SERVICE ZIMBRA - Email collaboratif OVHcloud\n// ============================================================\n\nimport { ovhApi } from './api.service';\n\n// ============================================================\n// TYPES\n// ============================================================\n\nexport interface ZimbraService {\n  id: string;\n  offer: string;\n  status: 'creating' | 'deleting' | 'ok' | 'suspended';\n  lastUpdate: string;\n  numberOfDomains: number;\n  numberOfAccounts: number;\n  webmailUrl: string;\n}\n\nexport interface ZimbraServiceInfos {\n  serviceId: number;\n  creation: string;\n  expiration: string;\n  contactAdmin: string;\n  contactTech: string;\n  contactBilling: string;\n  status: string;\n  renew: { automatic: boolean; deleteAtExpiration: boolean; period: number | null };\n}\n\nexport interface ZimbraAccount {\n  id: string;\n  email: string;\n  displayName: string;\n  firstName: string;\n  lastName: string;\n  offer: string;\n  quota: { used: number; available: number };\n  status: 'creating' | 'deleting' | 'ok' | 'suspended';\n  lastLogonDate: string | null;\n  createdAt: string;\n}\n\nexport interface ZimbraDomain {\n  id: string;\n  name: string;\n  status: 'creating' | 'deleting' | 'ok' | 'suspended';\n  cnameToCheck: string | null;\n  mxRecords: string[];\n  type: 'authoritative' | 'nonAuthoritative';\n}\n\nexport interface ZimbraAlias {\n  id: string;\n  alias: string;\n  targetAccountId: string;\n  status: 'creating' | 'deleting' | 'ok';\n}\n\nexport interface ZimbraTask {\n  id: string;\n  type: string;\n  status: 'cancelled' | 'doing' | 'done' | 'error' | 'todo';\n  createdAt: string;\n  finishedAt: string | null;\n  message: string | null;\n}\n\n// ============================================================\n// SERVICE\n// ============================================================\n\nclass ZimbraService {\n  async listServices(): Promise<string[]> {\n    return ovhApi.get<string[]>('/email/zimbra');\n  }\n\n  async getService(serviceId: string): Promise<ZimbraService> {\n    return ovhApi.get<ZimbraService>(`/email/zimbra/${serviceId}`);\n  }\n\n  async getServiceInfos(serviceId: string): Promise<ZimbraServiceInfos> {\n    return ovhApi.get<ZimbraServiceInfos>(`/email/zimbra/${serviceId}/serviceInfos`);\n  }\n\n  // ---------- Accounts ----------\n  async listAccounts(serviceId: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/zimbra/${serviceId}/account`);\n  }\n\n  async getAccount(serviceId: string, accountId: string): Promise<ZimbraAccount> {\n    return ovhApi.get<ZimbraAccount>(`/email/zimbra/${serviceId}/account/${accountId}`);\n  }\n\n  // ---------- Domains ----------\n  async listDomains(serviceId: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/zimbra/${serviceId}/domain`);\n  }\n\n  async getDomain(serviceId: string, domainId: string): Promise<ZimbraDomain> {\n    return ovhApi.get<ZimbraDomain>(`/email/zimbra/${serviceId}/domain/${domainId}`);\n  }\n\n  // ---------- Aliases ----------\n  async listAliases(serviceId: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/zimbra/${serviceId}/alias`);\n  }\n\n  async getAlias(serviceId: string, aliasId: string): Promise<ZimbraAlias> {\n    return ovhApi.get<ZimbraAlias>(`/email/zimbra/${serviceId}/alias/${aliasId}`);\n  }\n\n  // ---------- Tasks ----------\n  async listTasks(serviceId: string): Promise<string[]> {\n    return ovhApi.get<string[]>(`/email/zimbra/${serviceId}/task`);\n  }\n\n  async getTask(serviceId: string, taskId: string): Promise<ZimbraTask> {\n    return ovhApi.get<ZimbraTask>(`/email/zimbra/${serviceId}/task/${taskId}`);\n  }\n}\n\nexport const zimbraService = new ZimbraService();\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { zimbraService, ZimbraAccount } from \"../../../../services/zimbra.service\";\n\ninterface Props { serviceId: string; }\n\nexport function AccountsTab({ serviceId }: Props) {\n  const { t } = useTranslation(\"web-cloud/zimbra/index\");\n  const [accounts, setAccounts] = useState<ZimbraAccount[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await zimbraService.listAccounts(serviceId);\n        const data: ZimbraAccount[] = [];\n        for (let i = 0; i < ids.length; i += 5) {\n          const batch = ids.slice(i, i + 5);\n          const results = await Promise.all(batch.map(id => zimbraService.getAccount(serviceId, id)));\n          data.push(...results);\n          setAccounts([...data]);\n        }\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceId]);\n\n  const formatQuota = (q: { used: number; available: number }) => `${(q.used / 1024 / 1024 / 1024).toFixed(2)} / ${(q.available / 1024 / 1024 / 1024).toFixed(0)} GB`;\n\n  if (loading && accounts.length === 0) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"accounts-tab\">\n      <div className=\"tab-header\"><h3>{t(\"accounts.title\")}</h3><span className=\"records-count\">{accounts.length}</span></div>\n      {accounts.length === 0 ? (<div className=\"empty-state\"><p>{t(\"accounts.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"accounts.email\")}</th><th>{t(\"accounts.name\")}</th><th>{t(\"accounts.offer\")}</th><th>{t(\"accounts.quota\")}</th><th>{t(\"accounts.lastLogin\")}</th><th>{t(\"accounts.status\")}</th></tr></thead>\n          <tbody>\n            {accounts.map(a => (\n              <tr key={a.id}>\n                <td className=\"font-mono\">{a.email}</td>\n                <td>{a.displayName || `${a.firstName} ${a.lastName}`}</td>\n                <td><span className=\"badge info\">{a.offer}</span></td>\n                <td>{formatQuota(a.quota)}</td>\n                <td>{a.lastLogonDate ? new Date(a.lastLogonDate).toLocaleDateString() : '-'}</td>\n                <td><span className={`badge ${a.status === 'ok' ? 'success' : 'warning'}`}>{a.status}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default AccountsTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { zimbraService, ZimbraDomain } from \"../../../../services/zimbra.service\";\n\ninterface Props { serviceId: string; }\n\nexport function DomainsTab({ serviceId }: Props) {\n  const { t } = useTranslation(\"web-cloud/zimbra/index\");\n  const [domains, setDomains] = useState<ZimbraDomain[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await zimbraService.listDomains(serviceId);\n        const data = await Promise.all(ids.map(id => zimbraService.getDomain(serviceId, id)));\n        setDomains(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceId]);\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"domains-tab\">\n      <div className=\"tab-header\"><h3>{t(\"domains.title\")}</h3></div>\n      {domains.length === 0 ? (<div className=\"empty-state\"><p>{t(\"domains.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"domains.name\")}</th><th>{t(\"domains.type\")}</th><th>{t(\"domains.status\")}</th></tr></thead>\n          <tbody>\n            {domains.map(d => (\n              <tr key={d.id}>\n                <td className=\"font-mono\">{d.name}</td>\n                <td>{d.type}</td>\n                <td><span className={`badge ${d.status === 'ok' ? 'success' : 'warning'}`}>{d.status}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default DomainsTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { zimbraService, ZimbraAlias } from \"../../../../services/zimbra.service\";\n\ninterface Props { serviceId: string; }\n\nexport function AliasesTab({ serviceId }: Props) {\n  const { t } = useTranslation(\"web-cloud/zimbra/index\");\n  const [aliases, setAliases] = useState<ZimbraAlias[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await zimbraService.listAliases(serviceId);\n        const data = await Promise.all(ids.map(id => zimbraService.getAlias(serviceId, id)));\n        setAliases(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceId]);\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"aliases-tab\">\n      <div className=\"tab-header\"><h3>{t(\"aliases.title\")}</h3></div>\n      {aliases.length === 0 ? (<div className=\"empty-state\"><p>{t(\"aliases.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"aliases.alias\")}</th><th>{t(\"aliases.target\")}</th><th>{t(\"aliases.status\")}</th></tr></thead>\n          <tbody>\n            {aliases.map(a => (\n              <tr key={a.id}>\n                <td className=\"font-mono\">{a.alias}</td>\n                <td className=\"font-mono\">{a.targetAccountId}</td>\n                <td><span className={`badge ${a.status === 'ok' ? 'success' : 'warning'}`}>{a.status}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default AliasesTab;\n","import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { zimbraService, ZimbraTask } from \"../../../../services/zimbra.service\";\n\ninterface Props { serviceId: string; }\n\nexport function TasksTab({ serviceId }: Props) {\n  const { t } = useTranslation(\"web-cloud/zimbra/index\");\n  const [tasks, setTasks] = useState<ZimbraTask[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const ids = await zimbraService.listTasks(serviceId);\n        const data = await Promise.all(ids.slice(0, 50).map(id => zimbraService.getTask(serviceId, id)));\n        data.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        setTasks(data);\n      } finally { setLoading(false); }\n    };\n    load();\n  }, [serviceId]);\n\n  if (loading) return <div className=\"tab-loading\"><div className=\"skeleton-block\" /></div>;\n\n  return (\n    <div className=\"tasks-tab\">\n      <div className=\"tab-header\"><h3>{t(\"tasks.title\")}</h3></div>\n      {tasks.length === 0 ? (<div className=\"empty-state\"><p>{t(\"tasks.empty\")}</p></div>) : (\n        <table className=\"data-table\">\n          <thead><tr><th>{t(\"tasks.type\")}</th><th>{t(\"tasks.status\")}</th><th>{t(\"tasks.created\")}</th><th>{t(\"tasks.message\")}</th></tr></thead>\n          <tbody>{tasks.map(task => (<tr key={task.id}><td className=\"font-mono\">{task.type}</td><td><span className={`badge ${task.status === 'done' ? 'success' : task.status === 'error' ? 'error' : 'warning'}`}>{task.status}</span></td><td>{new Date(task.createdAt).toLocaleString()}</td><td>{task.message || '-'}</td></tr>))}</tbody>\n        </table>\n      )}\n    </div>\n  );\n}\nexport default TasksTab;\n","// ============================================================\n// ZIMBRA - Page principale\n// ============================================================\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { zimbraService, ZimbraService as ZimbraServiceType } from \"../../../services/zimbra.service\";\nimport { AccountsTab, DomainsTab, AliasesTab, TasksTab } from \"./tabs\";\nimport \"../styles.css\";\n\ninterface Tab { id: string; labelKey: string; }\ninterface ServiceWithDetails { id: string; details?: ZimbraServiceType; loading: boolean; }\n\nexport default function ZimbraPage() {\n  const { t } = useTranslation(\"web-cloud/zimbra/index\");\n  const { t: tCommon } = useTranslation(\"common\");\n  const [services, setServices] = useState<ServiceWithDetails[]>([]);\n  const [selected, setSelected] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(\"accounts\");\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const tabs: Tab[] = [\n    { id: \"accounts\", labelKey: \"tabs.accounts\" },\n    { id: \"domains\", labelKey: \"tabs.domains\" },\n    { id: \"aliases\", labelKey: \"tabs.aliases\" },\n    { id: \"tasks\", labelKey: \"tabs.tasks\" },\n  ];\n\n  const loadServices = useCallback(async () => {\n    try {\n      setLoading(true);\n      const ids = await zimbraService.listServices();\n      const list: ServiceWithDetails[] = ids.map(id => ({ id, loading: true }));\n      setServices(list);\n      if (ids.length > 0 && !selected) setSelected(ids[0]);\n      for (const id of ids) {\n        try {\n          const details = await zimbraService.getService(id);\n          setServices(prev => prev.map(s => s.id === id ? { ...s, details, loading: false } : s));\n        } catch { setServices(prev => prev.map(s => s.id === id ? { ...s, loading: false } : s)); }\n      }\n    } finally { setLoading(false); }\n  }, [selected]);\n\n  useEffect(() => { loadServices(); }, []);\n\n  const filtered = services.filter(s => s.id.toLowerCase().includes(searchQuery.toLowerCase()));\n  const current = services.find(s => s.id === selected);\n\n  const renderTab = () => {\n    if (!selected) return null;\n    switch (activeTab) {\n      case \"accounts\": return <AccountsTab serviceId={selected} />;\n      case \"domains\": return <DomainsTab serviceId={selected} />;\n      case \"aliases\": return <AliasesTab serviceId={selected} />;\n      case \"tasks\": return <TasksTab serviceId={selected} />;\n      default: return null;\n    }\n  };\n\n  return (\n    <div className=\"email-page\">\n      <aside className=\"email-sidebar\">\n        <div className=\"sidebar-header\"><h2>{t(\"title\")}</h2><span className=\"count-badge\">{services.length}</span></div>\n        <div className=\"sidebar-search\"><input type=\"text\" placeholder={t(\"searchPlaceholder\")} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} /></div>\n        <div className=\"email-list\">\n          {loading && services.length === 0 ? (<div className=\"loading-state\"><div className=\"skeleton-item\" /></div>) : filtered.length === 0 ? (<div className=\"empty-state\">{tCommon(\"empty.title\")}</div>) : (\n            filtered.map((s) => (\n              <button key={s.id} className={`email-item ${selected === s.id ? \"active\" : \"\"}`} onClick={() => setSelected(s.id)}>\n                <div className=\"email-icon zimbra\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={1.5}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75\" /></svg></div>\n                <div className=\"email-info\"><span className=\"email-name\">{s.id}</span>{s.details && <span className=\"email-meta\">{s.details.offer} | {s.details.numberOfAccounts} comptes</span>}</div>\n              </button>\n            ))\n          )}\n        </div>\n      </aside>\n      <main className=\"email-main\">\n        {selected && current ? (\n          <>\n            <header className=\"page-header\">\n              <div><h1>{selected}</h1>{current.details && <p className=\"page-description\">Zimbra {current.details.offer} | {current.details.numberOfAccounts} comptes | {current.details.status}</p>}</div>\n              <button className=\"btn-refresh\" onClick={loadServices}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\" /></svg>{tCommon(\"actions.refresh\")}</button>\n            </header>\n            <div className=\"tabs-container\"><div className=\"tabs-list\">{tabs.map((tab) => (<button key={tab.id} className={`tab-btn ${activeTab === tab.id ? \"active\" : \"\"}`} onClick={() => setActiveTab(tab.id)}>{t(tab.labelKey)}</button>))}</div></div>\n            <div className=\"tab-content\">{renderTab()}</div>\n          </>\n        ) : (<div className=\"no-selection\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={1.5}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75\" /></svg><p>{t(\"selectService\")}</p></div>)}\n      </main>\n    </div>\n  );\n}\n"],"names":["ZimbraService","ovhApi","serviceId","accountId","domainId","aliasId","taskId","zimbraService","AccountsTab","t","useTranslation","accounts","setAccounts","useState","loading","setLoading","useEffect","ids","data","i","batch","results","id","formatQuota","q","jsx","jsxs","a","DomainsTab","domains","setDomains","d","AliasesTab","aliases","setAliases","TasksTab","tasks","setTasks","b","task","ZimbraPage","tCommon","services","setServices","selected","setSelected","activeTab","setActiveTab","searchQuery","setSearchQuery","tabs","loadServices","useCallback","list","details","prev","s","filtered","current","renderTab","e","Fragment","tab"],"mappings":"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"}