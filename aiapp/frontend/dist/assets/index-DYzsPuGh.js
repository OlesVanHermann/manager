import{u as N,j as e,r as i}from"./index-svQWOpff.js";import{o as p}from"./api.service-CIh7kdHI.js";/* empty css               */class M{async listDomains(){return p.get("/domain")}async getDomain(s){return p.get(`/domain/${s}`)}async getServiceInfos(s){return p.get(`/domain/${s}/serviceInfos`)}async listDnsServers(s){return p.get(`/domain/${s}/nameServer`)}async getDnsServer(s,n){return p.get(`/domain/${s}/nameServer/${n}`)}async listZoneRecords(s,n,l){let t=`/domain/zone/${s}/record`;const m=[];return n&&m.push(`fieldType=${n}`),l!==void 0&&m.push(`subDomain=${l}`),m.length&&(t+="?"+m.join("&")),p.get(t)}async getZoneRecord(s,n){return p.get(`/domain/zone/${s}/record/${n}`)}async createZoneRecord(s,n){return p.post(`/domain/zone/${s}/record`,n)}async updateZoneRecord(s,n,l){return p.put(`/domain/zone/${s}/record/${n}`,l)}async deleteZoneRecord(s,n){return p.delete(`/domain/zone/${s}/record/${n}`)}async refreshZone(s){return p.post(`/domain/zone/${s}/refresh`,{})}async listRedirections(s){return p.get(`/domain/${s}/redirection`)}async getRedirection(s,n){return p.get(`/domain/${s}/redirection/${n}`)}async getDnssecStatus(s){return p.get(`/domain/${s}/dnssec`)}async enableDnssec(s){return p.post(`/domain/${s}/dnssec`,{})}async disableDnssec(s){return p.delete(`/domain/${s}/dnssec`)}async listGlueRecords(s){return p.get(`/domain/${s}/glueRecord`)}async getGlueRecord(s,n){return p.get(`/domain/${s}/glueRecord/${n}`)}async listDynHostRecords(s){return p.get(`/domain/zone/${s}/dynHost/record`)}async getDynHostRecord(s,n){return p.get(`/domain/zone/${s}/dynHost/record/${n}`)}async listTasks(s,n){let l=`/domain/${s}/task`;return n&&(l+=`?status=${n}`),p.get(l)}async getTask(s,n){return p.get(`/domain/${s}/task/${n}`)}}const b=new M;function A({domain:a,details:s,serviceInfos:n,loading:l}){const{t}=N("web-cloud/domains/index");return l?e.jsxs("div",{className:"tab-loading",children:[e.jsx("div",{className:"skeleton-block"}),e.jsx("div",{className:"skeleton-block"})]}):e.jsxs("div",{className:"general-tab",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:t("generalInfo.title")}),e.jsxs("div",{className:"info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.domain")}),e.jsx("span",{children:a})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.offer")}),e.jsx("span",{children:s.offer})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.dnsType")}),e.jsx("span",{className:`badge ${s.nameServerType}`,children:s.nameServerType})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.transferLock")}),e.jsxs("span",{className:`badge ${s.transferLockStatus}`,children:[s.transferLockStatus==="locked"?"üîí ":"üîì ",s.transferLockStatus]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.owner")}),e.jsx("span",{children:s.whoisOwner})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("generalInfo.owoSupported")}),e.jsx("span",{className:`badge ${s.owoSupported?"success":"inactive"}`,children:s.owoSupported?"‚úì":"‚úó"})]})]})]})]}),n&&e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:t("serviceInfo.title")}),e.jsxs("div",{className:"info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.creation")}),e.jsx("span",{children:new Date(n.creation).toLocaleDateString()})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.expiration")}),e.jsxs("span",{className:E(n.expiration)?"expiring":"",children:[new Date(n.expiration).toLocaleDateString(),E(n.expiration)&&" ‚ö†Ô∏è"]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.autoRenew")}),e.jsx("span",{className:`badge ${n.renew.automatic?"success":"warning"}`,children:n.renew.automatic?"‚úì Actif":"‚úó Inactif"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.contactAdmin")}),e.jsx("span",{children:n.contactAdmin})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.contactTech")}),e.jsx("span",{children:n.contactTech})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:t("serviceInfo.contactBilling")}),e.jsx("span",{children:n.contactBilling})]})]})]})]})}function E(a){const s=new Date(a),n=new Date;return(s.getTime()-n.getTime())/(1e3*60*60*24)<30}function I({domain:a}){const{t:s}=N("web-cloud/domains/index"),[n,l]=i.useState([]),[t,m]=i.useState(!0),[u,j]=i.useState(null);return i.useEffect(()=>{(async()=>{try{m(!0),j(null);const d=await b.listDnsServers(a),o=await Promise.all(d.map(g=>b.getDnsServer(a,g)));l(o)}catch(d){j(String(d))}finally{m(!1)}})()},[a]),t?e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})}):u?e.jsx("div",{className:"error-state",children:u}):e.jsxs("div",{className:"dns-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("h3",{children:s("dns.title")}),e.jsx("p",{className:"tab-description",children:s("dns.description")})]}),n.length===0?e.jsx("div",{className:"empty-state",children:s("dns.empty")}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("dns.server")}),e.jsx("th",{children:s("dns.ip")}),e.jsx("th",{children:s("dns.status")})]})}),e.jsx("tbody",{children:n.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-mono",children:r.host}),e.jsx("td",{className:"font-mono",children:r.ip||"-"}),e.jsx("td",{children:e.jsx("span",{className:`badge ${r.isUsed?"success":"inactive"}`,children:r.isUsed?s("dns.active"):s("dns.inactive")})})]},r.id))})]})]})}const P=["A","AAAA","CNAME","MX","TXT","NS","SRV","CAA","DKIM","SPF","DMARC"];function B({domain:a}){const{t:s}=N("web-cloud/domains/index"),{t:n}=N("common"),[l,t]=i.useState([]),[m,u]=i.useState(!0),[j,r]=i.useState(null),[d,o]=i.useState(""),[g,h]=i.useState(""),[v,y]=i.useState(!1),f=i.useCallback(async()=>{try{u(!0),r(null);const x=await b.listZoneRecords(a,d||void 0,void 0),c=[];for(let D=0;D<x.length;D+=10){const k=x.slice(D,D+10),R=await Promise.all(k.map(L=>b.getZoneRecord(a,L)));c.push(...R),t([...c])}}catch(x){r(String(x))}finally{u(!1)}},[a,d]);i.useEffect(()=>{f()},[f]);const S=async()=>{try{y(!0),await b.refreshZone(a),await f()}catch(x){r(String(x))}finally{y(!1)}},w=l.filter(x=>!(g&&!x.subDomain.toLowerCase().includes(g.toLowerCase())));return m&&l.length===0?e.jsxs("div",{className:"tab-loading",children:[e.jsx("div",{className:"skeleton-block"}),e.jsx("div",{className:"skeleton-block"})]}):e.jsxs("div",{className:"zone-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:s("zone.title")}),e.jsx("p",{className:"tab-description",children:s("zone.description")})]}),e.jsx("button",{className:"btn-primary",onClick:S,disabled:v,children:v?n("loading"):s("zone.refresh")})]}),e.jsxs("div",{className:"filters-row",children:[e.jsxs("select",{value:d,onChange:x=>o(x.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:s("zone.allTypes")}),P.map(x=>e.jsx("option",{value:x,children:x},x))]}),e.jsx("input",{type:"text",placeholder:s("zone.filterSubdomain"),value:g,onChange:x=>h(x.target.value),className:"filter-input"}),e.jsxs("span",{className:"records-count",children:[w.length," ",s("zone.records")]})]}),j&&e.jsx("div",{className:"error-banner",children:j}),w.length===0?e.jsx("div",{className:"empty-state",children:s("zone.empty")}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("zone.type")}),e.jsx("th",{children:s("zone.subdomain")}),e.jsx("th",{children:s("zone.target")}),e.jsx("th",{children:s("zone.ttl")})]})}),e.jsx("tbody",{children:w.map(x=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:`record-type type-${x.fieldType.toLowerCase()}`,children:x.fieldType})}),e.jsx("td",{className:"font-mono",children:x.subDomain||"@"}),e.jsx("td",{className:"font-mono target-cell",children:x.target}),e.jsxs("td",{children:[x.ttl,"s"]})]},x.id))})]})]})}function H({domain:a}){const{t:s}=N("web-cloud/domains/index"),[n,l]=i.useState([]),[t,m]=i.useState(!0),[u,j]=i.useState(null);if(i.useEffect(()=>{(async()=>{try{m(!0),j(null);const g=await b.listRedirections(a),h=await Promise.all(g.map(v=>b.getRedirection(a,v)));l(h)}catch(g){j(String(g))}finally{m(!1)}})()},[a]),t)return e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})});if(u)return e.jsx("div",{className:"error-state",children:u});const r=o=>{switch(o){case"visible":return s("redirection.typeVisible");case"visiblePermanent":return s("redirection.typePermanent");case"invisible":return s("redirection.typeInvisible");default:return o}},d=o=>{switch(o){case"visible":return"info";case"visiblePermanent":return"success";case"invisible":return"warning";default:return""}};return e.jsxs("div",{className:"redirection-tab",children:[e.jsx("div",{className:"tab-header",children:e.jsxs("div",{children:[e.jsx("h3",{children:s("redirection.title")}),e.jsx("p",{className:"tab-description",children:s("redirection.description")})]})}),n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),e.jsx("p",{children:s("redirection.empty")})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("redirection.subdomain")}),e.jsx("th",{children:s("redirection.target")}),e.jsx("th",{children:s("redirection.type")}),e.jsx("th",{children:s("redirection.title")})]})}),e.jsx("tbody",{children:n.map(o=>e.jsxs("tr",{children:[e.jsxs("td",{className:"font-mono",children:[o.subDomain||"@",".",a]}),e.jsx("td",{className:"font-mono target-cell",children:e.jsx("a",{href:o.target,target:"_blank",rel:"noopener noreferrer",children:o.target})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${d(o.type)}`,children:r(o.type)})}),e.jsx("td",{children:o.title||"-"})]},o.id))})]})]})}function Z({domain:a}){const{t:s}=N("web-cloud/domains/index"),{t:n}=N("common"),[l,t]=i.useState(null),[m,u]=i.useState(!0),[j,r]=i.useState(null),[d,o]=i.useState(!1);i.useEffect(()=>{(async()=>{try{u(!0),r(null);const f=await b.getDnssecStatus(a);t(f.status)}catch{t("unsupported")}finally{u(!1)}})()},[a]);const g=async()=>{try{o(!0),r(null),l==="enabled"?(await b.disableDnssec(a),t("disabled")):(await b.enableDnssec(a),t("enabled"))}catch(y){r(String(y))}finally{o(!1)}};if(m)return e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})});const h=l==="enabled",v=l!=="unsupported";return e.jsxs("div",{className:"dnssec-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("h3",{children:s("dnssec.title")}),e.jsx("p",{className:"tab-description",children:s("dnssec.description")})]}),j&&e.jsx("div",{className:"error-banner",children:j}),e.jsxs("div",{className:"dnssec-card",children:[e.jsxs("div",{className:"dnssec-status",children:[e.jsx("div",{className:`status-icon ${h?"enabled":"disabled"}`,children:h?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})})}),e.jsxs("div",{className:"status-text",children:[e.jsx("span",{className:`status-label ${h?"enabled":"disabled"}`,children:s(h?"dnssec.enabled":"dnssec.disabled")}),e.jsx("span",{className:"status-description",children:s(h?"dnssec.enabledDesc":"dnssec.disabledDesc")})]})]}),v&&e.jsx("button",{className:`btn-toggle ${h?"btn-danger":"btn-success"}`,onClick:g,disabled:d,children:d?n("loading"):s(h?"dnssec.disable":"dnssec.enable")}),!v&&e.jsx("div",{className:"unsupported-message",children:s("dnssec.unsupported")})]}),e.jsxs("div",{className:"info-box",children:[e.jsx("h4",{children:s("dnssec.whatIs")}),e.jsx("p",{children:s("dnssec.explanation")})]})]})}function K({domain:a}){const{t:s}=N("web-cloud/domains/index"),[n,l]=i.useState([]),[t,m]=i.useState(!0),[u,j]=i.useState(null);return i.useEffect(()=>{(async()=>{try{m(!0),j(null);const d=await b.listGlueRecords(a),o=await Promise.all(d.map(g=>b.getGlueRecord(a,g)));l(o)}catch(d){j(String(d))}finally{m(!1)}})()},[a]),t?e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})}):u?e.jsx("div",{className:"error-state",children:u}):e.jsxs("div",{className:"glue-tab",children:[e.jsx("div",{className:"tab-header",children:e.jsxs("div",{children:[e.jsx("h3",{children:s("glue.title")}),e.jsx("p",{className:"tab-description",children:s("glue.description")})]})}),n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),e.jsx("p",{children:s("glue.empty")}),e.jsx("span",{className:"empty-hint",children:s("glue.emptyHint")})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("glue.host")}),e.jsx("th",{children:s("glue.ips")})]})}),e.jsx("tbody",{children:n.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-mono",children:r.host}),e.jsx("td",{className:"font-mono",children:r.ips.map((d,o)=>e.jsx("span",{className:"ip-badge",children:d},o))})]},r.host))})]}),e.jsxs("div",{className:"info-box",children:[e.jsx("h4",{children:s("glue.whatIs")}),e.jsx("p",{children:s("glue.explanation")})]})]})}function W({domain:a}){const{t:s}=N("web-cloud/domains/index"),[n,l]=i.useState([]),[t,m]=i.useState(!0),[u,j]=i.useState(null);return i.useEffect(()=>{(async()=>{try{m(!0),j(null);const d=await b.listDynHostRecords(a),o=await Promise.all(d.map(g=>b.getDynHostRecord(a,g)));l(o)}catch(d){j(String(d))}finally{m(!1)}})()},[a]),t?e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})}):u?e.jsx("div",{className:"error-state",children:u}):e.jsxs("div",{className:"dynhost-tab",children:[e.jsx("div",{className:"tab-header",children:e.jsxs("div",{children:[e.jsx("h3",{children:s("dynhost.title")}),e.jsx("p",{className:"tab-description",children:s("dynhost.description")})]})}),n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),e.jsx("p",{children:s("dynhost.empty")}),e.jsx("span",{className:"empty-hint",children:s("dynhost.emptyHint")})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("dynhost.subdomain")}),e.jsx("th",{children:s("dynhost.ip")}),e.jsx("th",{children:s("dynhost.login")})]})}),e.jsx("tbody",{children:n.map(r=>e.jsxs("tr",{children:[e.jsxs("td",{className:"font-mono",children:[r.subDomain||"@",".",r.zone]}),e.jsx("td",{className:"font-mono",children:e.jsx("span",{className:"ip-badge",children:r.ip})}),e.jsx("td",{children:r.login||"-"})]},r.id))})]}),e.jsxs("div",{className:"info-box",children:[e.jsx("h4",{children:s("dynhost.whatIs")}),e.jsx("p",{children:s("dynhost.explanation")}),e.jsx("div",{className:"code-block",children:e.jsxs("code",{children:['curl -X PUT "https://www.ovh.com/nic/update?system=dyndns&hostname=sub.',a,'&myip=YOUR_IP" -u "login:password"']})})]})]})}function G({domain:a}){const{t:s}=N("web-cloud/domains/index"),{t:n}=N("common"),[l,t]=i.useState([]),[m,u]=i.useState(!0),[j,r]=i.useState(null),[d,o]=i.useState("");i.useEffect(()=>{(async()=>{try{u(!0),r(null);const v=await b.listTasks(a,d||void 0),y=await Promise.all(v.map(f=>b.getTask(a,f)));y.sort((f,S)=>new Date(S.creationDate).getTime()-new Date(f.creationDate).getTime()),t(y)}catch(v){r(String(v))}finally{u(!1)}})()},[a,d]);const g=h=>{const v={todo:"warning",doing:"info",done:"success",error:"error",cancelled:"inactive"},y={todo:"‚è≥",doing:"üîÑ",done:"‚úì",error:"‚úó",cancelled:"‚äò"};return e.jsxs("span",{className:`badge ${v[h]||""}`,children:[y[h]," ",s(`tasks.status.${h}`)]})};return m?e.jsx("div",{className:"tab-loading",children:e.jsx("div",{className:"skeleton-block"})}):j?e.jsx("div",{className:"error-state",children:j}):e.jsxs("div",{className:"tasks-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:s("tasks.title")}),e.jsx("p",{className:"tab-description",children:s("tasks.description")})]}),e.jsxs("select",{value:d,onChange:h=>o(h.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:s("tasks.allStatuses")}),e.jsx("option",{value:"todo",children:s("tasks.status.todo")}),e.jsx("option",{value:"doing",children:s("tasks.status.doing")}),e.jsx("option",{value:"done",children:s("tasks.status.done")}),e.jsx("option",{value:"error",children:s("tasks.status.error")})]})]}),l.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{children:s("tasks.empty")})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("tasks.function")}),e.jsx("th",{children:s("tasks.status")}),e.jsx("th",{children:s("tasks.created")}),e.jsx("th",{children:s("tasks.updated")}),e.jsx("th",{children:s("tasks.comment")})]})}),e.jsx("tbody",{children:l.map(h=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-mono",children:h.function}),e.jsx("td",{children:g(h.status)}),e.jsx("td",{children:new Date(h.creationDate).toLocaleString()}),e.jsx("td",{children:new Date(h.lastUpdate).toLocaleString()}),e.jsx("td",{className:"comment-cell",children:h.comment||"-"})]},h.id))})]})]})}function V(){const{t:a}=N("web-cloud/domains/index"),{t:s}=N("common"),[n,l]=i.useState([]),[t,m]=i.useState(null),[u,j]=i.useState("general"),[r,d]=i.useState(!0),[o,g]=i.useState(null),[h,v]=i.useState(""),y=[{id:"general",labelKey:"tabs.general"},{id:"dns",labelKey:"tabs.dns"},{id:"zone",labelKey:"tabs.zone"},{id:"redirection",labelKey:"tabs.redirection"},{id:"dnssec",labelKey:"tabs.dnssec"},{id:"glue",labelKey:"tabs.glue"},{id:"dynhost",labelKey:"tabs.dynhost"},{id:"tasks",labelKey:"tabs.tasks"}],f=i.useCallback(async()=>{try{d(!0),g(null);const c=await b.listDomains(),D=c.map(k=>({name:k,loading:!0}));l(D),c.length>0&&!t&&m(c[0]);for(let k=0;k<c.length;k+=5){const R=c.slice(k,k+5);await Promise.all(R.map(async L=>{try{const[T,C]=await Promise.all([b.getDomain(L),b.getServiceInfos(L)]);l($=>$.map(z=>z.name===L?{...z,details:T,serviceInfos:C,loading:!1}:z))}catch(T){l(C=>C.map($=>$.name===L?{...$,loading:!1,error:String(T)}:$))}}))}}catch(c){g(String(c))}finally{d(!1)}},[t]);i.useEffect(()=>{f()},[]);const S=n.filter(c=>c.name.toLowerCase().includes(h.toLowerCase())),w=n.find(c=>c.name===t),x=()=>{if(!t||!w)return null;switch(u){case"general":return e.jsx(A,{domain:t,details:w.details,serviceInfos:w.serviceInfos,loading:w.loading});case"dns":return e.jsx(I,{domain:t});case"zone":return e.jsx(B,{domain:t});case"redirection":return e.jsx(H,{domain:t});case"dnssec":return e.jsx(Z,{domain:t});case"glue":return e.jsx(K,{domain:t});case"dynhost":return e.jsx(W,{domain:t});case"tasks":return e.jsx(G,{domain:t});default:return null}};return e.jsxs("div",{className:"domains-page",children:[e.jsxs("aside",{className:"domains-sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("h2",{children:a("title")}),e.jsx("span",{className:"domain-count",children:n.length})]}),e.jsx("div",{className:"sidebar-search",children:e.jsx("input",{type:"text",placeholder:a("searchPlaceholder"),value:h,onChange:c=>v(c.target.value)})}),e.jsx("div",{className:"domains-list",children:r&&n.length===0?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"skeleton-item"}),e.jsx("div",{className:"skeleton-item"}),e.jsx("div",{className:"skeleton-item"})]}):o?e.jsx("div",{className:"error-state",children:o}):S.length===0?e.jsx("div",{className:"empty-state",children:s("empty.title")}):S.map(c=>e.jsxs("button",{className:`domain-item ${t===c.name?"active":""}`,onClick:()=>m(c.name),children:[e.jsx("div",{className:"domain-icon",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3"})})}),e.jsxs("div",{className:"domain-info",children:[e.jsx("span",{className:"domain-name",children:c.name}),c.loading?e.jsx("span",{className:"domain-status loading",children:s("loading")}):c.serviceInfos?e.jsxs("span",{className:"domain-expiry",children:["Exp: ",new Date(c.serviceInfos.expiration).toLocaleDateString()]}):null]}),c.details&&e.jsx("span",{className:`lock-badge ${c.details.transferLockStatus}`,children:c.details.transferLockStatus==="locked"?"üîí":"üîì"})]},c.name))})]}),e.jsx("main",{className:"domains-main",children:t&&w?e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:t}),w.details&&e.jsxs("p",{className:"page-description",children:[a("offer"),": ",w.details.offer," | DNS: ",w.details.nameServerType]})]}),e.jsxs("button",{className:"btn-refresh",onClick:f,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),s("actions.refresh")]})]}),e.jsx("div",{className:"tabs-container",children:e.jsx("div",{className:"tabs-list",children:y.map(c=>e.jsx("button",{className:`tab-btn ${u===c.id?"active":""}`,onClick:()=>j(c.id),children:a(c.labelKey)},c.id))})}),e.jsx("div",{className:"tab-content",children:x()})]}):e.jsxs("div",{className:"no-selection",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3"})}),e.jsx("p",{children:a("selectDomain")})]})})]})}export{V as default};
//# sourceMappingURL=index-DYzsPuGh.js.map
