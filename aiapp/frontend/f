# Script de correction - ex√©cuter depuis /home/ubuntu/aiapp/frontend

BACKUP_TS=$(date +%Y%m%dT%H%M%S)
SRC_DIR="/tmp/files"

for PRODUCT in cpanel plesk directadmin windows sqlserver virtuozzo cloudlinux; do
  echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
  echo "  $PRODUCT"
  echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
  
  for TAB in general tasks; do
    TARGET_DIR="src/pages/license/$PRODUCT/tabs/$TAB"
    SOURCE_DIR="$SRC_DIR/$PRODUCT/$TAB"
    
    if [ -d "$SOURCE_DIR" ]; then
      for FILE in "$SOURCE_DIR"/*; do
        if [ -f "$FILE" ]; then
          FILENAME=$(basename "$FILE")
          TARGET="$TARGET_DIR/$FILENAME"
          
          # Backup
          if [ -f "$TARGET" ]; then
            cp "$TARGET" "$TARGET.$BACKUP_TS"
            echo "  üìã Backup: $FILENAME"
          fi
          
          # Install
          cp "$FILE" "$TARGET"
          echo "  ‚úÖ Install√©: $FILENAME"
        fi
      done
    fi
  done
done

echo ""
echo "‚úÖ Installation termin√©e!"
echo ""
echo "üîç V√©rification isolation CSS..."
grep -rn 'className="btn\|className="loading-state' src/pages/license/*/tabs/ 2>/dev/null | wc -l | xargs -I {} echo "  Classes g√©n√©riques restantes: {}"
