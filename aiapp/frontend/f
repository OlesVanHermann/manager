#!/bin/bash
# ============================================================
# CLEANUP - Suppression des fichiers backup
# ExÃ©cuter depuis: /home/ubuntu/aiapp/frontend/
# ============================================================

echo "ðŸ§¹ CLEANUP - Suppression des fichiers backup"

# Fichiers .bak dans src/
echo ""
echo "=== Fichiers .bak dans src/ ==="
find src/pages/web-cloud -name "*.bak" -type f 2>/dev/null
echo ""
read -p "Supprimer ces fichiers .bak ? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    find src/pages/web-cloud -name "*.bak" -type f -delete
    echo "  âœ… Fichiers .bak supprimÃ©s"
fi

# Dossiers .backup.* dans public/locales/
echo ""
echo "=== Dossiers .backup.* dans public/locales/ ==="
find public/locales -type d -name "*.backup.*" 2>/dev/null
echo ""
read -p "Supprimer ces dossiers backup ? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    find public/locales -type d -name "*.backup.*" -exec rm -rf {} + 2>/dev/null
    echo "  âœ… Dossiers backup supprimÃ©s"
fi

# Fichiers index.service.ts.* (anciens backups)
echo ""
echo "=== Fichiers index.service.ts.* ==="
find src/pages/web-cloud -name "index.service.ts.*" -type f 2>/dev/null
echo ""
read -p "Supprimer ces backups de service ? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    find src/pages/web-cloud -name "index.service.ts.*" -type f -delete
    echo "  âœ… Backups service supprimÃ©s"
fi

# Fichiers fax.css.* (backup)
echo ""
echo "=== Fichiers fax.css.* ==="
find src/pages/web-cloud -name "fax.css.*" -type f 2>/dev/null
echo ""
read -p "Supprimer ces backups CSS ? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    find src/pages/web-cloud -name "fax.css.*" -type f -delete
    echo "  âœ… Backups CSS supprimÃ©s"
fi

echo ""
echo "============================================================"
echo "âœ… CLEANUP TERMINÃ‰"
echo "============================================================"
