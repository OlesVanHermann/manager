##########################################################################################################################################
# STATIC SITE - SVG → HTML Cliquable
##########################################################################################################################################
#
# SITEMAP: /home/ubuntu/action-static/SITEMAP.md (145 pages au total)
# JSON:    /home/ubuntu/action-static/sitemap.json
# FICHIERS:/home/ubuntu/static_siteweb_files.txt (1060 fichiers)
# PROMPT:  /home/ubuntu/prompt_static.txt
# CLAUDE:  /home/ubuntu/action-static/CLAUDE.md
# INJECT:  /home/ubuntu/action-static/inject_nav_v2.py
#
# ┌───────────────────────────────────────────────────────────────────────┐
# │ STRUCTURE NAVIGATION                                                   │
# ├───────────────────────────────────────────────────────────────────────┤
# │ NAV1 (Header bleu)     : Accueil, Public Cloud, Web Cloud, Network... │
# │ NAV2 (Sous-header)     : Domaines, Hebergement, Emails, VoIP, Acces   │
# │ NAV3 (Panel gauche)    : Lignes, Numéros, Fax, Abrégés, SMS, Trunk    │
# │ NAV4 (Tabs right panel): Varie selon section (General, Options...)   │
# └───────────────────────────────────────────────────────────────────────┘
#
# PAGES PAR SECTION:
# ├── Hosting:        16 pages  (/static/web-cloud/hosting/*.html)
# ├── VoIP Line:      41 pages  (/static/web-cloud/voip/line/*.html)
# ├── VoIP Group:     14 pages  (/static/web-cloud/voip/group/*.html)
# ├── VoIP Number:    28 pages  (/static/web-cloud/voip/number/*.html)
# ├── VoIP Fax:       20 pages  (/static/web-cloud/voip/fax/*.html)
# ├── VoIP SMS:       20 pages  (/static/web-cloud/voip/sms/*.html)
# ├── VoIP Carrier:    5 pages  (/static/web-cloud/voip/carrier-sip/*.html)
# └── VoIP Abbrev:     1 page   (/static/web-cloud/voip/abbreviated.html)
#
# COMMANDES:
#   diff   → Compare target_manager_svg vs static, liste manquants/obsolètes
#   force  → Plan de régénération complète
#   go     → Génère le lot proposé (max 5 par lot)
#   deploy → /home/ubuntu/aiapp/scripts/D3-deploy_static.sh
#   status → État actuel
#
# CHEMINS:
#   SVG Source:    /home/ubuntu/target_manager_svg/
#   HTML Dest:     /home/ubuntu/aiapp/static/
#   URL Prod:      https://manager.di2amp.com/static/
#   Backups:       /home/ubuntu/action-static/tmp/
#
# RÈGLES CRITIQUES:
#   ✓ SVG inline dans HTML (pas <img src>)
#   ✓ Liens absolus /static/...
#   ✓ Lots de 5 pages max
#   ✓ cp --backup=numbered pour versions
#   ✗ JAMAIS tar -x
#
##########################################################################################################################################

cd /home/ubuntu/action-static
/home/ubuntu/aiapp/scripts/D3-deploy_static.sh

# DEV
cd /home/ubuntu/aiapp/frontend
npm run build:dev
/home/ubuntu/aiapp/scripts/D1-build_frontend_dev.sh
node /home/ubuntu/aiapp/frontend/scripts/check-i18n.cjs
node /home/ubuntu/aiapp/frontend/scripts/check-i18n-full.cjs
node /home/ubuntu/aiapp/frontend/scripts/compare-fr-en.cjs
node /home/ubuntu/aiapp/frontend/scripts/generate-i18n-patches.cjs

# PROD #############################################################
cd /home/ubuntu/aiapp/frontend
npm run build:prod
#/home/ubuntu/aiapp/scripts/D2-promote_dev_to_prod.sh
/home/ubuntu/aiapp/scripts/D2-promote_dev_to_prod.sh --from-dist

cd /home/ubuntu/
# NOTE: L'utilisateur exécute manuellement : tar xvf /tmp/svg_old_manager_bare-metal_dedicated.tar --backup=numbered
# Claude ne doit JAMAIS faire tar -x
rm /tmp/svg_old_manager_bare-metal_dedicated.tar 

# TEST #############################################################

#code:
je vais te donner les fichiers, les scripts. mets les dans ta memoire.
lis le bien. souviens toi de tous les noms de scripts.
comprends les algos de chaque scripts. 
donne moi la liste de tous les fichiers que tu as trouvé.
attention à double FS ou ENDSCRIPT.
attends mes consignes.

voici le new_manager et old_manager. analyse le. je vais en suite te donner les consignes.
attention à double FS ou ENDSCRIPT.

#resume:
lis les consignes et execute prompt_resume. fais une analyse complete, très exhautive.
attention à double FS ou ENDSCRIPT. propose moi une analyse. attends mes 
consignes avant de regenerer les fichiers.

#compression:
lis mes consignes dans les 4 fichiers. comprends les. 
combien de fichiers de consignes tu as lu et compris ?
attention à double FS ou ENDSCRIPT.

#generer et patcher
si tu as bien compris les consignes de 4 fichiers: 

next avec cp+tee, dans un markdown par cp+tee, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec cp+tee, dans un markdown par cp+tee, facile à copier coller. attention à double FS ou ENDSCRIPT
next avec super-patch, dans un markdown par super-patch, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec super-patch, dans un markdown par super-patch, facile à copier coller. attention à double FS ou ENDSCRIPT

next avec cp+tee, dans un SEUL markdown par 5 scripts, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec cp+tee, dans un SEUL markdown par 5 scripts, facile à copier coller. attention à double FS ou ENDSCRIPT
next avec super-patch, dans un SEUL markdown par 5 scripts, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec super-patch, dans un SEUL markdown par 5 scripts, facile à copier coller. attention à double FS ou ENDSCRIPT

next avec cp+tee, dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec cp+tee, dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT
next avec super-patch, dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT
go avec super-patch, dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT

next pour cp+tee ou super-patch au choix. dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT
go pour cp+tee ou super-patch au choix. dans un SEUL markdown, facile à copier coller. attention à double FS ou ENDSCRIPT

indique combien de markdown tu m'as donné.

fais moi un tar que je vais telecharger et mettre sur le serveur puis je vais l'executer. 
je vais uploader sur le servuer dans /tmp/ et je veux executer à partir de /home/ubuntu/aiapp/frontend/

#tar
analyse prompt_tar. et les 2 fichiers new_ et old_ pour determiner ce qui y manque. 
propose moi une strategie. respecte bien la regle 6.attends mon go avant de regenerer.

lis les consignes et execute les. attention à double FS ou ENDSCRIPT.

lis les consignes et execute les. fais une analyse complete, très exhautive.
attention à double FS ou ENDSCRIPT.

analyse mes consignes. propose moi une strategie. attends mon go avant de regenerer.

###########################

plus tard:

prompt
"""
0) old_ telecom = new_ voip 
1) voici les fichiers target pour le web-cloud/hosting. 
inspire toi pour me proposer une arbo NAV1/NAV2/NAV3/actions pour web-cloud/voip 
2) dans le 2eme temps on va créer prompt_target_web-cloud.voip.txt
"""

1) ajoute ce message au debut du prompt, adapté au prompt | Element | Valeur |
|---------|--------|
| **Prompt** | /home/ubuntu/prompt_svg.txt |
| **Destination finale utilisateur** | /home/ubuntu/{PREFIX}_svg/{NAV1}/{NAV2}/ |
| **Destination Claude (outputs)** | /mnt/user-data/outputs/{PREFIX}_svg/{NAV1}/{NAV2}/ | 
2) il faut aussi inclure dans le prompt la NAV: avec NAV1 / NAV2 / NAV3 / NAV4 (si existe) / NAV5 (si existe) / actions. propose moi une strategie de NAV

############## SVG ################

lis prompt_svg.txt, lis old_manager_svg_files.txt, lis old_manager.web-cloud.telecom.voip.tar UNIQUEMENT et STRICTEMENT aucun fichier
à partir du tar que je viens de te donner, analyse les pages de old_
pour trouver les idées de generation de svg old_ de l'interface old_
il s'agit de trouver les idées pertiantes. aucune halucination autorisée.
liste toutes les idées de svg old_ avec les propositions de noms de fichiers old_
j'ai aussi inclue tous les svg que j'ai déjà. 
trouve des idées de generation de svg qui ne sont pas encore dans cette liste, sans halucination. 
juste de vrais interface de old_manager. 
analyse mes consignes. propose moi une strategie. attends mon go avant de regenerer.


> donne moi les repertoires dans lesquels tu veux enregistrer ces svg

> si jamais le fichier existe déjà, il faut garder l'ancienne version et enregistrer le nouveau fichier avec un prefix à la fin comme tar avec --backup=numbered

> tu n'as pas besoin de faire tar xvf, les fichiers se trouvent dans
/home/ubuntu/manager/packages/manager/apps/telecom/src/app/telecom/telephony/line/management/offe .. 

############### SVG2TXT ################

> lis prompt_svg2txt.txt, lis prompt_api.txt, lis old_manager_svg_files.txt, lis old_manager.web-cloud.telecom.voip.tar, UNIQUEMENT et 
STRICTEMENT aucun fichier, lis les consignes et execute les. fais une analyse complete, très exhautive.
attention à double FS ou ENDSCRIPT. propose moi une analyse. attends mes 
consignes avant de regenerer les fichiers. 


############### TARGET #######################

> lis prompt_target.txt, lis prompt_target_web-cloud.voip.txt, lis new_manager.web-cloud.telecom.tar, old_manager_svg.web-cloud.telecom.tar UNIQUEMENT et STRICTEMENT
 aucun fichier analyse mes consignes. propose moi une strategie. attends mon go avant de regenerer. 


> quelle est la strategie que tu veux utiliser. relis les prompts. ajoute aussi dans le prompt: valide avec moi au debut le repertoire
 de destination. > donne moi les repertoires dans lesquels tu veux enregistrer ces svg

> si jamais le fichier existe déjà, il faut garder l'ancienne version et enregistrer le nouveau fichier avec un prefix à la fin comme 
tar avec --backup=numbered

> utilise tar txf pour lister les fichiers et les repertoires mais tu n'as pas besoin de faire tar xvf, les fichiers se trouvent dans
/home/ubuntu/manager/packages/manager/apps/telecom/src/app/telecom/telephony/line/management/offe .. 

● Je relis le prompt CLAUDE.md pour clarifier ma stratégie :


