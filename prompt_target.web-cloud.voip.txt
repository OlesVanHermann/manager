================================================================================
PROMPT TARGET - Web Cloud > VoIP
================================================================================

| Element                            | Valeur                                                    |
|------------------------------------|-----------------------------------------------------------|
| **Prompt**                         | /home/ubuntu/prompt_target.web-cloud.voip.txt             |
| **Destination finale utilisateur** | /home/ubuntu/target_manager_svg/web-cloud/voip/           |
| **Destination Claude (outputs)**   | /mnt/user-data/outputs/target_manager_svg/web-cloud/voip/ |

Version: v14 (2026-01-01) - NAV3 font-size corrigÃ©
Parent:  prompt_target.txt (design system, shell template, composants)

NOTE: Ce prompt a Ã©tÃ© mis Ã  jour aprÃ¨s corrections front-end VoIP.
      BasÃ© sur /home/ubuntu/aiapp/frontend/src/pages/web-cloud/voip/

SESSION 2026-01-01 (v14):
- âœ… CSS: NAV3 font-size corrigÃ© 12px â†’ 11px (conformitÃ© prompt_target.txt)
- âœ… DOC: Section 2.5 Specs CSS Layout mise Ã  jour

SESSION 2026-01-01 (v13):
- âœ… CSS: Ajout `flex-shrink: 0` sur `.voip-left-panel` (conformitÃ© prompt_split_layout_method.txt)
- âœ… CSS: Ajout `min-width: 0` sur `.voip-right-panel` (conformitÃ© prompt_split_layout_method.txt)
- âœ… DOC: ConformitÃ© layout vÃ©rifiÃ©e Ã  100% vs standards

SESSION 2026-01-01 (v12):
- âœ… NAV3: Layout grid 2x2 â†’ flex horizontal 4 colonnes
- âœ… NAV3: Boutons compacts (padding: 6px 4px, font-size: 10px)
- âœ… NAV3: Labels simplifiÃ©s (emojis supprimÃ©s, "Carrier" â†’ "Trunk")
- âœ… NAV3: Count badge rÃ©duit (font-size: 9px)
- âœ… DOC: Section 2 entiÃ¨rement rÃ©Ã©crite (structure NAV rÃ©elle)
- âœ… DOC: NAV3/NAV4 clarifiÃ©s avec schÃ©mas ASCII
- âœ… DOC: Actions header + Ã©tats vides documentÃ©s

SESSION 2026-01-01 (v11):
- âœ… CSS: Pattern .btn-primary:hover unifiÃ© (13 fichiers)
- âœ… i18n: ClÃ©s manquantes ajoutÃ©es (sip/sms/fax/carrier)
- âœ… Actions: Boutons header avec onClick handlers

================================================================================

##############################################################################
# 0. VISION PRODUIT - VOIP OVH
##############################################################################

### Principes fondamentaux

1. **Groupes de facturation** : Chaque compte VoIP = 1 groupe avec lignes, numÃ©ros, fax
2. **Lignes tÃ©lÃ©phoniques** : SIP avec tÃ©lÃ©phone physique ou softphone
3. **NumÃ©ros** : Alias/DID avec configs (redirection, file d'attente, SVI, confÃ©rence)
4. **Fax** : Service fax virtuel avec campagnes et historique
5. **SMS** : Service d'envoi de SMS avec crÃ©dits, campagnes et templates
6. **NumÃ©ros abrÃ©gÃ©s** : Annuaire interne du groupe
7. **Carrier-SIP** : Trunks SIP pour usage professionnel

### Types de services

| Type | Badge | IcÃ´ne | Description |
|------|-------|-------|-------------|
| **Ligne** | `Ligne` | â˜ï¸ | Ligne SIP avec tÃ©lÃ©phone |
| **NumÃ©ro** | `NumÃ©ro` | ğŸ”¢ | Alias/DID configurable |
| **Fax** | `Fax` | ğŸ“  | Service fax virtuel |
| **VoiceFax** | `VoiceFax` | ğŸ“ â˜ï¸ | Fax + messagerie vocale |
| **SMS** | `SMS` | ğŸ’¬ | Service SMS avec crÃ©dits |
| **CarrierSip** | `Trunk` | ğŸ”— | Trunk SIP carrier |

### Types de numÃ©ros (configurations)

| Type | Badge | Description |
|------|-------|-------------|
| **Redirection** | `Redirect` | Renvoie vers une destination |
| **File d'attente** | `Queue` | Distribution d'appels |
| **SVI** | `SVI` | Serveur vocal interactif |
| **ConfÃ©rence** | `Conf` | Salle de confÃ©rence |
| **Alias simple** | `Alias` | NumÃ©ro non configurÃ© |

### ModÃ¨le de donnÃ©es

```
COMPTE CLIENT
â”‚
â”œâ”€â”€ GROUPES VOIP (billingAccount)
â”‚   â”‚
â”‚   â”œâ”€â”€ Groupe 1: "OVH-TELECOM-12345"
â”‚   â”‚   â”œâ”€â”€ Description: "TÃ©lÃ©phonie Bureau Paris"
â”‚   â”‚   â”œâ”€â”€ CrÃ©dit: 50,00 â‚¬
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ LIGNES
â”‚   â”‚   â”‚   â”œâ”€â”€ 0033972101234: Ligne SIP + Yealink T46G
â”‚   â”‚   â”‚   â””â”€â”€ 0033972101235: Ligne SIP + Softphone
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ NUMÃ‰ROS
â”‚   â”‚   â”‚   â”œâ”€â”€ 0033972109999: File d'attente (5 membres)
â”‚   â”‚   â”‚   â”œâ”€â”€ 0033972109900: SVI (menu principal)
â”‚   â”‚   â”‚   â””â”€â”€ 0033972108000: Redirection â†’ 0033612345678
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ FAX
â”‚   â”‚   â”‚   â””â”€â”€ 0033972107777: Fax virtuel
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ SMS
â”‚   â”‚   â”‚   â””â”€â”€ sms-ab12345: 500 crÃ©dits
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ABRÃ‰GÃ‰S
â”‚   â”‚       â”œâ”€â”€ *100 â†’ 0033972101234 (Direction)
â”‚   â”‚       â””â”€â”€ *101 â†’ 0033972101235 (Accueil)
â”‚   â”‚
â”‚   â””â”€â”€ Groupe 2: "OVH-TELECOM-67890"
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ CARRIER-SIP (hors groupe)
â”‚   â””â”€â”€ carrier-sip-12345: Trunk SIP 50 canaux
â”‚
â””â”€â”€ SMS (hors groupe)
    â””â”€â”€ sms-standalone: 1000 crÃ©dits
```

##############################################################################
# 1. RAPPEL RÃˆGLES CRITIQUES (voir prompt_target.txt)
##############################################################################

âœ… FICHIERS PAR PAIRE : target_.{route}.svg + target_.{route}.txt

##############################################################################
# 2. ARBORESCENCE NAV COMPLÃˆTE (v12 - ALIGNÃ‰E AVEC FRONTEND)
##############################################################################

NOTE: Cette section reflÃ¨te l'implÃ©mentation RÃ‰ELLE dans:
      /home/ubuntu/aiapp/frontend/src/pages/web-cloud/voip/

Mise Ã  jour: 2026-01-01 (v12) - Structure NAV3/NAV4 corrigÃ©e

### 2.1 STRUCTURE GLOBALE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NAV1: Web Cloud                                          (Header bleu)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NAV2: VoIP                                          (Sous-header blanc) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     LEFT PANEL       â”‚  â”‚           RIGHT PANEL                  â”‚   â”‚
â”‚  â”‚     (280px fixe)     â”‚  â”‚           (flex: 1)                    â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚SIP â”‚SMS â”‚FAX â”‚Trkâ”‚â”‚  â”‚  â”‚ HEADER: Titre + Actions          â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚       NAV3           â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  â”‚ NAV4: Onglets du service         â”‚   â”‚   â”‚
â”‚  â”‚  ğŸ” Recherche...     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”‚                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Service 1        â”‚â”‚  â”‚  â”‚         CONTENT                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Service 2   [sel]â”‚â”‚  â”‚  â”‚                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Service 3        â”‚â”‚  â”‚  â”‚                                 â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 NAV3 - LEFT PANEL (4 boutons horizontaux)

Position: Top du left panel
Fichier: `/voip/index.tsx` + `/voip/index.css`
CSS class: `.voip-nav3-tabs` (flex horizontal)

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ SIP â”‚ SMS â”‚ FAX â”‚Trunkâ”‚  â† NAV3 tabs (boutons compacts)
â”‚  2  â”‚  1  â”‚  0  â”‚  0  â”‚  â† Count badges
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

| NAV3 | ID | Label | Fichier Panel | Description |
|------|----|-------|---------------|-------------|
| SIP | `sip` | SIP | `SipPanel.tsx` | Groupes VoIP, Lignes, NumÃ©ros |
| SMS | `sms` | SMS | `SmsPanel.tsx` | Comptes SMS |
| FAX | `fax` | FAX | `FaxPanel.tsx` | Services Freefax |
| Trunk | `carrier-sip` | Trunk | `CarrierSipPanel.tsx` | Trunks SIP professionnels |

### 2.3 NAV4 - RIGHT PANEL (onglets par NAV3)

Position: Sous le header du right panel
CSS class: `.voip-right-panel-tabs`

#### NAV4 pour SIP (SipPanel.tsx)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GÃ©nÃ©ral â”‚ Groups â”‚ Lignes â”‚ NumÃ©ros â”‚ Services â”‚
â”‚         â”‚   (1)  â”‚  (2)   â”‚   (3)   â”‚   (4)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Tab | ID | Label | Composant | Count |
|-----|----|-------|-----------|-------|
| 1 | `general` | GÃ©nÃ©ral | Inline (rÃ©sumÃ©) | - |
| 2 | `groups` | Groups | `GroupsTab.tsx` | groupsCount |
| 3 | `lines` | Lignes | `LinesTab.tsx` | linesCount |
| 4 | `numbers` | NumÃ©ros | `NumbersTab.tsx` | numbersCount |
| 5 | `services` | Services | `ServicesTab.tsx` | servicesCount |

**Actions header SIP:**
- Badge status (Actif/ExpirÃ©)

#### NAV4 pour SMS (SmsPanel.tsx)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GÃ©nÃ©ral â”‚ Envoyer â”‚ Campagnes â”‚ Sortants â”‚ Entrants â”‚ ExpÃ©diteurs â”‚ ModÃ¨les â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Tab | ID | Label | Composant |
|-----|----|-------|-----------|
| 1 | `general` | GÃ©nÃ©ral | `GeneralTab.tsx` |
| 2 | `send` | Envoyer | `send/SendTab.tsx` |
| 3 | `campaigns` | Campagnes | `campaigns/CampaignsTab.tsx` |
| 4 | `outgoing` | Sortants | `outgoing/OutgoingTab.tsx` |
| 5 | `incoming` | Entrants | `incoming/IncomingTab.tsx` |
| 6 | `senders` | ExpÃ©diteurs | `senders/SendersTab.tsx` |
| 7 | `templates` | ModÃ¨les | `templates/TemplatesTab.tsx` |

**Actions header SMS:**
- Badge crÃ©dits (ex: "1,234 crÃ©dits")
- Bouton "Acheter" â†’ `window.open('https://www.ovhtelecom.fr/sms/')`

#### NAV4 pour FAX (FaxPanel.tsx)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ GÃ©nÃ©ral â”‚ Campagnes â”‚ Consommation â”‚ ParamÃ¨tres â”‚ Logo â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

| Tab | ID | Label | Composant |
|-----|----|-------|-----------|
| 1 | `general` | GÃ©nÃ©ral | `GeneralTab.tsx` |
| 2 | `campaigns` | Campagnes | `campaigns/CampaignsTab.tsx` |
| 3 | `consumption` | Consommation | `consumption/ConsumptionTab.tsx` |
| 4 | `settings` | ParamÃ¨tres | `settings/SettingsTab.tsx` |
| 5 | `logo` | Logo | `logo/LogoTab.tsx` |

**Actions header FAX:**
- Bouton "Envoyer" â†’ `setActiveTab('campaigns')`

#### NAV4 pour CARRIER-SIP / Trunk (CarrierSipPanel.tsx)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GÃ©nÃ©ral â”‚ CDR â”‚ Endpoints â”‚ Routing â”‚ Settings â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Tab | ID | Label | Composant |
|-----|----|-------|-----------|
| 1 | `general` | GÃ©nÃ©ral | `GeneralTab.tsx` |
| 2 | `cdr` | CDR | `cdr/CdrTab.tsx` |
| 3 | `endpoints` | Endpoints | `endpoints/EndpointsTab.tsx` |
| 4 | `routing` | Routing | `routing/RoutingTab.tsx` |
| 5 | `settings` | Settings | `settings/SettingsTab.tsx` |

**Actions header Carrier-SIP:**
- Badge appels: "{currentCalls}/{maxCalls} appels"

### 2.4 RÃ‰CAPITULATIF NIVEAUX NAV

| Niveau | Ã‰lÃ©ment | Position | Composant/Class |
|--------|---------|----------|-----------------|
| **NAV1** | Header bleu 50px | y=0 | `<Header>` global |
| **NAV2** | Sous-header blanc 40px | y=50 | `<SubNav>` global |
| **NAV3** | Boutons left panel | Top left panel | `.voip-nav3-tabs` |
| **NAV4** | Onglets right panel | Sous header right | `.voip-right-panel-tabs` |
| **CONTENT** | Contenu onglet | Zone principale | `.voip-right-panel-content` |

### 2.5 SPECS CSS LAYOUT (conformitÃ© prompt_split_layout_method.txt)

| Ã‰lÃ©ment | Classe CSS | PropriÃ©tÃ©s critiques |
|---------|------------|----------------------|
| **Container** | `.voip-layout` | `display: flex; gap: 16px; padding: 15px 24px 24px 24px` |
| **Left Panel** | `.voip-left-panel` | `width: 280px; min-width: 280px; max-width: 280px; flex-shrink: 0` |
| **Right Panel** | `.voip-right-panel` | `flex: 1; min-width: 0` |
| **NAV3 tabs** | `.voip-nav3-tabs` | `padding: 12px; background: #F9FAFB; gap: 4px` |
| **NAV3 button** | `.voip-nav3-tab` | `flex: 1; padding: 8px 12px; font-size: 11px; border-radius: 6px` |
| **NAV3 active** | `.voip-nav3-tab.active` | `background: #0050D7; color: #FFFFFF` |
| **NAV4 tabs** | `.voip-right-panel-tabs` | `padding: 12px 20px; gap: 4px` |
| **NAV4 button** | `.voip-right-panel-tab` | `padding: 6px 14px; font-size: 11px; border: 1px solid #0050D7` |

### 2.6 FICHIERS PRINCIPAUX

```
/voip/
â”œâ”€â”€ index.tsx              â† Page principale (NAV3 + routing)
â”œâ”€â”€ index.css              â† Styles globaux VoIP
â”‚
â”œâ”€â”€ sip/
â”‚   â”œâ”€â”€ SipPanel.tsx       â† Panel SIP (NAV4: 5 tabs)
â”‚   â”œâ”€â”€ SipPanel.css
â”‚   â”œâ”€â”€ groups/
â”‚   â”‚   â””â”€â”€ GroupsTab.tsx  â† Liste groupes
â”‚   â”œâ”€â”€ lines/
â”‚   â”‚   â””â”€â”€ LinesTab.tsx   â† Liste lignes
â”‚   â”œâ”€â”€ numbers/
â”‚   â”‚   â””â”€â”€ NumbersTab.tsx â† Liste numÃ©ros
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ ServicesTab.tsx â† Liste services
â”‚
â”œâ”€â”€ sms/
â”‚   â”œâ”€â”€ SmsPanel.tsx       â† Panel SMS (NAV4: 7 tabs)
â”‚   â”œâ”€â”€ GeneralTab.tsx
â”‚   â”œâ”€â”€ send/SendTab.tsx
â”‚   â”œâ”€â”€ campaigns/CampaignsTab.tsx
â”‚   â”œâ”€â”€ outgoing/OutgoingTab.tsx
â”‚   â”œâ”€â”€ incoming/IncomingTab.tsx
â”‚   â”œâ”€â”€ senders/SendersTab.tsx
â”‚   â””â”€â”€ templates/TemplatesTab.tsx
â”‚
â”œâ”€â”€ fax/
â”‚   â”œâ”€â”€ FaxPanel.tsx       â† Panel FAX (NAV4: 5 tabs)
â”‚   â”œâ”€â”€ GeneralTab.tsx
â”‚   â”œâ”€â”€ campaigns/CampaignsTab.tsx
â”‚   â”œâ”€â”€ consumption/ConsumptionTab.tsx
â”‚   â”œâ”€â”€ settings/SettingsTab.tsx
â”‚   â””â”€â”€ logo/LogoTab.tsx
â”‚
â””â”€â”€ carrier-sip/
    â”œâ”€â”€ CarrierSipPanel.tsx â† Panel Carrier (NAV4: 5 tabs)
    â”œâ”€â”€ GeneralTab.tsx
    â”œâ”€â”€ cdr/CdrTab.tsx
    â”œâ”€â”€ endpoints/EndpointsTab.tsx
    â”œâ”€â”€ routing/RoutingTab.tsx
    â””â”€â”€ settings/SettingsTab.tsx
```

### 2.7 ACTIONS PAR SERVICE

| NAV3 | Header Actions | Boutons | onClick |
|------|----------------|---------|---------|
| SIP | Badge status | - | - |
| SMS | Badge crÃ©dits + Bouton | "Acheter" | `window.open(ovhtelecom.fr/sms)` |
| FAX | Bouton | "Envoyer" | `setActiveTab('campaigns')` |
| Trunk | Badge appels | - | - |

### 2.8 Ã‰TATS VIDES (Empty States)

Chaque NAV3 affiche un Ã©tat vide quand aucun service n'est sÃ©lectionnÃ©:

| NAV3 | IcÃ´ne | Titre | Description |
|------|-------|-------|-------------|
| SIP | ğŸ“ | "Aucun service SIP" | "SÃ©lectionnez un service..." |
| SMS | ğŸ“± | "Aucun service SMS" | "SÃ©lectionnez un service..." |
| FAX | ğŸ“  | "Aucun service FAX" | "SÃ©lectionnez un service..." |
| Trunk | ğŸŒ | "Aucun service Carrier SIP" | "SÃ©lectionnez un service..." |

##############################################################################
# 10. âš ï¸ RÃ‰FÃ‰RENTIEL API COMPLET - AUDIT 2026-01-01 (v9)
##############################################################################

Cette section documente TOUS les endpoints API OVH utilisÃ©s par VoIP.
BasÃ© sur l'audit comparatif old_manager vs new_manager du 2026-01-01.

### 10.0 â›” RÃˆGLES CRITIQUES API

#### Pattern LIST + DETAILS obligatoire
La plupart des endpoints OVH retournent une LISTE D'IDs, pas les objets complets.
Il faut ensuite rÃ©cupÃ©rer chaque dÃ©tail individuellement.

```typescript
// âŒ INCORRECT - L'API ne retourne PAS directement les objets
const items = await ovhApi.get<Item[]>(`/path/to/items`);

// âœ… CORRECT - RÃ©cupÃ©rer IDs puis dÃ©tails
const ids = await ovhApi.get<number[]>(`/path/to/items`);
const items = await Promise.all(
  ids.map(id => ovhApi.get<Item>(`/path/to/items/${id}`))
);
```

#### Types d'IDs
| Ressource | Type ID | Exemple |
|-----------|---------|---------|
| **Agents easyHunting** | `number` | 123456 |
| **Endpoints carrier-sip** | `number` | 789012 |
| **Phonebook contacts** | `number` | 456789 |
| **Offer tasks** | `number` | 111222 |
| **Abbreviated numbers** | `number` | 100 |
| **Portability** | `number` | 333444 |
| **Orders** | `number` | 555666 |
| **CDR records** | `CdrRecord[]` | array direct |
| **Participants conference** | `number` | 777888 |
| **WebAccess conference** | `number` | 999000 |

#### â›” ERREURS CORRIGÃ‰ES (Audit 2026-01-01)

| Fichier | Erreur | Correction | Status |
|---------|--------|------------|--------|
| `carrier-sip/settings/SettingsTab.service.ts` | `/telephony/{ba}/carrierSip/{sn}` | `/telephony/{ba}/carrierSip/{sn}/settings` | âœ… DÃ©jÃ  corrigÃ© (v9) |
| `fax/campaigns/CampaignsTab.service.ts` | `/freefax/{sn}/voicemail/campaigns` | `/telephony/{ba}/fax/{sn}/campaigns` | âœ… DÃ©jÃ  corrigÃ© (v9) |
| `sip/lines/lines.service.ts:124-129` | `/telephony/{ba}/line/{sn}/statistics/consumption` | `/telephony/{ba}/service/{sn}/voiceConsumption` | âœ… CorrigÃ© (v10) |

#### â›” ENDPOINTS QUI N'EXISTENT PAS
Ces endpoints ont Ã©tÃ© inventÃ©s et ne fonctionneront JAMAIS :

| Endpoint inventÃ© | Correction |
|------------------|------------|
| `/telephony/{ba}/line/{sn}/calls/filtering` | âŒ N'existe pas - filtrage via options |
| `/telephony/{ba}/line/{sn}/statistics/consumption` | âœ… Utiliser `/telephony/{ba}/service/{sn}/voiceConsumption` |
| `/telephony/{ba}/voicemail/{sn}/changePassword` | âœ… Utiliser `/telephony/{ba}/voicemail/{sn}/settings/changePassword` |
| `/telephony/{ba}/cdr` | âœ… Utiliser `/telephony/{ba}/carrierSip/{sn}/cdrs` |
| `/freefax/{sn}/settings` (pour telephony fax) | âœ… Utiliser `/telephony/{ba}/fax/{sn}/settings` |
| `/freefax/{sn}/voicemail/campaigns` (pour telephony fax) | âœ… Utiliser `/telephony/{ba}/fax/{sn}/campaigns` |

---

### 10.1 APIs GROUPE (billingAccount)

#### Lecture
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony` | `string[]` | Liste billingAccounts |
| GET | `/telephony/{ba}` | `TelephonyBillingAccount` | DÃ©tails groupe |
| PUT | `/telephony/{ba}` | `void` | Modifier groupe |
| GET | `/telephony/{ba}/serviceInfos` | `ServiceInfos` | Infos facturation |

#### Services du groupe
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line` | `string[]` | Liste serviceName lignes |
| GET | `/telephony/{ba}/number` | `string[]` | Liste serviceName numÃ©ros |
| GET | `/telephony/{ba}/fax` | `string[]` | Liste serviceName fax |
| GET | `/telephony/{ba}/carrierSip` | `string[]` | Liste serviceName carrier-sip |
| GET | `/telephony/{ba}/voicemail` | `string[]` | Liste messageries vocales |
| GET | `/telephony/{ba}/service` | `string[]` | Tous les services |
| GET | `/telephony/{ba}/service/{sn}` | `Service` | DÃ©tail service |
| PUT | `/telephony/{ba}/service/{sn}` | `void` | Modifier service |
| DELETE | `/telephony/{ba}/service/{sn}` | `void` | RÃ©silier service |
| POST | `/telephony/{ba}/service/{sn}/cancelTermination` | `void` | Annuler rÃ©siliation |

#### NumÃ©ros abrÃ©gÃ©s
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/abbreviatedNumber` | `number[]` | Liste IDs abrÃ©gÃ©s |
| GET | `/telephony/{ba}/abbreviatedNumber/{id}` | `AbbreviatedNumber` | DÃ©tail abrÃ©gÃ© |
| POST | `/telephony/{ba}/abbreviatedNumber` | `AbbreviatedNumber` | CrÃ©er abrÃ©gÃ© |
| PUT | `/telephony/{ba}/abbreviatedNumber/{id}` | `void` | Modifier abrÃ©gÃ© |
| DELETE | `/telephony/{ba}/abbreviatedNumber/{id}` | `void` | Supprimer abrÃ©gÃ© |

#### Historique & Facturation
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/historyConsumption` | `HistoryConsumption[]` | Historique conso |
| GET | `/telephony/{ba}/historyConsumption/{date}` | `HistoryDetail` | DÃ©tail par date |
| GET | `/telephony/{ba}/historyConsumption/{date}/file` | `{url: string}` | TÃ©lÃ©charger fichier |
| GET | `/telephony/{ba}/historyTollfreeConsumption` | `HistoryConsumption[]` | Conso numÃ©ros verts |
| GET | `/telephony/{ba}/historyRepaymentConsumption` | `Repayment[]` | Historique remboursements |
| POST | `/telephony/{ba}/repaymentConsumption` | `void` | Demander remboursement |

#### PortabilitÃ©
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/portability` | `number[]` | Liste IDs portabilitÃ©s |
| GET | `/telephony/{ba}/portability/{id}` | `Portability` | DÃ©tail portabilitÃ© |
| POST | `/telephony/{ba}/portability` | `Portability` | CrÃ©er demande |

#### Commandes
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/order` | `number[]` | Liste IDs commandes |
| GET | `/telephony/{ba}/order/{id}` | `Order` | DÃ©tail commande |

#### TÃ¢ches (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/task` | `number[]` | Liste IDs tÃ¢ches |
| GET | `/telephony/{ba}/task/{id}` | `Task` | DÃ©tail tÃ¢che |

#### SÃ©curitÃ© - Event Tokens
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/eventToken` | `string[]` | Liste tokens |
| GET | `/telephony/{ba}/eventToken/{token}` | `EventToken` | DÃ©tail token |
| POST | `/telephony/{ba}/eventToken` | `EventToken` | CrÃ©er token |
| DELETE | `/telephony/{ba}/eventToken/{token}` | `void` | Supprimer token |

#### Phonebook (groupe)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/phonebook` | `string[]` | Liste bookKeys |
| GET | `/telephony/{ba}/phonebook/{bookKey}` | `Phonebook` | DÃ©tail phonebook |
| POST | `/telephony/{ba}/phonebook` | `{bookKey: string}` | CrÃ©er phonebook |
| PUT | `/telephony/{ba}/phonebook/{bookKey}` | `void` | Modifier phonebook |
| DELETE | `/telephony/{ba}/phonebook/{bookKey}` | `void` | Supprimer phonebook |
| GET | `/telephony/{ba}/phonebook/{bookKey}/export` | `{url: string}` | Exporter (csv/goosip) |
| POST | `/telephony/{ba}/phonebook/{bookKey}/import` | `void` | Importer |

#### Phonebook Contacts
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/phonebook/{bookKey}/phonebookContact` | `number[]` | Liste IDs contacts |
| GET | `/telephony/{ba}/phonebook/{bookKey}/phonebookContact/{id}` | `Contact` | DÃ©tail contact |
| POST | `/telephony/{ba}/phonebook/{bookKey}/phonebookContact` | `Contact` | CrÃ©er contact |
| PUT | `/telephony/{ba}/phonebook/{bookKey}/phonebookContact/{id}` | `void` | Modifier contact |
| DELETE | `/telephony/{ba}/phonebook/{bookKey}/phonebookContact/{id}` | `void` | Supprimer contact |

#### Offer Tasks
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/offerTask` | `number[]` | Liste IDs tÃ¢ches |
| GET | `/telephony/{ba}/offerTask/{id}` | `OfferTask` | DÃ©tail tÃ¢che |

#### Gestion groupe (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/allowedCreditThreshold` | `CreditThreshold[]` | Seuils crÃ©dit |
| POST | `/telephony/{ba}/transferSecurityDeposit` | `void` | TransfÃ©rer dÃ©pÃ´t |
| POST | `/telephony/{ba}/cancelTermination` | `void` | Annuler rÃ©siliation groupe |
| DELETE | `/telephony/{ba}` | `void` | RÃ©silier groupe |
| POST | `/telephony/{ba}/changeContact` | `number[]` | Changer contacts |

#### Spare phones (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/spare` | `string[]` | Liste tÃ©lÃ©phones spare |
| GET | `/telephony/spare/{spare}` | `SparePhone` | DÃ©tail spare |
| DELETE | `/telephony/spare/{spare}` | `void` | Supprimer spare |
| POST | `/telephony/spare/{spare}/replace` | `void` | Remplacer tÃ©lÃ©phone |

#### Domaines SIP (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/availableDefaultSipDomains` | `SipDomain[]` | Domaines dispos |
| POST | `/telephony/setDefaultSipDomain` | `void` | DÃ©finir domaine |

#### Accessoires (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/accessories` | `Accessory[]` | Liste accessoires |

---

### 10.2 APIs LIGNE (line)

#### Lecture
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}` | `TelephonyLine` | DÃ©tails ligne |
| GET | `/telephony/{ba}/line/{sn}/serviceInfos` | `ServiceInfos` | Infos facturation |
| PUT | `/telephony/{ba}/line/{sn}` | `void` | Modifier ligne |

#### Offre & Options
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/offer` | `LineOffer` | DÃ©tails offre |
| GET | `/telephony/{ba}/line/{sn}/options` | `LineOptions` | Options ligne |
| PUT | `/telephony/{ba}/line/{sn}/options` | `void` | Modifier options |
| GET | `/telephony/{ba}/line/{sn}/availableSipDomains` | `string[]` | Domaines SIP dispos |

#### Authentification
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/telephony/{ba}/line/{sn}/changePassword` | `void` | Changer MDP SIP |
| GET | `/telephony/{ba}/line/{sn}/canChangePassword` | `boolean` | Peut changer MDP |
| GET | `/telephony/{ba}/line/{sn}/lastRegistrations` | `Registration[]` | DerniÃ¨res connexions |
| GET | `/telephony/{ba}/line/{sn}/ips` | `string[]` | IPs autorisÃ©es |

#### Trafic (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/telephony/{ba}/line/{sn}/activateTraffic` | `void` | Activer trafic |
| POST | `/telephony/{ba}/line/{sn}/deactivateTraffic` | `void` | DÃ©sactiver trafic |

#### Ã‰quipements (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/telephony/{ba}/line/{sn}/associateDevice` | `void` | Associer Ã©quipement |
| POST | `/telephony/{ba}/line/{sn}/dissociateDevice` | `void` | Dissocier Ã©quipement |

#### TÃ©lÃ©phone
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/phone` | `Phone` | Infos tÃ©lÃ©phone |
| PUT | `/telephony/{ba}/line/{sn}/phone` | `void` | Modifier tÃ©lÃ©phone |
| POST | `/telephony/{ba}/line/{sn}/phone/reboot` | `void` | RedÃ©marrer |
| POST | `/telephony/{ba}/line/{sn}/phone/resetConfig` | `void` | RÃ©initialiser config |
| GET | `/telephony/{ba}/line/{sn}/phone/supportsPhonebook` | `boolean` | Support phonebook |
| GET | `/telephony/{ba}/line/{sn}/phone/merchandiseAvailable` | `Merchandise[]` | Ã‰quipements dispos |
| POST | `/telephony/{ba}/line/{sn}/phone/changePhoneConfiguration` | `void` | Appliquer config |

#### Phone Phonebook (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/phone/phonebook` | `string[]` | Liste annuaires |
| GET | `/telephony/{ba}/line/{sn}/phone/phonebook/{bookKey}` | `Phonebook` | DÃ©tail annuaire |
| POST | `/telephony/{ba}/line/{sn}/phone/phonebook` | `{bookKey}` | CrÃ©er annuaire |
| DELETE | `/telephony/{ba}/line/{sn}/phone/phonebook/{bookKey}` | `void` | Supprimer |

#### Phone Function Keys (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/phone/functionKey` | `number[]` | Liste touches |
| GET | `/telephony/{ba}/line/{sn}/phone/functionKey/{keyNum}` | `FunctionKey` | DÃ©tail touche |
| PUT | `/telephony/{ba}/line/{sn}/phone/functionKey/{keyNum}` | `void` | Modifier touche |
| GET | `/telephony/{ba}/line/{sn}/phone/functionKey/{keyNum}/availableFunction` | `string[]` | Fonctions dispos |

#### Abbreviated Numbers ligne (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/abbreviatedNumber` | `number[]` | Liste abrÃ©gÃ©s |
| GET | `/telephony/{ba}/line/{sn}/abbreviatedNumber/{id}` | `AbbreviatedNumber` | DÃ©tail |
| POST | `/telephony/{ba}/line/{sn}/abbreviatedNumber` | `void` | CrÃ©er |
| PUT | `/telephony/{ba}/line/{sn}/abbreviatedNumber/{id}` | `void` | Modifier |
| DELETE | `/telephony/{ba}/line/{sn}/abbreviatedNumber/{id}` | `void` | Supprimer |

#### Appels
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/calls` | `string[]` | Liste IDs appels |
| GET | `/telephony/{ba}/line/{sn}/calls/{id}` | `Call` | DÃ©tail appel |
| POST | `/telephony/{ba}/line/{sn}/click2CallUser` | `void` | Lancer Click2Call |
| GET | `/telephony/{ba}/line/{sn}/click2CallUser` | `Click2CallUser[]` | Liste users C2C |
| POST | `/telephony/{ba}/line/{sn}/automaticCall` | `{taskId}` | Appel automatique |

#### Codecs & TonalitÃ©s
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/tones` | `LineTones` | TonalitÃ©s configurÃ©es |
| PUT | `/telephony/{ba}/line/{sn}/tones` | `void` | Modifier tonalitÃ©s |
| POST | `/telephony/{ba}/line/{sn}/tones/toneUpload` | `void` | Upload tonalitÃ© custom |
| GET | `/telephony/{ba}/line/{sn}/availableCodecs` | `string[]` | Codecs disponibles |
| GET | `/telephony/{ba}/line/{sn}/defaultCodecs` | `string[]` | Codecs par dÃ©faut |

#### Lignes simultanÃ©es
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/line/{sn}/simultaneousChannelsDetails` | `ChannelsDetails` | DÃ©tails canaux |
| GET | `/telephony/{ba}/line/{sn}/maximumAvailableSimultaneousLines` | `number` | Max lignes simultanÃ©es |

#### Conversion & RÃ©siliation
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/telephony/{ba}/line/{sn}/convertToNumber` | `OfferTask` | Convertir en numÃ©ro |
| POST | `/telephony/{ba}/line/{sn}/cancelConvertToNumber` | `void` | Annuler conversion |
| DELETE | `/telephony/{ba}/line/{sn}` | `void` | RÃ©silier ligne |
| POST | `/telephony/{ba}/line/{sn}/cancelTermination` | `void` | Annuler rÃ©siliation |

---

### 10.3 APIs VOICEMAIL

âš ï¸ **ATTENTION** : Le voicemail est un service SÃ‰PARÃ‰ de la ligne !
Le serviceName voicemail peut Ãªtre diffÃ©rent du serviceName ligne.

#### Configuration
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/voicemail/{sn}` | `Voicemail` | DÃ©tails voicemail |
| GET | `/telephony/{ba}/voicemail/{sn}/settings` | `VoicemailSettings` | ParamÃ¨tres |
| PUT | `/telephony/{ba}/voicemail/{sn}/settings` | `void` | Modifier paramÃ¨tres |
| POST | `/telephony/{ba}/voicemail/{sn}/settings/changePassword` | `void` | âš ï¸ Changer MDP |
| POST | `/telephony/{ba}/voicemail/{sn}/settings/changeRouting` | `void` | Changer routage |
| GET | `/telephony/{ba}/voicemail/{sn}/settings/voicemailNumbers` | `{internal, external}` | NumÃ©ros VM |
| GET | `/telephony/{ba}/voicemail/{sn}/settings/routing` | `VoicemailRouting` | Routage |

#### NumÃ©ros voicemail liÃ©s
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/voicemail/{sn}/numbers` | `string[]` | NumÃ©ros associÃ©s |
| GET | `/telephony/{ba}/voicemail/{sn}/routing` | `VoicemailRouting` | Routage actuel |

#### Messages
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/voicemail/{sn}/directories` | `number[]` | Liste IDs messages |
| GET | `/telephony/{ba}/voicemail/{sn}/directories/{id}` | `VoicemailMessage` | DÃ©tail message |
| DELETE | `/telephony/{ba}/voicemail/{sn}/directories/{id}` | `void` | Supprimer message |
| POST | `/telephony/{ba}/voicemail/{sn}/directories/{id}/move` | `void` | DÃ©placer message |
| GET | `/telephony/{ba}/voicemail/{sn}/directories/{id}/download` | `{url: string}` | TÃ©lÃ©charger audio |

#### Annonces
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/voicemail/{sn}/greetings` | `number[]` | Liste IDs annonces |
| GET | `/telephony/{ba}/voicemail/{sn}/greetings/{id}` | `Greeting` | DÃ©tail annonce |
| POST | `/telephony/{ba}/voicemail/{sn}/greetings` | `Greeting` | CrÃ©er annonce |
| DELETE | `/telephony/{ba}/voicemail/{sn}/greetings/{id}` | `void` | Supprimer annonce |
| GET | `/telephony/{ba}/voicemail/{sn}/greetings/{id}/download` | `{url: string}` | TÃ©lÃ©charger annonce |

---

### 10.4 APIs NUMÃ‰RO (number) & EASYHUNTING

#### Lecture numÃ©ro
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/number/{sn}` | `TelephonyNumber` | DÃ©tails numÃ©ro |
| GET | `/telephony/{ba}/number/{sn}/serviceInfos` | `ServiceInfos` | Infos facturation |
| PUT | `/telephony/{ba}/number/{sn}` | `void` | Modifier numÃ©ro |
| POST | `/telephony/{ba}/number/{sn}/changeFeatureType` | `OfferTask` | Changer type feature |
| POST | `/telephony/{ba}/number/{sn}/convertToLine` | `OfferTask` | Convertir en ligne |

#### EasyHunting (File d'attente)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}` | `EasyHunting` | Config easyHunting |
| PUT | `/telephony/{ba}/easyHunting/{sn}` | `void` | Modifier config |
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting` | `HuntingConfig` | Config hunting |
| PUT | `/telephony/{ba}/easyHunting/{sn}/hunting` | `void` | Modifier hunting |

#### Agents (membres file d'attente)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/agent` | `number[]` | âš ï¸ Liste IDs (number!) |
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/agent/{id}` | `Agent` | DÃ©tail agent |
| POST | `/telephony/{ba}/easyHunting/{sn}/hunting/agent` | `Agent` | CrÃ©er agent |
| PUT | `/telephony/{ba}/easyHunting/{sn}/hunting/agent/{id}` | `void` | Modifier agent |
| DELETE | `/telephony/{ba}/easyHunting/{sn}/hunting/agent/{id}` | `void` | Supprimer agent |
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/agent/{id}/queue` | `AgentQueue[]` | Files de l'agent |
| POST | `/telephony/{ba}/easyHunting/{sn}/hunting/agent/{id}/liveStatus` | `void` | Changer statut live |

#### Queues (files)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/queue` | `number[]` | Liste IDs queues |
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/queue/{id}` | `Queue` | DÃ©tail queue |
| POST | `/telephony/{ba}/easyHunting/{sn}/hunting/queue` | `Queue` | CrÃ©er queue |
| PUT | `/telephony/{ba}/easyHunting/{sn}/hunting/queue/{id}` | `void` | Modifier queue |
| DELETE | `/telephony/{ba}/easyHunting/{sn}/hunting/queue/{id}` | `void` | Supprimer queue |
| GET | `/telephony/{ba}/easyHunting/{sn}/hunting/queue/{id}/liveCalls` | `LiveCall[]` | Appels en cours |

#### Sons personnalisÃ©s
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}/sound` | `number[]` | Liste IDs sons |
| GET | `/telephony/{ba}/easyHunting/{sn}/sound/{id}` | `Sound` | DÃ©tail son |
| POST | `/telephony/{ba}/easyHunting/{sn}/soundUpload` | `void` | Upload son |
| DELETE | `/telephony/{ba}/easyHunting/{sn}/sound/{id}` | `void` | Supprimer son |

#### Enregistrements
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}/records` | `number[]` | Liste IDs enregistrements |
| GET | `/telephony/{ba}/easyHunting/{sn}/records/{id}` | `Record` | DÃ©tail enregistrement |
| DELETE | `/telephony/{ba}/easyHunting/{sn}/records/{id}` | `void` | Supprimer |

#### Conditions horaires & Screening
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyHunting/{sn}/timeConditions/conditions` | `number[]` | Liste IDs conditions |
| GET | `/telephony/{ba}/easyHunting/{sn}/timeConditions/conditions/{id}` | `TimeCondition` | DÃ©tail condition |
| GET | `/telephony/{ba}/easyHunting/{sn}/screenListConditions/conditions` | `number[]` | Liste screening |
| GET | `/telephony/{ba}/easyHunting/{sn}/screenListConditions/conditions/{id}` | `ScreenCondition` | DÃ©tail screening |

---

### 10.5 APIs CONFERENCE (NOUVEAU v9)

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/conference/{sn}` | `Conference` | DÃ©tails confÃ©rence |
| PUT | `/telephony/{ba}/conference/{sn}` | `void` | Modifier confÃ©rence |

#### Participants
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/conference/{sn}/participants` | `number[]` | Liste IDs participants |
| GET | `/telephony/{ba}/conference/{sn}/participants/{id}` | `Participant` | DÃ©tail participant |
| POST | `/telephony/{ba}/conference/{sn}/participants/{id}/kick` | `void` | Exclure |
| POST | `/telephony/{ba}/conference/{sn}/participants/{id}/mute` | `void` | Couper micro |
| POST | `/telephony/{ba}/conference/{sn}/participants/{id}/unmute` | `void` | RÃ©tablir micro |
| POST | `/telephony/{ba}/conference/{sn}/participants/{id}/deaf` | `void` | Rendre sourd |
| POST | `/telephony/{ba}/conference/{sn}/participants/{id}/undeaf` | `void` | RÃ©tablir audio |

#### WebAccess
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/conference/{sn}/webAccess` | `number[]` | Liste accÃ¨s web |
| GET | `/telephony/{ba}/conference/{sn}/webAccess/{id}` | `WebAccess` | DÃ©tail accÃ¨s |
| POST | `/telephony/{ba}/conference/{sn}/webAccess` | `WebAccess` | CrÃ©er accÃ¨s |
| DELETE | `/telephony/{ba}/conference/{sn}/webAccess/{id}` | `void` | Supprimer accÃ¨s |

---

### 10.6 APIs REDIRECT (NOUVEAU v9)

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/redirect/{sn}` | `Redirect` | DÃ©tails redirection |
| PUT | `/telephony/{ba}/redirect/{sn}` | `void` | Modifier destination |

---

### 10.7 APIs OVH PABX (SVI)

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/ovhPabx/{sn}` | `OvhPabx` | Config PABX |
| PUT | `/telephony/{ba}/ovhPabx/{sn}` | `void` | Modifier PABX |
| GET | `/telephony/{ba}/ovhPabx/{sn}/hunting` | `HuntingConfig` | Config hunting |
| PUT | `/telephony/{ba}/ovhPabx/{sn}/hunting` | `void` | Modifier hunting |

#### Menus SVI
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/ovhPabx/{sn}/menu` | `number[]` | Liste menus SVI |
| GET | `/telephony/{ba}/ovhPabx/{sn}/menu/{id}` | `Menu` | DÃ©tail menu |
| POST | `/telephony/{ba}/ovhPabx/{sn}/menu` | `Menu` | CrÃ©er menu |
| PUT | `/telephony/{ba}/ovhPabx/{sn}/menu/{id}` | `void` | Modifier menu |
| DELETE | `/telephony/{ba}/ovhPabx/{sn}/menu/{id}` | `void` | Supprimer menu |
| GET | `/telephony/{ba}/ovhPabx/{sn}/menu/{id}/entry` | `number[]` | EntrÃ©es menu |

#### Dialplans
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/ovhPabx/{sn}/dialplan` | `number[]` | Liste dialplans |
| GET | `/telephony/{ba}/ovhPabx/{sn}/dialplan/{id}` | `Dialplan` | DÃ©tail dialplan |

#### Sons & TTS
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/ovhPabx/{sn}/sound` | `number[]` | Liste sons PABX |
| GET | `/telephony/{ba}/ovhPabx/{sn}/tts` | `number[]` | Liste TTS |
| GET | `/telephony/{ba}/ovhPabx/{sn}/tts/{id}` | `Tts` | DÃ©tail TTS |
| POST | `/telephony/{ba}/ovhPabx/{sn}/tts` | `Tts` | CrÃ©er TTS |

---

### 10.8 APIs MINI PABX & EASY PABX (NOUVEAU v9)

#### Mini PABX
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/miniPabx/{sn}` | `MiniPabx` | DÃ©tails mini PABX |
| GET | `/telephony/{ba}/miniPabx/{sn}/hunting` | `MiniPabxHunting` | Config hunting |
| PUT | `/telephony/{ba}/miniPabx/{sn}/hunting` | `void` | Modifier hunting |

#### Easy PABX
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/easyPabx/{sn}` | `EasyPabx` | DÃ©tails easy PABX |
| GET | `/telephony/{ba}/easyPabx/{sn}/hunting` | `EasyPabxHunting` | Config hunting |

---

### 10.9 APIs CONSOMMATION (service)

âš ï¸ La consommation voix est sur `/service/{sn}` et non `/line/{sn}` !

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/service/{sn}/voiceConsumption` | `number[]` | Liste IDs conso |
| GET | `/telephony/{ba}/service/{sn}/voiceConsumption/{id}` | `VoiceConsumption` | DÃ©tail conso |
| GET | `/telephony/{ba}/service/{sn}/faxConsumption` | `number[]` | Liste conso fax |
| GET | `/telephony/{ba}/service/{sn}/faxConsumption/{id}` | `FaxConsumption` | DÃ©tail conso fax |
| GET | `/telephony/{ba}/service/{sn}/repaymentConsumption` | `Repayment[]` | Remboursements |
| GET | `/telephony/{ba}/service/{sn}/diagnosticReports` | `Report[]` | Rapports diagnostic |

---

### 10.10 APIs FAX

âš ï¸ **DISTINCTION IMPORTANTE** :
- `/freefax/{sn}` = Fax GRATUIT (offre freefax standalone)
- `/telephony/{ba}/fax/{sn}` = Fax TÃ‰LÃ‰PHONIE (dans un groupe VoIP)

#### Fax TÃ©lÃ©phonie (dans groupe VoIP)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/fax/{sn}` | `TelephonyFax` | DÃ©tails fax |
| PUT | `/telephony/{ba}/fax/{sn}` | `void` | Modifier fax |
| GET | `/telephony/{ba}/fax/{sn}/settings` | `FaxSettings` | âš ï¸ ParamÃ¨tres |
| PUT | `/telephony/{ba}/fax/{sn}/settings` | `void` | Modifier paramÃ¨tres |
| POST | `/telephony/{ba}/fax/{sn}/settings/changePassword` | `void` | Changer MDP |
| POST | `/telephony/{ba}/fax/{sn}/settings/sendFax` | `void` | Envoyer fax |

#### ScreenLists (filtres) - NOUVEAU v9
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/fax/{sn}/screenLists` | `ScreenList[]` | Liste filtres |
| POST | `/telephony/{ba}/fax/{sn}/screenLists` | `void` | CrÃ©er filtre |
| PUT | `/telephony/{ba}/fax/{sn}/screenLists` | `void` | Modifier filtre |
| DELETE | `/telephony/{ba}/fax/{sn}/screenLists` | `void` | Supprimer filtre |
| POST | `/telephony/{ba}/fax/{sn}/screenLists/reset` | `void` | RÃ©initialiser |

#### Campagnes Fax
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/fax/{sn}/campaigns` | `number[]` | Liste IDs campagnes |
| GET | `/telephony/{ba}/fax/{sn}/campaigns/{id}` | `Campaign` | DÃ©tail campagne |
| GET | `/telephony/{ba}/fax/{sn}/campaigns/{id}/detail` | `number[]` | IDs dÃ©tails |
| GET | `/telephony/{ba}/fax/{sn}/campaigns/{id}/detail/{detailId}` | `CampaignDetail` | DÃ©tail envoi |
| POST | `/telephony/{ba}/fax/{sn}/campaigns` | `Campaign` | CrÃ©er campagne |
| DELETE | `/telephony/{ba}/fax/{sn}/campaigns/{id}` | `void` | Annuler campagne |
| POST | `/telephony/{ba}/fax/{sn}/campaigns/{id}/start` | `void` | DÃ©marrer campagne |
| POST | `/telephony/{ba}/fax/{sn}/campaigns/{id}/stop` | `void` | Stopper campagne |

---

### 10.11 APIs CARRIER-SIP

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/carrierSip/{sn}` | `CarrierSip` | DÃ©tails trunk |
| PUT | `/telephony/{ba}/carrierSip/{sn}` | `void` | Modifier trunk |
| GET | `/telephony/{ba}/carrierSip/{sn}/settings` | `CarrierSettings` | âš ï¸ ParamÃ¨tres |
| PUT | `/telephony/{ba}/carrierSip/{sn}/settings` | `void` | Modifier paramÃ¨tres |
| GET | `/telephony/{ba}/carrierSip/{sn}/clusterDetails` | `ClusterDetails` | DÃ©tails cluster SIP |

#### CDR (Call Detail Records)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/carrierSip/{sn}/cdrs` | `CdrRecord[]` | âš ï¸ Liste CDRs (array direct!) |

#### Endpoints
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/{ba}/carrierSip/{sn}/endpoints` | `number[]` | âš ï¸ Liste IDs (number!) |
| GET | `/telephony/{ba}/carrierSip/{sn}/endpoints/{id}` | `Endpoint` | DÃ©tail endpoint |
| POST | `/telephony/{ba}/carrierSip/{sn}/endpoints` | `Endpoint` | CrÃ©er endpoint |
| PUT | `/telephony/{ba}/carrierSip/{sn}/endpoints/{id}` | `void` | Modifier endpoint |
| DELETE | `/telephony/{ba}/carrierSip/{sn}/endpoints/{id}` | `void` | Supprimer endpoint |

#### ServiceInfos (NOUVEAU v9)
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/telephony/lines/{sn}/serviceInfos` | `ServiceInfos` | Infos service carrier |

---

### 10.12 APIs SMS

| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms` | `string[]` | Liste comptes SMS |
| GET | `/sms/{sn}` | `SmsAccount` | DÃ©tails compte |
| GET | `/sms/{sn}/serviceInfos` | `ServiceInfos` | Infos facturation |
| PUT | `/sms/{sn}` | `void` | Modifier compte |
| GET | `/sms/{sn}/seeOffers` | `Offer[]` | Offres disponibles |
| GET | `/sms/{sn}/document` | `string` | Document (facture) |
| GET | `/sms/{sn}/sendersAvailableForValidation` | `string[]` | Senders en attente |

#### Envoi SMS
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/sms/{sn}/jobs` | `Job` | Envoyer SMS |
| GET | `/sms/{sn}/jobs` | `number[]` | Liste jobs |
| GET | `/sms/{sn}/jobs/{id}` | `Job` | DÃ©tail job |
| DELETE | `/sms/{sn}/jobs/{id}` | `void` | Annuler job |

#### Historique
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms/{sn}/incoming` | `number[]` | SMS reÃ§us |
| GET | `/sms/{sn}/incoming/{id}` | `IncomingSms` | DÃ©tail reÃ§u |
| DELETE | `/sms/{sn}/incoming/{id}` | `void` | Supprimer reÃ§u |
| GET | `/sms/{sn}/outgoing` | `number[]` | SMS envoyÃ©s |
| GET | `/sms/{sn}/outgoing/{id}` | `OutgoingSms` | DÃ©tail envoyÃ© |
| DELETE | `/sms/{sn}/outgoing/{id}` | `void` | Supprimer envoyÃ© |
| GET | `/sms/{sn}/outgoing/{id}/hlr` | `HlrInfo` | Info HLR (NOUVEAU v9) |

#### ExpÃ©diteurs
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms/{sn}/senders` | `string[]` | Liste senders |
| GET | `/sms/{sn}/senders/{sender}` | `Sender` | DÃ©tail sender |
| POST | `/sms/{sn}/senders` | `Sender` | CrÃ©er sender |
| PUT | `/sms/{sn}/senders/{sender}` | `void` | Modifier sender |
| DELETE | `/sms/{sn}/senders/{sender}` | `void` | Supprimer sender |
| POST | `/sms/{sn}/senders/{sender}/validate` | `void` | Valider sender |

#### Destinataires
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms/{sn}/receivers` | `number[]` | Liste receivers |
| GET | `/sms/{sn}/receivers/{id}` | `Receiver` | DÃ©tail receiver |
| POST | `/sms/{sn}/receivers` | `Receiver` | CrÃ©er liste |
| PUT | `/sms/{sn}/receivers/{id}` | `void` | Modifier liste |
| DELETE | `/sms/{sn}/receivers/{id}` | `void` | Supprimer liste |
| GET | `/sms/{sn}/receivers/{id}/csv` | `{url: string}` | TÃ©lÃ©charger CSV |

#### Templates
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms/{sn}/templatesControl` | `string[]` | Liste templates |
| GET | `/sms/{sn}/templatesControl/{name}` | `Template` | DÃ©tail template |
| POST | `/sms/{sn}/templatesControl` | `Template` | CrÃ©er template |
| PUT | `/sms/{sn}/templatesControl/{name}` | `void` | Modifier template |
| DELETE | `/sms/{sn}/templatesControl/{name}` | `void` | Supprimer template |

#### Campagnes
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| GET | `/sms/{sn}/batches` | `number[]` | Liste campagnes |
| GET | `/sms/{sn}/batches/{id}` | `Batch` | DÃ©tail campagne |
| POST | `/sms/{sn}/batches` | `Batch` | CrÃ©er campagne |
| PUT | `/sms/{sn}/batches/{id}` | `void` | Modifier campagne |
| DELETE | `/sms/{sn}/batches/{id}` | `void` | Supprimer campagne |
| POST | `/sms/{sn}/batches/{id}/start` | `void` | DÃ©marrer campagne |

#### CrÃ©dits
| MÃ©thode | Endpoint | Retour | Description |
|---------|----------|--------|-------------|
| POST | `/sms/{sn}/transferCredits` | `void` | TransfÃ©rer crÃ©dits |
| GET | `/sms/{sn}/users` | `string[]` | Utilisateurs API |

---

### 10.13 Patterns de code TypeScript

#### Pattern correct pour LIST + DETAILS
```typescript
async function getItems(billingAccount: string): Promise<Item[]> {
  try {
    // Ã‰tape 1: RÃ©cupÃ©rer les IDs
    const ids = await ovhApi.get<number[]>(
      `/telephony/${billingAccount}/items`
    );

    // Ã‰tape 2: RÃ©cupÃ©rer les dÃ©tails en parallÃ¨le
    const items = await Promise.all(
      ids.map(async (id) => {
        try {
          return await ovhApi.get<Item>(
            `/telephony/${billingAccount}/items/${id}`
          );
        } catch {
          return null;
        }
      })
    );

    // Ã‰tape 3: Filtrer les nulls
    return items.filter((item): item is Item => item !== null);
  } catch {
    return [];
  }
}
```

#### Pattern avec limitation
```typescript
async function getItemsLimited(billingAccount: string, limit = 50): Promise<Item[]> {
  try {
    const ids = await ovhApi.get<number[]>(`/path/to/items`);

    // Limiter pour Ã©viter surcharge
    const items = await Promise.all(
      ids.slice(0, limit).map(async (id) => {
        try {
          return await ovhApi.get<Item>(`/path/to/items/${id}`);
        } catch {
          return null;
        }
      })
    );

    return items.filter((item): item is Item => item !== null);
  } catch {
    return [];
  }
}
```

#### Pattern avec encodeURIComponent (pour senders SMS)
```typescript
async function deleteSender(accountName: string, sender: string): Promise<void> {
  // âš ï¸ Le sender peut contenir des caractÃ¨res spÃ©ciaux
  return ovhApi.delete(`/sms/${accountName}/senders/${encodeURIComponent(sender)}`);
}
```

---

### 10.14 âš ï¸ APIs NON IMPLÃ‰MENTÃ‰ES (Features avancÃ©es)

Ces APIs existent dans old_manager mais ne sont pas encore dans new_manager :

| API | Description | PrioritÃ© |
|-----|-------------|----------|
| `X-Ovh-Batch header` | RequÃªtes batch via header | Moyenne |
| `Iceberg queries` | Pagination avec curseur | Basse |
| `/telephony/{ba}/rsva/{sn}` | Services RSVA | Basse |
| `/telephony/{ba}/vxml/{sn}` | Services VXML | Basse |
| `/sms/{sn}/phonebooks` | Annuaires SMS | Moyenne |
| `/sms/{sn}/blacklists` | Listes noires SMS | Moyenne |
| `/sms/{sn}/virtualNumbers` | NumÃ©ros virtuels SMS | Moyenne |

---

### 10.15 MAPPING OLD_MANAGER â†’ NEW_MANAGER (NOUVEAU v10)

Ce mapping documente la correspondance entre les rÃ©pertoires de l'ancien et du nouveau manager.

| old_manager (AngularJS) | new_manager (React) | Statut |
|-------------------------|---------------------|--------|
| `apps/telecom/src/app/telecom/telephony/billingAccount/` | `sip/groups/` | âœ… MigrÃ© |
| `apps/telecom/src/app/telecom/telephony/billingAccount/line/` | `sip/lines/` | âœ… MigrÃ© |
| `apps/telecom/src/app/telecom/telephony/billingAccount/alias/` | `sip/numbers/` | âœ… MigrÃ© |
| `modules/carrier-sip/src/` | `carrier-sip/` | âœ… MigrÃ© |
| `modules/sms/src/sms/` | `sms/` | âœ… MigrÃ© |
| `apps/telecom/src/app/telecom/telephony/fax/` | `fax/` | âœ… MigrÃ© |
| `modules/telecom-universe-components/src/telecom/voip/` | (DistribuÃ© dans services) | âœ… IntÃ©grÃ© |
| `ovh-api-services/src/api/telephony/` | (RÃ©fÃ©rence endpoints) | ğŸ“– Documentation |

#### Fichiers de rÃ©fÃ©rence old_manager

| Section | Fichier principal old_manager | Usage |
|---------|-------------------------------|-------|
| **VoIP Global** | `modules/telecom-universe-components/src/telecom/voip/billingAccount/voip-billing-account.service.js` | APIs groupe |
| **Lignes** | `modules/telecom-universe-components/src/telecom/voip/service/line/voip-service-line.service.js` | APIs ligne |
| **Carrier-SIP** | `modules/carrier-sip/src/carrier-sip.service.js` | APIs carrier-sip |
| **SMS** | `modules/sms/src/sms/telecom-sms.service.js` | APIs SMS |
| **API Definitions** | `ovh-api-services/src/api/telephony/*.v6.service.js` | Endpoints exacts |

---

### 10.16 STATISTIQUES DE COUVERTURE API (NOUVEAU v10)

RÃ©sultat de l'audit exhaustif du 2026-01-01.

#### Fichiers analysÃ©s

| Section | Fichiers service.ts | Lignes de code | Statut |
|---------|---------------------|----------------|--------|
| `carrier-sip/` | 5 | ~200 | âœ… VALIDÃ‰ |
| `fax/` | 6 | ~300 | âœ… VALIDÃ‰ |
| `sms/` | 7 | ~400 | âœ… VALIDÃ‰ |
| `sip/groups/` | 8 | ~700 | âœ… VALIDÃ‰ |
| `sip/lines/` | 13 | ~950 | âœ… CORRIGÃ‰ |
| `sip/numbers/` | 16 | ~1300 | âœ… VALIDÃ‰ |
| **TOTAL** | **56** | **~3850** | âœ… |

#### RÃ©sumÃ© corrections

| Type | Nombre | DÃ©tails |
|------|--------|---------|
| Erreurs trouvÃ©es | 1 | `lines.service.ts` endpoint consommation |
| Corrections appliquÃ©es | 1 | Pattern LIST+DETAILS correct |
| Fichiers dÃ©jÃ  corrects | 55 | Validation confirmÃ©e |

#### Endpoints potentiellement inexistants (avec fallbacks)

Ces endpoints sont appelÃ©s mais retournent probablement des erreurs 404 (catchÃ©s) :

| Fichier | Endpoint | Impact |
|---------|----------|--------|
| `numbers.service.ts:153` | `/telephony/{ba}/number/{sn}/calls` | âš ï¸ Probablement inexistant, fallback [] |
| `numbers.service.ts:164` | `/telephony/{ba}/number/{sn}/consumption` | âš ï¸ Probablement inexistant, fallback [] |

**Note:** Ces endpoints ont des `catch(() => [])` donc ne causent pas d'erreur visible Ã  l'utilisateur.

##############################################################################
# 11. VARIABLES DYNAMIQUES
##############################################################################

| Variable | Source API |
|----------|------------|
| {billingAccount} | /telephony â†’ item |
| {description} | /telephony/{ba} â†’ description |
| {nicHandle} | Session utilisateur |
| {lines} | /telephony/{ba}/line â†’ count |
| {numbers} | /telephony/{ba}/number â†’ count |
| {fax} | /telephony/{ba}/fax â†’ count |
| {serviceName} | /telephony/{ba}/line/{sn} â†’ serviceName |
| {offerType} | /telephony/{ba}/line/{sn} â†’ offerType |
| {phoneModel} | /telephony/{ba}/line/{sn}/phone â†’ brand+model |
| {macAddress} | /telephony/{ba}/line/{sn}/phone â†’ macAddress |
| {status} | /telephony/{ba}/serviceInfos â†’ status |
| {credit} | /telephony/{ba} â†’ creditThreshold |
| {smsAccount} | /sms â†’ item |
| {smsCredits} | /sms/{sn} â†’ creditsLeft |
| {smsName} | /sms/{sn} â†’ name |

##############################################################################
# 12-13. [SECTIONS INCHANGÃ‰ES - ARBORESCENCE FICHIERS, WORKFLOW]
##############################################################################

[... sections 12-13 identiques Ã  v8 ...]

##############################################################################
# 14. CHANGELOG
##############################################################################

### v14 (2026-01-01) - NAV3 FONT-SIZE
- âœ… FIX: `.voip-nav3-tab` font-size corrigÃ© (12px â†’ 11px)
- âœ… DOC: Section 2.5 mise Ã  jour avec valeur correcte
- âœ… CONFORMITÃ‰: NAV3 tabs maintenant conformes Ã  prompt_target.txt (11px)

### v13 (2026-01-01) - CONFORMITÃ‰ LAYOUT 100%
- âœ… CSS: `.voip-left-panel` ajout `flex-shrink: 0` (empÃªche shrink sur petits Ã©crans)
- âœ… CSS: `.voip-right-panel` ajout `min-width: 0` (empÃªche overflow texte long)
- âœ… AUDIT: ConformitÃ© layout vÃ©rifiÃ©e Ã  100% vs prompt_split_layout_method.txt
- âœ… AUDIT: Toutes couleurs conformes Ã  prompt_target.txt
- âœ… AUDIT: NAV3/NAV4 CSS conformes Ã  prompt_target_sidecar_left.txt

### v12 (2026-01-01) - NAV3 HORIZONTAL + DOC NAVIGATION
- âœ… UX: NAV3 tabs sur une seule ligne (4 boutons compacts)
- âœ… CSS: Grid 2x2 â†’ Flex horizontal avec `flex: 1`
- âœ… CSS: Boutons padding rÃ©duit (8px 6px â†’ 6px 4px)
- âœ… CSS: Font-size rÃ©duit (11px â†’ 10px tabs, 10px â†’ 9px count)
- âœ… Labels: Emojis supprimÃ©s (ğŸ“ğŸ’¬ğŸ“ ğŸ”— â†’ rien)
- âœ… Labels: "Carrier" â†’ "Trunk" (plus court)
- âœ… DOC: Section 2 rÃ©Ã©crite avec structure NAV rÃ©elle
- âœ… DOC: NAV3 = left panel (SIP/SMS/FAX/Trunk)
- âœ… DOC: NAV4 = right panel tabs par service
- âœ… DOC: Actions header documentÃ©es (badges, boutons)
- âœ… DOC: Arborescence fichiers complÃ¨te
- âœ… DOC: Ã‰tats vides documentÃ©s

### v11 (2026-01-01) - CSS + i18n + Actions
- âœ… CSS: Pattern .btn-primary:hover unifiÃ© (color: #FFFFFF !important)
- âœ… i18n: ClÃ©s sip/sms/fax/carrier.title et .noService
- âœ… Actions: onClick handlers sur boutons header (SmsPanel, FaxPanel)

### v10 (2026-01-01) - AUDIT EXHAUSTIF
- âœ… AUDIT: 56 fichiers service.ts analysÃ©s (~3000+ lignes)
- âœ… FIX: `sip/lines/lines.service.ts:124-129` - endpoint consommation corrigÃ©
  - Avant: `/telephony/{ba}/line/{sn}/statistics/consumption` (INEXISTANT)
  - AprÃ¨s: `/telephony/{ba}/service/{sn}/voiceConsumption` + pattern LIST+DETAILS
- âœ… VALIDÃ‰: carrier-sip/ (5 fichiers) - CORRECT
- âœ… VALIDÃ‰: fax/ (6 fichiers) - CORRECT (distinction freefax/telephony fax)
- âœ… VALIDÃ‰: sms/ (7 fichiers) - CORRECT + encodeURIComponent pour senders
- âœ… VALIDÃ‰: sip/groups/ (8 fichiers) - COMPLET (639 lignes groups.service.ts)
- âœ… VALIDÃ‰: sip/lines/ (13 fichiers) - CORRIGÃ‰ (905 lignes lines.service.ts)
- âœ… VALIDÃ‰: sip/numbers/ (16 fichiers) - COMPLET (1238 lignes numbers.service.ts)
- âœ… ADD: Section 10.15 - Mapping old_manager â†’ new_manager
- âœ… ADD: Section 10.16 - Statistiques de couverture API

### v9 (2026-01-01)
- âœ… FIX: Endpoint carrier-sip/settings corrigÃ© (/settings manquant)
- âœ… FIX: Endpoints fax/campaigns corrigÃ©s (/telephony/{ba}/fax/{sn}/campaigns)
- âœ… ADD: 115+ nouveaux endpoints documentÃ©s
- âœ… ADD: Section Conference (participants, webAccess)
- âœ… ADD: Section Redirect
- âœ… ADD: Section Mini PABX & Easy PABX
- âœ… ADD: APIs ligne (changePassword, traffic, device, phonebook, functionKey)
- âœ… ADD: APIs groupe (task, spare, domains, accessories, credit)
- âœ… ADD: APIs SMS (seeOffers, document, HLR, validate sender)
- âœ… ADD: APIs FAX (screenLists CRUD, campaign details)
- âœ… ADD: Pattern encodeURIComponent pour senders
- âœ… ADD: Section APIs non implÃ©mentÃ©es

### v8 (2026-01-01)
- Section API AUDIT COMPLET avec patterns corrects

### v7
- Version initiale alignÃ©e avec frontend

================================================================================
FIN PROMPT TARGET WEB CLOUD > VOIP - v14
================================================================================
