# CONSIGNES REACT - NEW MANAGER OVHcloud

## 1. Contexte du projet

Interface **New Manager** pour la gestion des services OVHcloud : Cloud, Hebergement Web, Email, DNS, Domaines, VPS, Serveurs dedies.

Ce projet est une **reecriture progressive** du "old manager" existant (monorepo Angular + React OVHcloud).

### 1.1 Objectif de migration

Le **Old Manager** est accessible en production sur : `https://manager.eu.ovhcloud.com`

**Strategie de migration :**
- NE PAS faire de redirections vers `manager.eu.ovhcloud.com`
- REECRIRE les fonctionnalites en identifiant les appels API dans le code source du old manager
- UTILISER les APIs OVH directement dans le New Manager

**Methodologie "la methode" :**
1. **Localiser** la fonctionnalite dans le old manager (`/home/ubuntu/manager/`)
2. **Identifier** les appels API (endpoints `/me/*`, `/services/*`, etc.)
3. **Extraire** la logique metier et les types TypeScript
4. **Generer** le composant React equivalent pour le new manager

---

## 2. Regles de travail

1. **Lire et analyser** le code fourni. Ne pas partager l'analyse sauf demande explicite.
2. **Ne rien faire** sans autorisation.
3. **Attendre les consignes** avant toute action.
4. **Generer le code** dans le chat en utilisant **un seul bloc de code** avec copier-coller.
5. **Encapsuler** les commandes `cp` et `tee` dans un bloc markdown.
6. **Migration** : utiliser "la methode" -> `grep` dans old manager -> localiser les appels API -> extraire types -> generer composant React (pas de redirection vers manager.eu.ovhcloud.com)
7. **Conserver** le design system existant, ne pas reinventer les composants UI.
8. **Erreur 401 API** : rediriger vers l'auth OVH, pas d'erreur affichee.
9. **i18n** : tous les textes visibles doivent utiliser `useTranslation()` (voir section 17).

---

## 3. Structure des repertoires

| Element | Chemin |
|---------|--------|
| **New Manager (Frontend React)** | `/home/ubuntu/aiapp/frontend/src/` |
| **Old Manager (Reference)** | `/home/ubuntu/manager/` |

---

## 4. New Manager

### 4.1 Archive
```bash
cd /home/ubuntu/
tar -cvf new_manager.tar --exclude='*2025*' --exclude='*.bak' aiapp/frontend/src/ aiapp/frontend/public/
```

### 4.2 Build

**Developpement :**
```bash
cd /home/ubuntu/aiapp/frontend
npm run build:dev
node /home/ubuntu/aiapp/frontend/scripts/check-i18n.cjs
/home/ubuntu/aiapp/scripts/D1-build_frontend_dev.sh
```

**Production :**
```bash
cd /home/ubuntu/aiapp/frontend
npm run build:prod
/home/ubuntu/aiapp/scripts/D2-promote_dev_to_prod.sh
# ou
/home/ubuntu/aiapp/scripts/D2-promote_dev_to_prod.sh --from-dist
```

### 4.3 Arborescence du framework
```
/home/ubuntu/aiapp/frontend/src/
├── App.tsx                       # App principale + routing
├── main.tsx                      # Bootstrap React
├── index.css                     # Styles racine
│
├── components/                   # Composants reutilisables
│   ├── Header/                   # Header global
│   │   ├── index.tsx
│   │   └── styles.css
│   ├── AccountSidebar/           # Sidebar droite (menu utilisateur)
│   │   ├── AccountSidebar.tsx
│   │   ├── UserInfos.tsx
│   │   ├── Shortcuts.tsx
│   │   └── UsefulLinks.tsx
│   ├── Layout/                   # Layout wrapper
│   ├── LoadingSpinner/           # Spinner de chargement
│   ├── HeaderNav.tsx             # Navigation header
│   ├── ServiceIcons.tsx          # Icones services
│   ├── Skeleton.tsx              # Skeleton loading
│   └── Skeleton.css
│
├── contexts/                     # Contexts React
│   └── AuthContext.tsx           # Contexte authentification
│
├── design-system/                # Design System OVH
│   ├── index.ts                  # Exports principaux
│   ├── tokens.css                # Variables CSS
│   ├── globals.css               # Styles globaux
│   ├── tokens/
│   │   └── index.ts
│   ├── COMPONENTS.md             # Doc composants
│   ├── DESIGN_TOKENS.md          # Doc tokens
│   ├── ICONS.md                  # Doc icones
│   └── PATTERNS.md               # Doc patterns
│
├── hooks/                        # Hooks globaux
│   └── useAppNavigation.ts       # Navigation applicative
│
├── i18n/                         # Internationalisation
│   ├── index.ts                  # Config i18next
│   └── LanguageSelector.tsx      # Selecteur langue
│
├── lib/                          # Utilitaires
│   ├── constants.ts              # Constantes globales
│   ├── types.ts                  # Types globaux
│   ├── useTabs.ts                # Hook gestion tabs
│   └── ResetSlot.tsx             # Reset slot component
│
├── styles/                       # Styles globaux
│   ├── globals.css
│   └── pages-common.css
│
├── types/                        # Types TypeScript
│   ├── auth.types.ts
│   └── services.types.ts
│
├── services/                     # Services API (~65 fichiers)
│   ├── api.ts                    # Client API base
│   ├── auth.ts                   # Authentification
│   ├── home.account.ts
│   ├── home.account.security.ts
│   ├── home.account.contacts.ts
│   ├── home.account.procedures.ts
│   ├── home.billing.ts
│   ├── home.billing.services.ts
│   ├── home.billing.orders.ts
│   ├── home.billing.agreements.ts
│   ├── home.support.ts
│   ├── home.support.communication.ts
│   ├── home.notifications.ts
│   ├── home.carbon.ts
│   ├── home.api.ts
│   ├── iam.ts
│   ├── iam.logs.ts
│   ├── iam.secret.ts
│   ├── iam.okms.ts
│   ├── iam.hsm.ts
│   ├── iam.dbaas-logs.ts
│   ├── iam.metrics.ts
│   ├── license.ts
│   ├── public-cloud.ts
│   ├── public-cloud.instances.ts
│   ├── public-cloud.block-storage.ts
│   ├── public-cloud.object-storage.ts
│   ├── public-cloud.databases.ts
│   ├── public-cloud.kubernetes.ts
│   ├── public-cloud.ai.ts
│   ├── public-cloud.registry.ts
│   ├── public-cloud.load-balancer.ts
│   ├── private-cloud.ts
│   ├── private-cloud.vmware.ts
│   ├── private-cloud.nutanix.ts
│   ├── bare-metal.dedicated.ts
│   ├── bare-metal.vps.ts
│   ├── bare-metal.housing.ts
│   ├── bare-metal.nasha.ts
│   ├── bare-metal.netapp.ts
│   ├── web-cloud.domains.ts
│   ├── web-cloud.dns-zones.ts
│   ├── web-cloud.hosting.ts
│   ├── web-cloud.private-database.ts
│   ├── web-cloud.email-domain.ts
│   ├── web-cloud.email-pro.ts
│   ├── web-cloud.exchange.ts
│   ├── web-cloud.zimbra.ts
│   ├── web-cloud.office.ts
│   ├── web-cloud.sms.ts
│   ├── web-cloud.voip.ts
│   ├── web-cloud.fax.ts
│   ├── web-cloud.pack-xdsl.ts
│   ├── web-cloud.overthebox.ts
│   ├── web-cloud.carrier-sip.ts
│   ├── network.ts
│   ├── network.cdn.ts
│   ├── network.cloud-connect.ts
│   ├── network.vrack-services.ts
│   └── network.security.ts
│
└── pages/                        # Pages - 8 univers
    ├── _placeholder/             # Template pages non implementees
    ├── Login.tsx                 # Page login
    ├── home/                     # A) HOME
    ├── iam/                      # B) IAM
    ├── license/                  # C) LICENSE
    ├── public-cloud/             # D) PUBLIC CLOUD
    ├── private-cloud/            # E) PRIVATE CLOUD
    ├── bare-metal/               # F) BARE METAL
    ├── web-cloud/                # G) WEB CLOUD
    └── network/                  # H) NETWORK
```

### 4.4 Convention de nommage des fichiers

| Element | Convention | Exemple |
|---------|------------|---------|
| Repertoire univers (NAV1) | `kebab-case` | `public-cloud/`, `bare-metal/` |
| Repertoire section (NAV2) | `kebab-case` | `account/`, `billing/` |
| Repertoire groupement | `kebab-case` | `hebergement/`, `emails/`, `telecom/` |
| Page principale section | `index.tsx` | `pages/home/account/index.tsx` |
| Tab (NAV3) | `PascalCaseTab.tsx` | `SecurityTab.tsx`, `OrdersTab.tsx` |
| Composant local | `PascalCase.tsx` | `ProfileTile.tsx` |
| Hook local | `use*.ts` | `useSecurityData.ts`, `usePeriodNavigation.ts` |
| Styles section | `styles.css` | `pages/home/account/styles.css` |
| Traduction page | `index.json` | `locales/fr/home/account/index.json` |
| Traduction tab | `{tab}.json` | `locales/fr/home/billing/invoices.json` |
| Fichiers a ignorer | `*.bak`, `*.2025*` | Backups et timestamps |

### 4.5 Imports dans App.tsx
```typescript
// Univers HOME (A)
import HomePage from "./pages/home";
import AccountPage from "./pages/home/account";
import BillingPage from "./pages/home/billing";
import SupportPage from "./pages/home/support";
import CarbonPage from "./pages/home/carbon";
import ApiPage from "./pages/home/api";

// Univers IAM (B)
import IamPage from "./pages/iam";

// Placeholder pour univers non implementes
import { PlaceholderPage } from "./pages/_placeholder";

// i18n
import "./i18n";
```

### 4.6 Chemins d'imports relatifs

| Depuis | Vers services/ | Vers types/ | Vers lib/ |
|--------|---------------|-------------|-----------|
| `pages/home/index.tsx` | `../../services/` | `../../types/` | `../../lib/` |
| `pages/home/account/index.tsx` | `../../../services/` | `../../../types/` | `../../../lib/` |
| `pages/home/account/SecurityTab.tsx` | `../../../services/` | `../../../types/` | `../../../lib/` |
| `pages/home/account/security/PasswordSection.tsx` | `../../../../services/` | `../../../../types/` | `../../../../lib/` |
| `pages/web-cloud/hebergement/hosting/index.tsx` | `../../../../services/` | `../../../../types/` | `../../../../lib/` |

### 4.7 Convention de nommage des services

| Pattern | Usage | Exemple |
|---------|-------|---------|
| `api.ts`, `auth.ts` | Utilitaires transverses | `services/api.ts` |
| `NAV1.ts` | Service d'univers | `services/iam.ts`, `services/network.ts` |
| `NAV1.NAV2.ts` | Service de section | `services/home.billing.ts`, `services/bare-metal.vps.ts` |
| `NAV1.NAV2.NAV3.ts` | Service de tab specifique | `services/home.account.security.ts` |

**Regles :**
- Utiliser le point `.` comme separateur (pas `-` ni `/`)
- NAV1 = univers (`home`, `iam`, `public-cloud`, `bare-metal`, etc.)
- NAV2 = section (`billing`, `account`, `vps`, `domains`, etc.)
- NAV3 = tab si logique metier specifique (`security`, `orders`, `communication`)

---

## 5. Design System (OVH Classic Blue)

### 5.1 Couleurs primaires (tokens.css)

| Token | Valeur | Usage |
|-------|--------|-------|
| `--color-primary-500` | `#0050D7` | Bleu OVH principal |
| `--color-primary-600` | `#003DA8` | Hover/Active |
| `--color-primary-700` | `#002B7A` | Pressed |
| `--color-primary-800` | `#122844` | Dark |
| `--color-primary-300` | `#85A5FF` | Light |
| `--color-primary-100` | `#D6E4FF` | Background |

### 5.2 Regle d'utilisation

Utiliser **uniquement** les variables CSS **sans fallback** :
```css
/* BON */
color: var(--color-primary-500);

/* MAUVAIS */
color: var(--color-primary-500, #0050D7);
```

### 5.3 Stack technique

| Composant | Source |
|-----------|--------|
| Design System | `@ovh-ux/muk` (Manager UI Kit) |
| Base ODS | `@ovhcloud/ods-react` v19.2.1 |
| Themes | `@ovhcloud/ods-themes` v19.2.1 |
| CSS | Variables CSS custom (tokens.css) |
| i18n | `react-i18next` + `i18next` |

### 5.4 Classes CSS disponibles
```css
/* Boutons */
.btn  .btn-primary  .btn-secondary  .btn-outline

/* Cartes/Tiles */
.tile  .tile-header  .tile-content

/* Onglets */
.tab-btn  .tabs-list

/* Badges */
.status-badge  .badge-success  .badge-warning  .badge-error

/* Formulaires */
.toggle-switch  .toggle-slider

/* Securite */
.security-card  .two-factor-method

/* Tableaux */
.bills-table  .method-table
```

### 5.5 Documentation Design System

Fichiers de reference dans `/src/design-system/` :

| Fichier | Contenu |
|---------|---------|
| `COMPONENTS.md` | Catalogue des composants disponibles |
| `DESIGN_TOKENS.md` | Variables CSS et tokens |
| `ICONS.md` | Icones disponibles et usage |
| `PATTERNS.md` | Patterns de conception recommandes |

### 5.6 CHARGEMENT PROGRESSIF (Streaming UI)

**Cas d'usage :** Quand l'API OVH retourne une liste d'IDs puis necessite N appels pour les details (ex: /me/deposit, /me/bill).

**Structure du state :**
```typescript
interface RowData {
  id: string;
  loaded: boolean;
  details?: ApiDetails;
}

const [ids, setIds] = useState<string[]>([]);
const [rows, setRows] = useState<Map<string, RowData>>(new Map());
const [loadedCount, setLoadedCount] = useState(0);
const abortRef = useRef(false);
```

**Flux de chargement :**
```
1. GET /me/deposit → liste d'IDs (rapide)
2. Afficher tableau avec IDs + skeletons
3. Charger details par batches de 10 (Promise.all)
4. Mettre a jour chaque ligne des reception
5. Afficher compteur: {loadedCount}/{total}
```

**Gestion du changement de filtres :**
```typescript
abortRef.current = true;
await new Promise(r => setTimeout(r, 50));
abortRef.current = false;
setLoadedCount(0);
setRows(new Map());
```

---

## 6. Architecture technique

### 6.1 Proxy Nginx

Le frontend communique avec l'API OVH via un proxy Nginx :
```
/api/ovh/*  ->  https://eu.api.ovh.com/1.0/*
```

La signature des requetes est geree automatiquement cote serveur.

### 6.2 Layout principal (App.tsx)
```
+-------------------------------------------------------------------------------------------+
| +-----------------------------------------------------------------------+ +-----------+ |
| | HOME | PUBLIC CLOUD | PRIVATE CLOUD | BARE METAL | WEB CLOUD | ...    | | [Avatar]  | |
| +-----------------------------------------------------------------------+ | nic-ovh   | |
| | [Accueil] [Compte] [Facturation] [Support] [Carbone] [API]  <- NAV2   | +-----------+ |
| +-----------------------------------------------------------------------+               |
| |                                                                       |               |
| |    PAGE AVEC SES PROPRES ONGLETS NAV3 INTERNES                        |               |
| |    (AccountPage, BillingPage, etc.)                                   |               |
| |                                                                       |               |
| |    +---------------------------------------------------------------+  |               |
| |    | [Tab1] [Tab2] [Tab3] ...                        <- NAV3       |  |               |
| |    +---------------------------------------------------------------+  |               |
| |    |                                                               |  |               |
| |    |                    CONTENU DE LA PAGE                         |  |               |
| |    |                                                               |  |               |
| |    +---------------------------------------------------------------+  |               |
| |                                                                       |               |
| +-----------------------------------------------------------------------+               |
+-------------------------------------------------------------------------------------------+
```

**Composants du layout :**

| Zone | Composant | Description |
|------|-----------|-------------|
| Niveau 1 (NAV1) | `Header` | Onglets univers OVH (HOME, PUBLIC CLOUD, etc.) |
| Niveau 2 (NAV2) | `SectionTabs` | Sections de l'univers selectionne |
| Niveau 3 (NAV3) | `PageTabs` | **DANS chaque page** (pas dans le header global) |
| Menu utilisateur | `AccountSidebar` | Avatar + menu deroulant droite |

### 6.3 Univers (NAV1)

| ID | Univers | Dossier | Sections principales |
|----|---------|---------|----------------------|
| A | **HOME** | `pages/home/` | Dashboard, Account, Billing, Support, Carbon, API |
| B | **IAM** | `pages/iam/` | Identites, Policies, Groups, Logs, Secret, OKMS, HSM, DBaaS-Logs, Metrics |
| C | **LICENSE** | `pages/license/` | Windows, cPanel, Plesk, SQL Server, Virtuozzo, DirectAdmin, CloudLinux |
| D | **PUBLIC CLOUD** | `pages/public-cloud/` | Project, Instances, Storage, K8s, AI, Databases, Registry, LB |
| E | **PRIVATE CLOUD** | `pages/private-cloud/` | VMware, Nutanix, SAP, Veeam, Managed Bare Metal |
| F | **BARE METAL** | `pages/bare-metal/` | Dedicated, VPS, Housing, NAS-HA, NetApp |
| G | **WEB CLOUD** | `pages/web-cloud/` | Domains, Hebergement, Emails, Telecom, Access |
| H | **NETWORK** | `pages/network/` | IP, vRack, CDN, Cloud Connect, vRack Services, Security, LB |

---

## 7. Univers HOME (A)

### 7.1 Sections

| Section | Fichier | Description |
|---------|---------|-------------|
| Dashboard | `index.tsx` | Accueil avec tuiles |
| Account | `account/` | Profil, Securite, Contacts, KYC |
| Billing | `billing/` | Services, Factures, Paiements, Commandes |
| Support | `support/` | Tickets, Communications |
| Carbon | `carbon/` | Empreinte carbone |
| API | `api/` | Playground API OVH |

**Services:** `home.account.ts`, `home.account.security.ts`, `home.account.contacts.ts`, `home.billing.ts`, `home.billing.services.ts`, `home.billing.orders.ts`, `home.support.ts`, `home.carbon.ts`, `home.api.ts`

### 7.2 Structure Account
```
pages/home/account/
├── index.tsx                   # Page principale avec tabs
├── styles.css
├── components/
│   ├── ProfileTile.tsx
│   ├── LastBillTile.tsx
│   └── ShortcutsTile.tsx
├── EditTab.tsx
├── AdvancedTab.tsx
├── PrivacyTab.tsx
├── KycTab.tsx
├── ContactsServicesTab.tsx
├── ContactsRequestsTab.tsx
├── SecurityTab.tsx
└── security/                   # Module Security refactorise
    ├── index.ts
    ├── useSecurityData.ts
    ├── SecurityIcons.tsx
    ├── PasswordSection.tsx
    ├── TwoFactorSection.tsx
    ├── IpRestrictionsSection.tsx
    └── modals/
        └── SecurityModals.tsx
```

### 7.3 Structure Billing
```
pages/home/billing/
├── index.tsx
├── styles.css
├── utils.tsx
├── icons.tsx
├── shared/
│   ├── index.ts
│   ├── constants.ts
│   ├── periodHelpers.ts
│   ├── PeriodToolbar.tsx
│   └── usePeriodNavigation.ts
└── tabs/
    ├── index.ts
    ├── ServicesTab.tsx
    ├── InvoicesTab.tsx
    ├── RefundsTab.tsx
    ├── PaymentsTab.tsx
    ├── OrdersTab.tsx
    ├── ReferencesTab.tsx
    ├── MethodsTab.tsx
    ├── PrepaidTab.tsx
    ├── VouchersTab.tsx
    ├── FidelityTab.tsx
    └── ContractsTab.tsx
```

### 7.4 Structure Support
```
pages/home/support/
├── index.tsx
├── styles.css
├── utils.tsx
└── tabs/
    ├── index.ts
    ├── TicketsTab.tsx
    ├── CreateTab.tsx
    ├── LevelTab.tsx
    ├── CommunicationsTab.tsx
    └── BroadcastTab.tsx
```

### 7.5 Structure API Playground
```
pages/home/api/
├── index.tsx
├── styles.css
├── utils.ts
└── tabs/
    ├── index.ts
    ├── ApiTab.tsx
    └── AdvancedTab.tsx
```

---

## 8. Univers IAM (B)

### 8.1 Structure principale
```
pages/iam/
├── index.tsx
├── styles.css
├── utils.tsx
├── tabs/                       # Tabs page principale
│   ├── index.ts
│   ├── IdentitiesTab.tsx
│   ├── PoliciesTab.tsx
│   ├── GroupsTab.tsx
│   └── LogsTab.tsx
├── components/
│   ├── index.ts
│   ├── DelegationModal.tsx
│   ├── SelectModal.tsx
│   └── IdentitySelector/
│       ├── index.tsx
│       ├── AccountIdentities.tsx
│       ├── UserIdentities.tsx
│       ├── GroupIdentities.tsx
│       └── ServiceAccountIdentities.tsx
├── logs/
│   ├── index.tsx
│   ├── styles.css
│   ├── tabs/
│   │   ├── index.ts
│   │   ├── ActivityTab.tsx
│   │   ├── AuditTab.tsx
│   │   └── AccessPolicyTab.tsx
│   └── components/
│       ├── DataStreams.tsx
│       └── LiveTail.tsx
├── secret/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── SecretsTab.tsx
│       ├── VersionsTab.tsx
│       └── AccessTab.tsx
├── okms/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── KeysTab.tsx
│       └── CredentialsTab.tsx
├── hsm/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── PartitionsTab.tsx
│       └── TasksTab.tsx
├── dbaas-logs/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── StreamsTab.tsx
│       ├── IndicesTab.tsx
│       ├── DashboardsTab.tsx
│       ├── InputsTab.tsx
│       └── AliasesTab.tsx
└── metrics/
    ├── index.tsx
    ├── styles.css
    └── tabs/
        ├── index.ts
        ├── GeneralTab.tsx
        ├── TokensTab.tsx
        └── TasksTab.tsx
```

**Services:** `iam.ts`, `iam.logs.ts`, `iam.secret.ts`, `iam.okms.ts`, `iam.hsm.ts`, `iam.dbaas-logs.ts`, `iam.metrics.ts`

---

## 9. Univers LICENSE (C)

### 9.1 Structure
```
pages/license/
├── index.tsx
├── styles.css
├── windows/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       └── TasksTab.tsx
├── cpanel/
│   ├── index.tsx
│   └── tabs/
├── plesk/
│   ├── index.tsx
│   └── tabs/
├── sqlserver/
│   ├── index.tsx
│   └── tabs/
├── virtuozzo/
│   ├── index.tsx
│   └── tabs/
├── directadmin/
│   ├── index.tsx
│   └── tabs/
└── cloudlinux/
    ├── index.tsx
    └── tabs/
```

**Services:** `license.ts`

---

## 10. Univers PUBLIC CLOUD (D)

### 10.1 Structure
```
pages/public-cloud/
├── index.tsx
├── styles.css
├── project/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── InstancesTab.tsx
│       ├── VolumesTab.tsx
│       ├── StorageTab.tsx
│       ├── NetworksTab.tsx
│       ├── SnapshotsTab.tsx
│       ├── SshKeysTab.tsx
│       └── QuotaTab.tsx
├── instances/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── NetworkTab.tsx
│       ├── ConsoleTab.tsx
│       └── SnapshotsTab.tsx
├── block-storage/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       └── SnapshotsTab.tsx
├── object-storage/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── ObjectsTab.tsx
│       └── UsersTab.tsx
├── databases/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── UsersTab.tsx
│       ├── BackupsTab.tsx
│       └── MetricsTab.tsx
├── kubernetes/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── NodePoolsTab.tsx
│       └── KubeconfigTab.tsx
├── ai/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── NotebooksTab.tsx
│       ├── JobsTab.tsx
│       └── AppsTab.tsx
├── registry/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── ImagesTab.tsx
│       └── UsersTab.tsx
└── load-balancer/
    ├── index.tsx
    └── tabs/
        ├── index.ts
        ├── GeneralTab.tsx
        ├── ListenersTab.tsx
        └── PoolsTab.tsx
```

**Services:** `public-cloud.ts`, `public-cloud.instances.ts`, `public-cloud.block-storage.ts`, `public-cloud.object-storage.ts`, `public-cloud.databases.ts`, `public-cloud.kubernetes.ts`, `public-cloud.ai.ts`, `public-cloud.registry.ts`, `public-cloud.load-balancer.ts`

---

## 11. Univers PRIVATE CLOUD (E)

### 11.1 Structure
```
pages/private-cloud/
├── index.tsx
├── styles.css
├── vmware/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── DatacentersTab.tsx
│       ├── HostsTab.tsx
│       ├── DatastoresTab.tsx
│       ├── UsersTab.tsx
│       ├── SecurityTab.tsx
│       ├── LicenseTab.tsx
│       ├── OperationsTab.tsx
│       └── TasksTab.tsx
├── nutanix/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── NodesTab.tsx
│       ├── IpsTab.tsx
│       └── TasksTab.tsx
├── sap/
│   ├── index.tsx
│   └── tabs/
├── veeam/
│   ├── index.tsx
│   └── tabs/
└── managed-baremetal/
    ├── index.tsx
    └── tabs/
```

**Services:** `private-cloud.ts`, `private-cloud.vmware.ts`, `private-cloud.nutanix.ts`

---

## 12. Univers BARE METAL (F)

### 12.1 Structure
```
pages/bare-metal/
├── index.tsx
├── styles.css
├── dedicated/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── NetworkTab.tsx
│       ├── IpmiTab.tsx
│       ├── InterventionsTab.tsx
│       └── TasksTab.tsx
├── vps/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── DisksTab.tsx
│       ├── BackupsTab.tsx
│       ├── SnapshotTab.tsx
│       ├── IpsTab.tsx
│       └── TasksTab.tsx
├── housing/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       └── TasksTab.tsx
├── nasha/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── PartitionsTab.tsx
│       ├── SnapshotsTab.tsx
│       ├── AccessesTab.tsx
│       └── TasksTab.tsx
└── netapp/
    ├── index.tsx
    ├── styles.css
    └── tabs/
        ├── index.ts
        ├── GeneralTab.tsx
        ├── VolumesTab.tsx
        ├── SnapshotsTab.tsx
        └── TasksTab.tsx
```

**Services:** `bare-metal.dedicated.ts`, `bare-metal.vps.ts`, `bare-metal.housing.ts`, `bare-metal.nasha.ts`, `bare-metal.netapp.ts`

---

## 13. Univers WEB CLOUD (G)

### 13.1 Structure avec groupements
```
pages/web-cloud/
├── index.tsx
├── styles.css
├── shared/                     # Composants partages
│   ├── index.ts
│   ├── types.ts
│   ├── TasksTab.tsx
│   └── ServiceListPage.tsx
│
├── domains/                    # Domaines (section directe)
│   ├── index.tsx
│   ├── styles.css
│   ├── components/
│   │   └── ServiceItemBadge.tsx
│   ├── hooks/
│   │   └── useDomainZoneList.ts
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── ZoneTab.tsx
│       ├── DnsServersTab.tsx
│       ├── DnssecTab.tsx
│       ├── GlueTab.tsx
│       ├── DynHostTab.tsx
│       ├── RedirectionTab.tsx
│       └── TasksTab.tsx
│
├── hebergement/                # GROUPEMENT Hebergement
│   ├── index.tsx
│   ├── hosting/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── GeneralTab.tsx
│   │       ├── MultisiteTab.tsx
│   │       ├── FtpTab.tsx
│   │       ├── DatabaseTab.tsx
│   │       ├── SslTab.tsx
│   │       ├── ModulesTab.tsx
│   │       ├── CronTab.tsx
│   │       ├── EnvvarsTab.tsx
│   │       ├── RuntimesTab.tsx
│   │       ├── EmailsTab.tsx
│   │       ├── LogsTab.tsx
│   │       └── TasksTab.tsx
│   └── private-database/
│       ├── index.tsx
│       └── tabs/
│           ├── index.ts
│           ├── GeneralTab.tsx
│           ├── DatabasesTab.tsx
│           ├── UsersTab.tsx
│           ├── WhitelistTab.tsx
│           └── TasksTab.tsx
│
├── emails/                     # GROUPEMENT Emails
│   ├── index.tsx
│   ├── email-domain/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── AccountsTab.tsx
│   │       ├── RedirectionsTab.tsx
│   │       ├── MailingListsTab.tsx
│   │       └── TasksTab.tsx
│   ├── email-pro/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── AccountsTab.tsx
│   │       ├── DomainsTab.tsx
│   │       └── TasksTab.tsx
│   ├── exchange/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── AccountsTab.tsx
│   │       ├── DomainsTab.tsx
│   │       ├── GroupsTab.tsx
│   │       ├── ResourcesTab.tsx
│   │       └── TasksTab.tsx
│   ├── zimbra/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── AccountsTab.tsx
│   │       ├── DomainsTab.tsx
│   │       ├── AliasesTab.tsx
│   │       └── TasksTab.tsx
│   └── office/
│       ├── index.tsx
│       ├── styles.css
│       └── tabs/
│           ├── index.ts
│           ├── UsersTab.tsx
│           ├── DomainsTab.tsx
│           └── TasksTab.tsx
│
├── telecom/                    # GROUPEMENT Telecom
│   ├── index.tsx
│   ├── voip/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── LinesTab.tsx
│   │       ├── NumbersTab.tsx
│   │       └── VoicemailsTab.tsx
│   ├── sms/
│   │   ├── index.tsx
│   │   ├── styles.css
│   │   └── tabs/
│   │       ├── index.ts
│   │       ├── OutgoingTab.tsx
│   │       ├── IncomingTab.tsx
│   │       └── SendersTab.tsx
│   ├── fax/
│   │   ├── index.tsx
│   │   └── styles.css
│   └── carrier-sip/
│       ├── index.tsx
│       ├── styles.css
│       └── tabs/
│           ├── index.ts
│           ├── GeneralTab.tsx
│           ├── EndpointsTab.tsx
│           └── CdrTab.tsx
│
└── access/                     # GROUPEMENT Acces Internet
    ├── index.tsx
    ├── pack-xdsl/
    │   ├── index.tsx
    │   ├── styles.css
    │   └── tabs/
    │       ├── index.ts
    │       ├── GeneralTab.tsx
    │       ├── AccessTab.tsx
    │       ├── ServicesTab.tsx
    │       ├── VoipTab.tsx
    │       └── TasksTab.tsx
    └── overthebox/
        ├── index.tsx
        ├── styles.css
        └── tabs/
            ├── index.ts
            ├── GeneralTab.tsx
            ├── RemotesTab.tsx
            └── TasksTab.tsx
```

**Services:** `web-cloud.domains.ts`, `web-cloud.dns-zones.ts`, `web-cloud.hosting.ts`, `web-cloud.private-database.ts`, `web-cloud.email-domain.ts`, `web-cloud.email-pro.ts`, `web-cloud.exchange.ts`, `web-cloud.zimbra.ts`, `web-cloud.office.ts`, `web-cloud.sms.ts`, `web-cloud.voip.ts`, `web-cloud.fax.ts`, `web-cloud.pack-xdsl.ts`, `web-cloud.overthebox.ts`, `web-cloud.carrier-sip.ts`

---

## 14. Univers NETWORK (H)

### 14.1 Structure
```
pages/network/
├── index.tsx
├── styles.css
├── ip/
│   ├── index.tsx
│   └── styles.css
├── vrack/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── ServicesTab.tsx
│       └── TasksTab.tsx
├── vrack-services/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── SubnetsTab.tsx
│       └── EndpointsTab.tsx
├── cdn/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── DomainsTab.tsx
│       ├── StatisticsTab.tsx
│       └── TasksTab.tsx
├── cloud-connect/
│   ├── index.tsx
│   └── tabs/
│       ├── index.ts
│       ├── GeneralTab.tsx
│       ├── InterfacesTab.tsx
│       └── TasksTab.tsx
├── load-balancer/
│   ├── index.tsx
│   ├── styles.css
│   └── tabs/
│       ├── index.ts
│       ├── FrontendsTab.tsx
│       └── FarmsTab.tsx
└── security/
    ├── index.tsx
    └── tabs/
        ├── index.ts
        ├── OverviewTab.tsx
        ├── AttacksTab.tsx
        └── FirewallTab.tsx
```

**Services:** `network.ts`, `network.cdn.ts`, `network.cloud-connect.ts`, `network.vrack-services.ts`, `network.security.ts`

---

## 15. APIs OVH

> **Référence complète : voir prompt_api.txt**

Le fichier `prompt_api.txt` contient la documentation exhaustive des APIs :
- Architecture et URLs par région (EU, CA, US)
- Proxy frontend (`/api/ovh/* → eu.api.ovh.com`)
- Authentification (cookies session, gestion 401)
- Pagination (Iceberg headers, 2API params)
- Endpoints par catégorie (Compte, Sécurité, RGPD, Facturation, Support, IAM, Domaines, Hébergement, Email, VPS, Serveurs, Cloud)
- Hooks React (`useOvhApi`, `useIceberg`, `use2api`)
- Debug et reverse engineering

---

## 16. Old Manager (Reference)

**Production** : `https://manager.eu.ovhcloud.com`
**Code source** : `/home/ubuntu/manager/`

### 16.1 Structure principale
```
/home/ubuntu/manager/packages/manager/
├── core/          # Utilitaires fondamentaux
├── modules/       # Modules metier reutilisables
└── apps/          # Applications completes
```

### 16.2 Core (`packages/manager/core/`)
```
api, application, ovh-product-icons, request-tagger,
shell-client, sso, url-builder, utils
```

### 16.3 Modules (`packages/manager/modules/`)
```
account, billing, billing-components, iam, support, order,
exchange, emailpro, email-domain, nasha, netapp, pci,
vps, vrack, carbon-calculator, mfa-enrollment, ...
```

### 16.4 Apps (`packages/manager/apps/`)
```
account, billing, dedicated, dedicated-servers, hub,
iam, pci, public-cloud, vps, vrack, web, web-hosting,
support, sms, telecom, exchange, email-pro, ...
```

### 16.5 Methodologie : Trouver les appels API

**IMPORTANT : Ne jamais rediriger vers manager.eu.ovhcloud.com**

Pour chaque fonctionnalite a migrer, identifier les appels API dans le old manager :
```bash
# 1. Chercher les endpoints API dans un module
cd /home/ubuntu/manager
grep -r "api.get\|api.post\|api.put\|api.delete" packages/manager/modules/billing/

# 2. Chercher les appels /me/* (compte utilisateur)
grep -rn "/me/" packages/manager/apps/account/

# 3. Chercher les services API d'un module
find packages/manager/modules/billing -name "*.service.ts" -o -name "*api*.ts"

# 4. Chercher une fonctionnalite specifique
grep -rn "refund\|avoir" packages/manager/modules/billing/

# 5. Voir les types/interfaces d'un endpoint
grep -rn "interface.*Bill\|type.*Bill" packages/manager/modules/billing/
```

---

## 17. Internationalisation (i18n)

### 17.1 Stack technique

| Package | Version | Role |
|---------|---------|------|
| `i18next` | ^23.x | Core i18n |
| `react-i18next` | ^14.x | Bindings React |
| `i18next-http-backend` | ^2.x | Chargement lazy JSON |
| `i18next-browser-languagedetector` | ^7.x | Detection langue navigateur |

### 17.2 Structure des fichiers de traduction

**IMPORTANT : Les locales doivent etre dans `public/locales/` (pas `src/locales/`)**
```
/public/locales/
├── fr/
│   ├── common.json
│   ├── navigation.json
│   ├── login.json
│   ├── placeholder.json
│   ├── home/
│   │   ├── index.json
│   │   ├── dashboard.json
│   │   ├── account/
│   │   │   ├── index.json
│   │   │   ├── security.json
│   │   │   ├── edit.json
│   │   │   ├── privacy.json
│   │   │   ├── advanced.json
│   │   │   ├── contacts-services.json
│   │   │   ├── contacts-requests.json
│   │   │   └── kyc.json
│   │   ├── billing/
│   │   │   ├── index.json
│   │   │   └── tabs.json
│   │   ├── support/
│   │   │   └── index.json
│   │   ├── carbon/
│   │   │   └── index.json
│   │   └── api/
│   │       └── index.json
│   ├── iam/
│   ├── license/
│   ├── public-cloud/
│   ├── private-cloud/
│   ├── bare-metal/
│   ├── web-cloud/
│   │   ├── index.json
│   │   ├── domains/
│   │   ├── hebergement/
│   │   │   ├── index.json
│   │   │   ├── hosting/
│   │   │   └── private-database/
│   │   ├── emails/
│   │   │   ├── index.json
│   │   │   ├── email-domain/
│   │   │   ├── email-pro/
│   │   │   ├── exchange/
│   │   │   ├── zimbra/
│   │   │   └── office/
│   │   ├── telecom/
│   │   │   ├── index.json
│   │   │   ├── voip/
│   │   │   ├── sms/
│   │   │   ├── fax/
│   │   │   └── carrier-sip/
│   │   └── access/
│   │       ├── index.json
│   │       ├── pack-xdsl/
│   │       └── overthebox/
│   └── network/
└── en/
    └── (meme structure exacte)
```

### 17.3 Configuration i18next
```typescript
// /src/i18n/index.ts
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import HttpBackend from 'i18next-http-backend';
import LanguageDetector from 'i18next-browser-languagedetector';

i18n
  .use(HttpBackend)
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    supportedLngs: ['fr', 'en', 'de'],
    fallbackLng: 'fr',
    defaultNS: 'common',
    ns: ['common', 'navigation'],
    
    backend: {
      loadPath: './locales/{{lng}}/{{ns}}.json',
    },
    
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
    
    interpolation: {
      escapeValue: false,
    },
    
    react: {
      useSuspense: true,
    },
  });

export default i18n;
```

### 17.4 Usage dans les composants

**Page principale :**
```typescript
import { useTranslation } from 'react-i18next';

export default function BillingPage() {
  const { t } = useTranslation('home/billing/index');
  
  const tabs = [
    { id: 'services', label: t('tabs.services') },
    { id: 'invoices', label: t('tabs.invoices') },
  ];
  
  return <div>{/* ... */}</div>;
}
```

**Tab :**
```typescript
import { useTranslation } from 'react-i18next';

export function InvoicesTab() {
  const { t } = useTranslation('home/billing/invoices');
  const { t: tCommon } = useTranslation('common');
  
  return (
    <div>
      <h2>{t('title')}</h2>
      {loading && <p>{tCommon('loading')}</p>}
    </div>
  );
}
```

### 17.5 Bonnes pratiques i18n

| Regle | Application |
|-------|-------------|
| **Pas de texte en dur** | Tous les textes visibles via `t()` |
| **Namespace = fichier** | 1 Tab = 1 fichier JSON |
| **Interpolation** | `t('count', { n: 5 })` |
| **Pluralisation** | `t('item', { count })` avec `item_one`, `item_other` |
| **Dates/Nombres** | Utiliser Intl.DateTimeFormat, Intl.NumberFormat |
| **Pas de concatenation** | `t('hello', { name })` pas `t('hello') + name` |
| **Cles semantiques** | `columns.ref` pas `table_header_1` |

### 17.6 Verification i18n
```bash
node /home/ubuntu/aiapp/frontend/scripts/check-i18n.cjs
```

---

## 18. Conventions de code

| Regle | Application |
|-------|-------------|
| **TypeScript** | Mode strict |
| **Composants** | Fonctionnels avec hooks |
| **Nommage composants** | PascalCase |
| **Nommage fonctions/variables** | camelCase |
| **Nommage repertoires** | kebab-case |
| **Structure fichiers** | Un composant = un fichier |
| **Exports** | Default pour pages, nommes pour composants |
| **Appels API** | Dans `services/`, jamais dans les composants |
| **NAV3 (onglets internes)** | Geres par chaque page, pas dans App.tsx |
| **Textes UI** | Toujours via `t()` de react-i18next |

### 18.1 Securite

**JAMAIS de secrets dans le code frontend :**
- Pas de cles API, tokens, mots de passe ou credentials en dur
- Pas de secrets dans les variables d'environnement exposees au client (`VITE_*`)
- L'authentification passe par le flow OAuth OVH (cookies httpOnly cote serveur)
- Les appels API utilisent les credentials de session, pas de tokens hardcodes

---

## 19. Commentaires et lisibilite du code

### 19.1 Regles fondamentales

| Regle | Application |
|-------|-------------|
| **Ne jamais supprimer** | Conserver TOUS les commentaires existants |
| **Ne jamais raccourcir** | Pas de `// ...reste inchange...` ou `{/* ... */}` |
| **Une seule ligne** | Commentaires courts, jamais de blocs multi-lignes |
| **Code complet** | JAMAIS de `// ... comme avant` ou `/* fichier inchange */` |

### 19.2 Separateurs de sections

**Niveau 1 - Sections principales (===)** :
```typescript
// ============================================================
// TYPES
// ============================================================

interface Bill { ... }

// ============================================================
// COMPOSANT PRINCIPAL
// ============================================================

export default function InvoicesTab() { ... }
```

**Niveau 2 - Sous-sections dans un composant (---)** :
```typescript
export default function InvoicesTab() {
  // ---------- STATE ----------
  const [bills, setBills] = useState<Bill[]>([]);

  // ---------- EFFECTS ----------
  useEffect(() => { ... }, []);

  // ---------- HANDLERS ----------
  const handleExport = () => { ... };

  // ---------- RENDER ----------
  return ( ... );
}
```

### 19.3 JSDoc pour fonctions et composants

Chaque fonction/composant exporte doit avoir un JSDoc sur UNE SEULE LIGNE :
```typescript
/** Liste paginee des factures avec export CSV/PDF. Charge les IDs puis les details par batch de 10. */
export default function InvoicesTab() { ... }

/** Recupere les factures entre deux dates. Retourne trie par date decroissante. */
export async function getBills(options?: { from?: string; to?: string }): Promise<Bill[]> { ... }
```

### 19.4 Ordre des sections dans un fichier
```
1. Commentaire header (// ======= TITRE =======)
2. Imports
3. Types/Interfaces locaux
4. Constantes
5. Hooks custom (si applicable)
6. Composant(s) / Fonction(s) principale(s)
7. Export default (si applicable)
```

### 19.5 Limite de taille des fichiers

| Seuil | Action |
|-------|--------|
| < 200 lignes | OK |
| 200-250 lignes | **WARNING** : fichier volumineux |
| > 250 lignes | **ALERTE** : fichier trop volumineux |

**Lors de la generation de code, si le fichier depasse 200 lignes :**

1. Afficher un WARNING : "Ce fichier fait X lignes (limite recommandee : 200)"
2. Proposer une strategie de division avec les fichiers cibles
3. **ATTENDRE la validation** avant toute action
4. Ne generer les fichiers divises QUE si l'utilisateur accepte

**REGLE ABSOLUE :** Ne JAMAIS diviser un fichier sans autorisation explicite.

**Strategies de division proposables :**

| Situation | Solution |
|-----------|----------|
| Composant avec plusieurs sous-composants | Extraire dans `components/SubComponent.tsx` |
| Logique API complexe | Extraire dans un hook `useXxxData.ts` |
| Beaucoup de types | Extraire dans `types.ts` ou `xxx.types.ts` |
| Helpers/utilitaires | Extraire dans `utils.ts` |
| Plusieurs sections visuelles | Un fichier par section |

---

## 20. Hooks et utilitaires partages

### 20.1 Hooks globaux (`/src/hooks/`)

| Hook | Usage |
|------|-------|
| `useAppNavigation.ts` | Navigation entre univers/sections |

### 20.2 Hooks de page

| Hook | Localisation | Usage |
|------|--------------|-------|
| `useHomeData.ts` | `pages/home/` | Donnees dashboard HOME |
| `useSecurityData.ts` | `pages/home/account/security/` | Donnees securite 2FA |
| `usePeriodNavigation.ts` | `pages/home/billing/shared/` | Navigation par periode |
| `useDomainZoneList.ts` | `pages/web-cloud/domains/hooks/` | Liste zones DNS |

### 20.3 Utilitaires (`/src/lib/`)

| Fichier | Usage |
|---------|-------|
| `constants.ts` | Constantes globales |
| `types.ts` | Types globaux |
| `useTabs.ts` | Hook gestion des onglets |
| `ResetSlot.tsx` | Composant reset slot |

### 20.4 Composants partages par univers

| Univers | Dossier shared | Contenu |
|---------|----------------|---------|
| HOME/Billing | `billing/shared/` | PeriodToolbar, periodHelpers, constants |
| WEB CLOUD | `web-cloud/shared/` | TasksTab, ServiceListPage, types |
| IAM | `iam/components/` | IdentitySelector, DelegationModal, SelectModal |

---

## 21. AccountSidebar (Menu utilisateur)

Accessible via l'avatar/NIC en haut a droite :

### 21.1 Structure des composants
```
components/AccountSidebar/
├── index.ts
├── AccountSidebar.tsx      # Conteneur principal
├── UserInfos.tsx           # Infos utilisateur (nom, email, NIC)
├── Shortcuts.tsx           # Raccourcis facturation/compte
├── UsefulLinks.tsx         # Liens externes (doc, status)
└── styles.css
```

### 21.2 Contenu du menu
```
+----------------------------+
|        [Avatar OK]         |
|       Jean Dupont          |
|     [Administrateur]       |
|         Acme Corp          |
|   jean.dupont@example.com  |
|        ab12345-ovh         |
|        [Standard]          |
+----------------------------+
| Voir mes factures        > |
| Verifier mes paiements   > |
| Suivre mes commandes     > |
| Renouveller mes services > |
| Mes moyens de paiement   > |
| Valider mes contrats     > |
-----------------------------+
| Voir mon profil          > |
| Changer mon mot de passe > |
| 2FA, Restriction IP      > |
| KYC Know Your Customer   > |
-----------------------------+
| Creer un ticket support  > |
| Voir mes tickets         > |
-----------------------------+
| Playground API           > |
+----------------------------+
| Documentation            > |
| Etat des services        > |
+----------------------------+
|       Se deconnecter       |
+----------------------------+
```

---

## 22. Reference rapide

### 22.1 Build New Manager
```bash
# Creer archive new manager
cd /home/ubuntu && tar -cvf new_manager.tar --exclude='*2025*' --exclude='*.bak' aiapp/frontend/src/ aiapp/frontend/public/

# Build dev
cd /home/ubuntu/aiapp/frontend && npm run build:dev
node /home/ubuntu/aiapp/frontend/scripts/check-i18n.cjs
/home/ubuntu/aiapp/scripts/D1-build_frontend_dev.sh

# Build prod
cd /home/ubuntu/aiapp/frontend && npm run build:prod
/home/ubuntu/aiapp/scripts/D2-promote_dev_to_prod.sh --from-dist
```

### 22.2 Recherche dans le Old Manager
```bash
cd /home/ubuntu/manager

# Chercher les appels API d'un module
grep -r "api.get\|api.post" packages/manager/modules/MODULE_NAME/

# Chercher les endpoints /me/*
grep -rn '"/me/' packages/manager/apps/APP_NAME/

# Chercher les types/interfaces
grep -rn "interface\|type" packages/manager/modules/MODULE_NAME/src/types/
```

### 22.3 Creer un nouveau Tab
```bash
# Creer le fichier Tab
touch /home/ubuntu/aiapp/frontend/src/pages/UNIVERS/SECTION/tabs/NewTab.tsx

# Creer les locales
touch /home/ubuntu/aiapp/frontend/public/locales/fr/UNIVERS/SECTION/newtab.json
touch /home/ubuntu/aiapp/frontend/public/locales/en/UNIVERS/SECTION/newtab.json
```

### 22.4 Format cp+tee pour modifications
```bash
cp /chemin/fichier.tsx /chemin/fichier.tsx.$(date +%Y%m%dT%H%M%S)
tee /chemin/fichier.tsx <<'DELIM'
// contenu du fichier
DELIM
```
