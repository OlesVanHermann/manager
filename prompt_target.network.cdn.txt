################################################################################
#                                                                              #
#                       PROMPT TARGET - NETWORK > CDN                          #
#                                                                              #
#                              Version 1.0                                     #
#                                                                              #
################################################################################

# 0. VISION PRODUIT
################################################################################

CDN (Content Delivery Network) est le service de distribution de contenu
OVHcloud permettant de :
- AccÃ©lÃ©rer la distribution de contenu statique
- RÃ©duire la latence pour les utilisateurs finaux
- DÃ©charger les serveurs d'origine
- GÃ©rer les certificats SSL
- Purger le cache Ã  la demande

L'interface permet de gÃ©rer :
- Domaines configurÃ©s
- RÃ¨gles de cache (TTL, invalidation)
- Certificats SSL
- Statistiques de trafic


# 1. NAVIGATION
################################################################################

NAV1: Network
NAV2: CDN (sÃ©lectionnÃ©)
NAV3: POP (dropdown dans LEFT PANEL) - Points of Presence
NAV4: [GÃ©nÃ©ral] [Domaines] [Cache] [SSL] [Statistiques] [TÃ¢ches]

## 1.1 Position dans la hiÃ©rarchie

```
Network (NAV1)
â”œâ”€â”€ Subnet
â”œâ”€â”€ vRack
â”œâ”€â”€ Load Balancer
â”œâ”€â”€ CDN* (NAV2 actif)
â”œâ”€â”€ OVHcloud Connect
â”œâ”€â”€ Anti-DDoS VAC
â””â”€â”€ Anti-DDoS Game
```

## 1.2 URLs

| Ã‰cran | URL |
|-------|-----|
| Vue d'ensemble | /network/cdn |
| DÃ©tail CDN | /network/cdn/{serviceName} |
| Tab Domaines | /network/cdn/{serviceName}/domains |
| Tab Cache | /network/cdn/{serviceName}/cache |
| Tab SSL | /network/cdn/{serviceName}/ssl |
| Tab Statistiques | /network/cdn/{serviceName}/stats |
| Tab TÃ¢ches | /network/cdn/{serviceName}/tasks |


# 2. LEFT PANEL (280px)
################################################################################

## 2.1 Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POP             [â–¼] â”‚  â† NAV3 : Filtre par Point of Presence
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Rechercher...    â”‚  â† Recherche nom
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â—GÃ©nÃ©ral (ALL)      â”‚  â† Vue d'ensemble (toujours visible)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â—‹cdn-prod           â”‚  â† Liste des CDN
â”‚   ğŸŸ¢ ok             â”‚
â”‚ â—‹cdn-staging        â”‚
â”‚   ğŸŸ¢ ok             â”‚
â”‚ â—‹cdn-legacy         â”‚
â”‚   ğŸŸ¢ ok             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.2 NAV3 : Filtre POP

Points of Presence = emplacements gÃ©ographiques des caches CDN.

Liste des POPs (exemples) :
- ALL (par dÃ©faut)
- Europe : Paris, Frankfurt, London, Amsterdam, Madrid
- North America : New York, Los Angeles, Toronto
- Asia Pacific : Singapore, Tokyo, Sydney

## 2.3 Format Ã©lÃ©ment CDN

```
â—‹ cdn-prod            â† Nom du CDN
  ğŸŸ¢ ok               â† Statut
```


# 3. RIGHT PANEL - TAB GÃ‰NÃ‰RAL (Vue d'ensemble)
################################################################################

Quand "GÃ©nÃ©ral (ALL)" est sÃ©lectionnÃ© dans le LEFT PANEL.

## 3.1 Header

```
CDN - Vue d'ensemble                         [+ Commander]
```

## 3.2 Cartes statistiques

| Carte | Contenu |
|-------|---------|
| Total | {cdn_count} |
| Domaines | {domains_count} |
| Bande passante | {bandwidth}/mois |

## 3.3 Section "Trafic par CDN (30j)"

Barres horizontales :
- cdn-prod : {traffic} TB
- cdn-staging : {traffic} TB
- etc.

## 3.4 Section "Cache Hit Rate global"

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  87.3%
```


# 4. RIGHT PANEL - TAB GÃ‰NÃ‰RAL (CDN sÃ©lectionnÃ©)
################################################################################

## 4.1 Header

```
cdn-prod.ovh.net                           [Vider cache]
ğŸŸ¢ ok â€¢ Anycast: 1.2.3.4
```

## 4.2 Section "Informations"

| Champ | Valeur |
|-------|--------|
| Service | {serviceName} |
| Anycast | {anycast_ip} |
| Offre | CDN Infrastructure |
| Domaines | {domains_count} configurÃ©s |
| Statut | ğŸŸ¢ ok |

## 4.3 Actions

```
[ğŸ”„ RafraÃ®chir] [ğŸ—‘ï¸ Vider cache]
```


# 5. RIGHT PANEL - TAB DOMAINES
################################################################################

## 5.1 Header section

```
Domaines configurÃ©s ({count})                [+ Ajouter]
```

## 5.2 Tableau des domaines

| Domaine | Origine | SSL | Cache | Statut | Actions |
|---------|---------|-----|-------|--------|---------|
| www.example.com | 51.210.x.x | âœ… | 24h | ğŸŸ¢ | â‹® |
| static.example.com | s3.ovh.net | âœ… | 7j | ğŸŸ¢ | â‹® |
| api.example.com | 51.210.x.x | âœ… | 0 | ğŸŸ¢ | â‹® |

## 5.3 Configuration domaine

| Option | Description |
|--------|-------------|
| Origine | Serveur d'origine (IP ou hostname) |
| Port origine | Port du serveur d'origine |
| SSL backend | HTTPS vers l'origine |
| TTL par dÃ©faut | DurÃ©e de cache |


# 6. RIGHT PANEL - TAB CACHE
################################################################################

## 6.1 Description

Gestion des rÃ¨gles de cache et purge.

## 6.2 Section "RÃ¨gles de cache"

| RÃ¨gle | Pattern | TTL | Actions |
|-------|---------|-----|---------|
| Images | *.jpg, *.png, *.gif | 30j | â‹® |
| CSS/JS | *.css, *.js | 7j | â‹® |
| HTML | *.html | 1h | â‹® |
| API | /api/* | 0 (no-cache) | â‹® |

## 6.3 Section "Purge du cache"

```
Purger par :
â—‹ URL spÃ©cifique
â—‹ Pattern (wildcard)
â—‹ Domaine entier
â—‹ Tout le CDN

URL/Pattern : [________________________]

                                    [Purger]
```

## 6.4 Section "Historique des purges"

| Date | Type | Cible | Statut |
|------|------|-------|--------|
| {date} | URL | /assets/logo.png | âœ… |
| {date} | Domaine | www.example.com | âœ… |


# 7. RIGHT PANEL - TAB SSL
################################################################################

## 7.1 Tableau des certificats

| Domaine | Type | Expiration | Statut | Actions |
|---------|------|------------|--------|---------|
| www.example.com | Let's Encrypt | 15/03/2026 | ğŸŸ¢ | â‹® |
| *.example.com | Custom | 01/06/2026 | ğŸŸ¢ | â‹® |

## 7.2 Actions

```
[+ GÃ©nÃ©rer Let's Encrypt] [+ Importer certificat]
```


# 8. RIGHT PANEL - TAB STATISTIQUES
################################################################################

## 8.1 SÃ©lection pÃ©riode

```
[1h] [6h] [24h] [7j] [30j*] [PersonnalisÃ©]
```

## 8.2 Cartes mÃ©triques

| Carte | Contenu |
|-------|---------|
| RequÃªtes | {requests_count} |
| Bande passante | {bandwidth} TB |
| Cache Hit Rate | {hit_rate}% |

## 8.3 Graphique "Trafic"

Courbe du trafic sur la pÃ©riode.

## 8.4 Graphique "Cache Hit Rate"

```
Hit  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  87%
Miss â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  13%
```

## 8.5 Section "Top domaines"

| Domaine | RequÃªtes | Bande passante |
|---------|----------|----------------|
| www.example.com | 1.2M | 450 GB |
| static.example.com | 890k | 1.2 TB |


# 9. RIGHT PANEL - TAB TÃ‚CHES
################################################################################

## 9.1 Tableau des tÃ¢ches

| Date | OpÃ©ration | Cible | Statut |
|------|-----------|-------|--------|
| {date} | Purge cache | www.example.com | âœ… |
| {date} | Ajout domaine | api.example.com | âœ… |
| {date} | SSL renouvelÃ© | *.example.com | âœ… |


# 10. APIS & ENDPOINTS
################################################################################

## 10.1 CDN

```
GET /cdn/dedicated
GET /cdn/dedicated/{serviceName}
GET /cdn/dedicated/{serviceName}/serviceInfos
```

## 10.2 Domaines

```
GET /cdn/dedicated/{serviceName}/domains
POST /cdn/dedicated/{serviceName}/domains
GET /cdn/dedicated/{serviceName}/domains/{domain}
PUT /cdn/dedicated/{serviceName}/domains/{domain}
DELETE /cdn/dedicated/{serviceName}/domains/{domain}
```

## 10.3 Cache

```
POST /cdn/dedicated/{serviceName}/flush
POST /cdn/dedicated/{serviceName}/domains/{domain}/flush
```

## 10.4 SSL

```
GET /cdn/dedicated/{serviceName}/ssl
POST /cdn/dedicated/{serviceName}/ssl
DELETE /cdn/dedicated/{serviceName}/ssl
```

## 10.5 Statistiques

```
GET /cdn/dedicated/{serviceName}/statistics
```


# 11. VARIABLES DYNAMIQUES
################################################################################

| Variable | Source | Exemple |
|----------|--------|---------|
| {serviceName} | API | cdn-xxx |
| {anycast_ip} | API | 1.2.3.4 |
| {domains_count} | Comptage | 12 |
| {bandwidth} | API stats | 2.4 TB |
| {hit_rate} | API stats | 87.3% |
| {requests_count} | API stats | 45.2M |


# 12. MODALES
################################################################################

## 12.1 modal-add-domain

| Champ | Type | Validation |
|-------|------|------------|
| Domaine | Input | FQDN valide |
| Origine | Input | IP ou hostname |
| Port origine | Input | 1-65535 |
| SSL backend | Toggle | HTTPS vers origine |
| TTL par dÃ©faut | Select | 0/1h/24h/7j/30j |

## 12.2 modal-purge-cache

| Champ | Type |
|-------|------|
| Type | Radio (URL/Pattern/Domaine/Tout) |
| Cible | Input (si URL/Pattern) |
| Domaine | Select (si Domaine) |

## 12.3 modal-add-ssl

| Champ | Type |
|-------|------|
| Type | Radio (Let's Encrypt / Import) |
| Domaine | Input |
| Certificat | Textarea (Import) |
| ClÃ© privÃ©e | Textarea (Import) |


# 13. RÃˆGLES MÃ‰TIER
################################################################################

## 13.1 Cache

- TTL 0 = pas de cache (pass-through)
- Purge propage sur tous les POPs
- Wildcard supportÃ© pour purge

## 13.2 SSL

- Let's Encrypt gratuit et auto-renouvelÃ©
- Certificat custom Ã  renouveler manuellement
- HTTPS obligatoire pour certains domaines

## 13.3 Origine

- IP ou hostname supportÃ©s
- HTTP ou HTTPS vers l'origine
- Health check sur l'origine


# 14. COMPOSANTS ODS UTILISÃ‰S
################################################################################

- OdsTabs : NAV4 tabs
- OdsInput : Formulaires
- OdsSelect : TTL, types
- OdsDatagrid : Tableaux
- OdsCard : MÃ©triques
- OdsBadge : Statuts
- OdsButton : Actions
- OdsModal : Modales
- OdsRadio : Options purge
- OdsCharts : Graphiques stats


# 15. FICHIERS ASSOCIÃ‰S
################################################################################

Documentation : prompt_target.network.cdn.txt (ce fichier)
Screenshots : prompt_target.network.cdn.*.ss (dans target_manager_svg)

################################################################################
#                            FIN DU DOCUMENT                                   #
################################################################################
