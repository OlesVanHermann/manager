# ============================================================================
# PROMPT TARGET - PUBLIC CLOUD > STORAGE
# ============================================================================
# NAV1: Public Cloud
# NAV2: Storage
# Version: 1.0
# ============================================================================

## 1. VUE D'ENSEMBLE

### 1.1 Positionnement
- **NAV1** : Public Cloud (Header bleu #000E9C, 50px)
- **NAV2** : Storage (Sous-header blanc, 40px) - Actif parmi [Projet, Compute, Storage, Databases, Containers, AI/ML, Network]
- **NAV3** : Filtres dropdown dans sidecar (Region + Projet)
- **NAV4** : Tabs contextuels dans RIGHT PANEL

### 1.2 Objectif
Gestion unifiÃ©e de tous les services de stockage : Block Storage, Object Storage, File Storage, Archive, Snapshots et Backups.

### 1.3 URL Pattern
```
/public-cloud/storage                           â†’ Dashboard (General ALL)
/public-cloud/storage/block                     â†’ Liste Block Storage
/public-cloud/storage/object                    â†’ Liste Object Storage
/public-cloud/storage/file                      â†’ Liste File Storage
/public-cloud/storage/archive                   â†’ Liste Archive
/public-cloud/storage/snapshot                  â†’ Liste tous Snapshots
/public-cloud/storage/backup                    â†’ Liste tous Backups
/public-cloud/storage/block/{volumeId}          â†’ DÃ©tail volume
/public-cloud/storage/snapshot/{snapshotId}     â†’ DÃ©tail snapshot
```

---

## 2. STRUCTURE NAV3 (SIDECAR - LEFT PANEL 280px)

### 2.1 Filtres (haut de sidecar)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NAV3 - Filtres        â”‚
â”‚ [ğŸŒ Region: ALL    â–¼] â”‚  â† Dropdown + bouton Ã— si â‰  ALL
â”‚ [ğŸ—‚ï¸ Projet: ALL    â–¼] â”‚  â† Dropdown + bouton Ã— si â‰  ALL
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Rechercher...      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š General (ALL)     â”‚  â† Toujours prÃ©sent, retour dashboard
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  (liste services)     â”‚  â† FiltrÃ©e par NAV3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Dropdown Region
Source: `/api/regions.json`

| Groupe | Options |
|--------|---------|
| (dÃ©faut) | ğŸŒ ALL |
| EUROPE | EU-West (PAR.FR), EU-West (GRA.FR), EU-West (RBX.FR), EU-Central (SBG.FR), EU-Central (LIM.DE), EU-West (ERI.UK), EU-East (WAW.PL), EU-South (MIL.IT) |
| EUROPE SOUVERAIN | EU-West (RBX.FR-SOV) ğŸ›¡ï¸SNC, EU-Central (SBG.FR-SOV) ğŸ›¡ï¸SNC, EU-West (GRA.FR-SOV) ğŸ›¡ï¸SNC, EU-West (PAR.FR-SOV) ğŸ›¡ï¸SNC, EU-South (MIL.IT-SOV) ğŸ›¡ï¸G5 |
| NORTH AMERICA | US-East (VIN.US), US-West (HIL.US), CA-East (BHS.CA), CA-East (TOR.CA) |
| ASIA PACIFIC | AP-Southeast (SGP.SG), AP-Southeast (SYD.AU), AP-South (MUM.IN) |

### 2.3 Dropdown Projet
- **ALL** : Tous les projets (dÃ©faut)
- Liste dynamique des projets de l'utilisateur

### 2.4 Bouton Reset (Ã—)
- Visible uniquement si valeur â‰  ALL
- Clic â†’ Reset vers ALL
- Position : Ã  droite du dropdown

### 2.5 Liste services (sidecar)
Affiche tous les services Storage filtrÃ©s par NAV3 :
- ğŸ“¦ Volumes (Block Storage)
- ğŸª£ Buckets (Object Storage)
- ğŸ“ Shares (File Storage)
- ğŸ—„ï¸ Archives
- ğŸ“¸ Snapshots
- ğŸ’¾ Backups

---

## 3. STRUCTURE NAV4 (RIGHT PANEL - TABS)

### 3.1 NAV4 - Vue General (ALL) sÃ©lectionnÃ© dans sidecar
```
[General] Block  Object  File  Archive  Snap  Bkp
```

| Tab | Description | Action |
|-----|-------------|--------|
| **General** | Dashboard rÃ©capitulatif | Vue par dÃ©faut |
| **Block** | Liste Block Storage | [+ CrÃ©er] |
| **Object** | Liste Object Storage | [+ CrÃ©er] |
| **File** | Liste File Storage | [+ CrÃ©er] |
| **Archive** | Liste Archive Storage | [+ CrÃ©er] |
| **Snap** | Liste tous Snapshots | [+ Snapshot] |
| **Bkp** | Liste tous Backups | [+ Backup] |

### 3.2 NAV4 - Service sÃ©lectionnÃ© dans sidecar
```
[General]  IAM   KMS   ObservabilitÃ©  Snap  Bkp
```

| Tab | Description |
|-----|-------------|
| **General** | Informations du service, actions |
| **IAM** | Permissions, rÃ´les, utilisateurs |
| **KMS** | Chiffrement, clÃ©s |
| **ObservabilitÃ©** | MÃ©triques, logs, alertes |
| **Snap** | Snapshots de ce service |
| **Bkp** | Backups de ce service |

---

## 4. TYPES DE SERVICES STORAGE

### 4.1 Block Storage (ğŸ“¦)
- **Description** : Volumes attachables aux instances
- **Types** : Classic, High-speed, High-speed-gen2
- **Actions** : Attacher, DÃ©tacher, Redimensionner, Snapshot, Backup, Supprimer

### 4.2 Object Storage (ğŸª£)
- **Description** : Stockage objet compatible S3
- **Classes** : Standard, High Performance
- **Actions** : GÃ©rer accÃ¨s, Politique, Versioning, Lifecycle, Supprimer

### 4.3 File Storage (ğŸ“)
- **Description** : Partages NFS/CIFS
- **Actions** : GÃ©rer ACL, Redimensionner, Snapshot, Supprimer

### 4.4 Archive (ğŸ—„ï¸)
- **Description** : Stockage froid longue durÃ©e
- **Actions** : Restaurer, Supprimer

### 4.5 Snapshot (ğŸ“¸)
- **Description** : Image instantanÃ©e d'un volume
- **Actions** : CrÃ©er volume depuis snapshot, Supprimer

### 4.6 Backup (ğŸ’¾)
- **Description** : Sauvegarde planifiÃ©e
- **Actions** : Restaurer, CrÃ©er volume, Supprimer

---

## 5. APIS & ENDPOINTS

### 5.1 Block Storage
```
GET    /cloud/project/{projectId}/volume
GET    /cloud/project/{projectId}/volume/{volumeId}
POST   /cloud/project/{projectId}/volume
PUT    /cloud/project/{projectId}/volume/{volumeId}
DELETE /cloud/project/{projectId}/volume/{volumeId}
POST   /cloud/project/{projectId}/volume/{volumeId}/attach
POST   /cloud/project/{projectId}/volume/{volumeId}/detach
POST   /cloud/project/{projectId}/volume/{volumeId}/snapshot
```

### 5.2 Object Storage
```
GET    /cloud/project/{projectId}/storage
GET    /cloud/project/{projectId}/storage/container/{containerId}
POST   /cloud/project/{projectId}/storage
DELETE /cloud/project/{projectId}/storage/container/{containerId}
```

### 5.3 Snapshots
```
GET    /cloud/project/{projectId}/volume/snapshot
GET    /cloud/project/{projectId}/volume/snapshot/{snapshotId}
POST   /cloud/project/{projectId}/volume/snapshot
DELETE /cloud/project/{projectId}/volume/snapshot/{snapshotId}
```

### 5.4 Backups
```
GET    /cloud/project/{projectId}/volume/backup
POST   /cloud/project/{projectId}/volume/{volumeId}/backup
DELETE /cloud/project/{projectId}/volume/backup/{backupId}
POST   /cloud/project/{projectId}/volume/backup/{backupId}/restore
```

---

## 6. COMPOSANTS UI

### 6.1 Datagrid colonnes par type

**Block Storage**
| Colonne | Description |
|---------|-------------|
| Nom | Nom du volume (lien) |
| Projet | Nom du projet |
| RÃ©gion | Code rÃ©gion (GRA, SBG...) |
| Type | Classic, High-speed |
| Taille | En Go/To |
| Instance | Instance attachÃ©e ou "-" |
| Statut | in-use, available |
| â‹® | Menu actions |

**Object Storage**
| Colonne | Description |
|---------|-------------|
| Nom | Nom du bucket |
| Projet | Nom du projet |
| RÃ©gion | Code rÃ©gion |
| Classe | Standard, High Perf |
| Objets | Nombre d'objets |
| Taille | Taille totale |
| â‹® | Menu actions |

**Snapshots**
| Colonne | Description |
|---------|-------------|
| Nom | Nom du snapshot |
| Volume source | Volume d'origine |
| Projet | Nom du projet |
| RÃ©gion | Code rÃ©gion |
| Taille | Taille snapshot |
| Date | Date crÃ©ation |
| â‹® | Menu actions |

### 6.2 Cards dÃ©tail service

**Card Informations**
- Nom, ID, Projet, RÃ©gion, Type, Taille, Statut, Date crÃ©ation

**Card Instance attachÃ©e** (Block Storage)
- Nom instance, lien vers instance, bouton DÃ©tacher

**Card Actions**
- Boutons contextuels selon type service

### 6.3 Badges statut
| Statut | Couleur | Classe |
|--------|---------|--------|
| in-use | Vert | badge-success |
| available | Gris | badge-default |
| creating | Jaune | badge-warning |
| error | Rouge | badge-error |

---

## 7. COMPORTEMENTS

### 7.1 Filtrage NAV3
- Changement Region â†’ Filtre liste sidecar + RIGHT PANEL
- Changement Projet â†’ Filtre liste sidecar + RIGHT PANEL
- Les deux filtres sont combinÃ©s (AND)
- Reset Ã— â†’ Retour Ã  ALL pour ce filtre

### 7.2 Navigation sidecar â†’ RIGHT PANEL
- Clic "General (ALL)" â†’ NAV4 = [General] Block Object File Archive Snap Bkp
- Clic service â†’ NAV4 = [General] IAM KMS ObservabilitÃ© Snap Bkp

### 7.3 Persistance NAV4
- Changement de service dans sidecar â†’ NAV4 reset Ã  General
- Changement de filtre NAV3 â†’ NAV4 conservÃ© si "General (ALL)" sinon reset

### 7.4 CrÃ©ation service
- Depuis NAV4 General (ALL) : Clic sur tab Block/Object/File â†’ Bouton [+ CrÃ©er]
- Modal ou page de crÃ©ation selon complexitÃ©

---

## 8. ESTIMATIONS FICHIERS SVG

| Ã‰cran | Fichier |
|-------|---------|
| Dashboard Storage | target_.public-cloud.storage.svg |
| Liste Block | target_.public-cloud.storage.block.svg |
| Liste Object | target_.public-cloud.storage.object.svg |
| Liste File | target_.public-cloud.storage.file.svg |
| Liste Archive | target_.public-cloud.storage.archive.svg |
| Liste Snap | target_.public-cloud.storage.snap.svg |
| Liste Backup | target_.public-cloud.storage.backup.svg |
| DÃ©tail Volume | target_.public-cloud.storage.block.detail.svg |
| DÃ©tail Volume - IAM | target_.public-cloud.storage.block.detail.iam.svg |
| DÃ©tail Volume - Snap | target_.public-cloud.storage.block.detail.snap.svg |
| DÃ©tail Snapshot | target_.public-cloud.storage.snap.detail.svg |
| Modal CrÃ©er Volume | target_.public-cloud.storage.block.create.svg |
| Modal Attacher | target_.public-cloud.storage.block.attach.svg |
| Modal Supprimer | target_.public-cloud.storage.block.delete.svg |

**Total estimÃ© : ~25-30 fichiers SVG + TXT**
