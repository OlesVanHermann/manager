# CAHIER DES CHARGES - old_manager.telecom.telephony.billingAccount.dashboard
# Dashboard d'un groupe de facturation

## 1. RESUME EXECUTIF

### Perimetre
Tableau de bord synthetique d'un groupe de facturation VoIP.

### Objectif fonctionnel
Afficher les informations cles et statistiques du groupe en un coup d'oeil.

### Users cibles
- Gestionnaires de comptes VoIP

---

## 2. ARCHITECTURE

### Arborescence fichiers source
```
telecom/telephony/billingAccount/dashboard/
├── dashboard.module.js
├── dashboard.routing.js
├── dashboard.controller.js
├── dashboard.html
└── translations/Messages_fr_FR.json
```

---

## 3. PAGES & NAVIGATION

### Route
- State: `telecom.telephony.billingAccount.dashboard`
- URL: `/telephony/{billingAccount}/dashboard`

### Breadcrumb
VoIP > {billingAccount} > Tableau de bord

---

## 4. COMPOSANTS UI

### Tiles d'information

#### Tile Groupe
- Nom du groupe
- Description
- Statut

#### Tile Facturation
- Hors forfait actuel
- Depot de garantie
- Seuil credit

#### Tile Services
- Nombre de lignes
- Nombre de numeros
- Nombre de fax

### Actions rapides
- Editer description
- Voir facturation
- Commander service

---

## 5. APIs & DONNEES

### Endpoints

#### Informations groupe
```
GET /telephony/{billingAccount}
```

#### Comptage services
```
GET /telephony/{billingAccount}/service
```

#### Consommation
```
GET /telephony/{billingAccount}/consumption
Response: {
  outplanSum: { value: number, text: string }
}
```

#### Seuils
```
GET /telephony/{billingAccount}/allowedCreditThreshold
Response: Array<number>
```

```
GET /telephony/{billingAccount}/amountSecurityDeposit
Response: Array<number>
```

---

## 6. TRADUCTIONS

### Cles i18n (FR)
Voir fichier translations/Messages_fr_FR.json du module dashboard.

---

## 7. REGLES METIER

### Calculs
- Total services = lignes + numeros + fax
- Hors forfait = somme consommations hors forfait

### Alertes visuelles
- Rouge si hors forfait > depot garantie
- Orange si proche du seuil
