# Cahier des Charges : telecom/alias - Modal Ecouter l'appel

## 1. RESUME EXECUTIF

### Perimetre
Modal d'ecoute d'un appel en cours.

### Objectif fonctionnel
- Superviser un appel en temps reel
- Choisir le mode d'ecoute
- Fournir le numero d'ecoute

---

## 2. LAYOUT

### Structure modal simple avec formulaire

---

## 3. COMPOSANTS UI

### Header modal
| Element | Description |
|---------|-------------|
| Titre | Ecouter l'appel |
| Bouton X | Fermer modal |

### Info alert
| Element | Description |
|---------|-------------|
| Fond | Bleu clair |
| Ligne 1 | Explication ecoute |
| Ligne 2 | Possibilite chuchoter |

### Type d'ecoute
| Element | Description |
|---------|-------------|
| Label | Type d'ecoute |
| Select | Dropdown options |

### Options ecoute
| Option | Description |
|--------|-------------|
| Ecoute seule | Entendre sans parler |
| Chuchoter agent | Parler a l'agent |
| Chuchoter tous | Parler a tous |

### Dropdown ouvert
| Etat | Style |
|------|-------|
| Option active | Fond bleu |
| Options autres | Fond blanc |

### Numero ecoute
| Element | Description |
|---------|-------------|
| Label | Numero pour l'ecoute * |
| Input | Champ numero |
| Format | +33 X XX XX XX XX |

### Footer modal
| Element | Description |
|---------|-------------|
| Fond | Gris clair |
| Bouton | Ecouter (Primary) |

---

## 4. APIS & DONNEES

### Endpoints
```
POST /telephony/{billingAccount}/ovhPabx/{serviceName}/hunting/queue/{queueId}/liveCalls/{id}/eavesdrop
```

### Parametres
```typescript
interface EavesdropParams {
  number: string;
  whisperingMode: 'eavesdrop' | 'whisperAgent' | 'whisperAll';
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "alias_modal_eavesdrop_title": "Ecouter l'appel",
  "alias_modal_eavesdrop_info": "L'ecoute vous permet d'entendre une conversation en cours",
  "alias_modal_eavesdrop_whisper_info": "Vous pouvez egalement chuchoter",
  "alias_modal_eavesdrop_type": "Type d'ecoute",
  "alias_modal_eavesdrop_only": "Ecoute seule",
  "alias_modal_eavesdrop_whisper_agent": "Chuchoter a l'agent uniquement",
  "alias_modal_eavesdrop_whisper_all": "Chuchoter a tous les participants",
  "alias_modal_eavesdrop_number": "Numero pour l'ecoute",
  "alias_modal_eavesdrop_submit": "Ecouter"
}
```

---

## 6. REGLES METIER

- Numero valide obligatoire
- Appel vers le numero d'ecoute
- Mode par defaut: ecoute seule
- Timeout: 30 secondes
