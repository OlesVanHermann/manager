# Cahier des Charges : telecom/common - Abbreviated Numbers Import

## 1. VUE D'ENSEMBLE

**Type:** Modal import avec pr√©visualisation
**Fonction:** Importer une liste de num√©ros abr√©g√©s depuis un fichier CSV
**Contexte:** Accessible depuis le menu Actions du datagrid des num√©ros abr√©g√©s

## 2. DIMENSIONS

- Modal: 600x400px
- Border radius: 8px

## 3. HEADER MODAL

- Bouton fermer: "√ó" (position droite)
- Titre: "Importer une liste de num√©ros abr√©g√©s" (16px, bold)

## 4. CONTENU

### Zone upload
- Bouton: "üìÅ S√©lectionnez votre fichier" (200x40px)
- Style: Background #EFF6FF, bordure #BFDBFE
- Couleur texte: #1E40AF

### Note
"Supprimer les √©ventuelles lignes d'ent√™te." (text-muted, 11px)

### Tableau pr√©visualisation (550x120px)

| Colonne | Largeur |
|---------|---------|
| Num√©ro abr√©g√© | 125px |
| Num√©ro cible | 160px |
| Nom | 140px |
| Pr√©nom | 110px |

### Style des lignes
- Valide: Texte normal (#1F2937)
- Invalide: Texte rouge (#DC2626), barr√© (text-decoration: line-through)

### Compteur import
- "Num√©ros import√©s : X" (text-dark)
- "Num√©ros ignor√©s : Y" (text-danger)

## 5. FOOTER MODAL

### Boutons

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Annuler | btn-outline | 90x36px |
| Valider | btn-primary | 90x36px |

## 6. APIS & ENDPOINTS

```
# Parser fichier CSV (pr√©visualisation)
POST /telephony/{billingAccount}/abbreviatedNumber/import/preview
Body: FormData (file: CSV)
‚Üí {
  valid: [{
    abbreviatedNumber: "200",
    destinationNumber: "0033123456789",
    surname: "Dupont",
    name: "Marie"
  }],
  invalid: [{
    row: 3,
    reason: "Invalid abbreviated number format",
    data: ["ABC", "invalid", "Bernard", "Sophie"]
  }],
  validCount: 2,
  invalidCount: 1
}

# Confirmer import
POST /telephony/{billingAccount}/abbreviatedNumber/import
Body: FormData (file: CSV)
‚Üí {
  importedCount: 2,
  ignoredCount: 1
}

# Format CSV attendu
# abbreviatedNumber;destinationNumber;surname;name
# 200;0033123456789;Dupont;Marie
```

## 7. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| modal_title | Importer une liste de num√©ros abr√©g√©s |
| btn_select_file | S√©lectionnez votre fichier |
| note_header | Supprimer les √©ventuelles lignes d'ent√™te. |
| col_abbreviated | Num√©ro abr√©g√© |
| col_destination | Num√©ro cible |
| col_surname | Nom |
| col_name | Pr√©nom |
| count_imported | Num√©ros import√©s |
| count_ignored | Num√©ros ignor√©s |
| btn_cancel | Annuler |
| btn_confirm | Valider |
