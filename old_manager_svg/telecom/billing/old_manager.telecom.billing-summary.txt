# Cahier des Charges : telecom/billing - Resume de consommation

## 1. RESUME EXECUTIF

### Perimetre
Page de synthese des consommations du groupe de telephonie.

### Objectif fonctionnel
- Voir la synthese globale des appels
- Consulter le detail par service
- Analyser les consommations

---

## 2. LAYOUT

### Structure page avec carte synthese + tableau detail

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ‚Üê Retour a la facturation |
| Titre | Resume de consommation |

### Carte synthese
| Element | Description |
|---------|-------------|
| Titre | Synthese des consommations |

### Stats globales
| Stat | Valeur |
|------|--------|
| Total des appels | X XXX appels |
| Appels entrants | X XXX appels |
| Appels sortants | XXX appels |
| Transferts | X appels |

### Tableau detail par service
| Colonne | Description |
|---------|-------------|
| Service | Nom + numero |
| Total | Nombre total appels |
| Entrants | Nombre appels recus |
| Sortants | Nombre appels emis |
| Transferts | Nombre transferts |

### Lignes tableau
| Element | Description |
|---------|-------------|
| Nom service | Texte bold |
| Numero | Format E.164 muted |
| Valeurs | Nombres alignes |

### Pagination
| Element | Description |
|---------|-------------|
| Compteur | Affichage de X-Y sur Z services |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/service
GET /telephony/{billingAccount}/service/{serviceName}/statistics
```

### Modele
```typescript
interface ConsumptionSummary {
  totalCalls: number;
  incomingCalls: number;
  outgoingCalls: number;
  transfers: number;
}

interface ServiceConsumption {
  serviceName: string;
  description: string;
  totalCalls: number;
  incomingCalls: number;
  outgoingCalls: number;
  transfers: number;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telecom_summary_title": "Resume de consommation",
  "telecom_summary_back": "Retour a la facturation",
  "telecom_summary_synthesis": "Synthese des consommations",
  "telecom_summary_total": "Total des appels",
  "telecom_summary_incoming": "Appels entrants",
  "telecom_summary_outgoing": "Appels sortants",
  "telecom_summary_transfers": "Transferts",
  "telecom_summary_detail": "Detail par service",
  "telecom_summary_col_service": "Service",
  "telecom_summary_col_total": "Total",
  "telecom_summary_col_incoming": "Entrants",
  "telecom_summary_col_outgoing": "Sortants",
  "telecom_summary_col_transfers": "Transferts",
  "telecom_summary_pagination": "Affichage de {start}-{end} sur {total} services"
}
```

---

## 6. REGLES METIER

- Periode = mois courant par defaut
- Tous les services du groupe inclus
- Transferts = appels rediriges
- Stats temps reel (cache 5 min)
