# Cahier des Charges : telecom/line - Configuration des tonalites

## 1. RESUME EXECUTIF

### Perimetre
Configuration des tonalites et musiques d'attente de la ligne telephonique.

### Objectif fonctionnel
- Configurer la tonalite de retour d'appel
- Definir la musique d'attente
- Configurer le signal d'appel

---

## 2. LAYOUT

### 3 sections verticales
| Section | Contenu |
|---------|---------|
| 1 | Tonalite de retour d'appel |
| 2 | Musique d'attente |
| 3 | Tonalite de signal d'appel |

---

## 3. COMPOSANTS UI

### Lien bulk
| Element | Description |
|---------|-------------|
| Link | Appliquer a plusieurs lignes |

### Section Tonalite retour d'appel
| Element | Description |
|---------|-------------|
| Titre | Tonalite de retour d'appel |
| Description | Son joue a l'appelant pendant la sonnerie |
| Select | Liste des melodies |
| Upload | Ou televerser un fichier audio |
| Bouton | Choisir un fichier |

### Section Musique d'attente
| Element | Description |
|---------|-------------|
| Titre | Musique d'attente |
| Description | Son joue lors de la mise en attente |
| Select | Liste des melodies |

### Section Signal d'appel
| Element | Description |
|---------|-------------|
| Titre | Tonalite de signal d'appel |
| Description | Son joue lors d'un double appel |
| Select | Liste des melodies |

### Melodies disponibles (exemples)
| Melodie |
|---------|
| Classique |
| Jazz |
| Standard |
| Pop |
| Silence |

### Boutons
| Bouton | Type | Action |
|--------|------|--------|
| Enregistrer | Primary | Sauvegarde |
| Annuler | Default | Reset |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/tones
    Response: { ringback, holdMusic, callWaiting }

PUT /telephony/{billingAccount}/line/{serviceName}/tones
    Body: { ringback, holdMusic, callWaiting }

POST /telephony/{billingAccount}/line/{serviceName}/tones/upload
    Body: FormData (audio file)

GET /telephony/tones/available
    Response: [{ id, name, type }]
```

### Formats audio acceptes
- WAV
- MP3
- OGG

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telephony_line_tones_title": "Configuration des tonalites",
  "telephony_line_tones_bulk": "Appliquer a plusieurs lignes",
  "telephony_line_tones_ringback_title": "Tonalite de retour d'appel",
  "telephony_line_tones_ringback_desc": "Son joue a l'appelant pendant la sonnerie",
  "telephony_line_tones_hold_title": "Musique d'attente",
  "telephony_line_tones_hold_desc": "Son joue lors de la mise en attente",
  "telephony_line_tones_callwaiting_title": "Tonalite de signal d'appel",
  "telephony_line_tones_callwaiting_desc": "Son joue lors d'un double appel",
  "telephony_line_tones_melody": "Melodie",
  "telephony_line_tones_upload": "Ou televerser un fichier audio",
  "telephony_line_tones_choose_file": "Choisir un fichier",
  "telephony_line_tones_save": "Enregistrer",
  "telephony_line_tones_cancel": "Annuler"
}
```

---

## 6. REGLES METIER

- Fichiers audio limites en taille
- Conversion automatique au format interne
- Tonalites par defaut OVH disponibles
