# Cahier des Charges : telecom/line - Configuration automatique

## 1. RESUME EXECUTIF

### Perimetre
Assistant de configuration automatique pour reinitialiser et reconfigurer un telephone IP.

### Objectif fonctionnel
- Guider l'utilisateur pas a pas
- Verifier l'adresse MAC
- Reinitialiser le telephone
- Lancer la configuration automatique

---

## 2. LAYOUT

### 3 etapes verticales numerotees

---

## 3. COMPOSANTS UI

### Titre section
| Element | Description |
|---------|-------------|
| Titre | Configuration automatique |

### Info box
| Element | Description |
|---------|-------------|
| Type | Information (bleu) |
| Message | Cette procedure va reinitialiser et reconfigurer automatiquement votre telephone |

### Etape 1 : Verifier l'adresse MAC
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "1" |
| Titre | Verifier l'adresse MAC |
| Texte | Verifiez que l'adresse MAC inscrite sous votre telephone correspond a : |
| MAC | 00:1A:2B:3C:4D:5E (gras) |
| Note | * L'adresse MAC se trouve generalement sur une etiquette sous le telephone |

### Etape 2 : Reinitialiser le telephone
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "2" |
| Titre | Reinitialiser le telephone |
| Instructions | Liste numerotee des etapes reset |

### Instructions reinitialisation
| Etape | Description |
|-------|-------------|
| 1 | Appuyez sur le bouton Menu de votre telephone |
| 2 | Naviguez vers Parametres > Reinitialisation usine |
| 3 | Confirmez la reinitialisation et attendez le redemarrage |

### Etape 3 : Saisir l'adresse IP publique
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "3" |
| Titre | Saisir votre adresse IP publique |
| Info IP connue | Derniere IP connue de votre telephone |
| Info IP actuelle | Votre adresse IP publique actuelle |
| Input | Champ adresse IP publique |
| Bouton | Suivant |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/phone
    Response: { brand, model, macAddress, lastKnownIp }

GET /me/accessRestriction/ip
    Response: { currentIp }

POST /telephony/{billingAccount}/line/{serviceName}/phone/autoconfig
    Body: { publicIp }
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telephony_line_autoconfig_title": "Configuration automatique",
  "telephony_line_autoconfig_info": "Cette procedure va reinitialiser et reconfigurer automatiquement votre telephone.",
  "telephony_line_autoconfig_step1_title": "Verifier l'adresse MAC",
  "telephony_line_autoconfig_step1_text": "Verifiez que l'adresse MAC inscrite sous votre telephone correspond a :",
  "telephony_line_autoconfig_step1_note": "L'adresse MAC se trouve generalement sur une etiquette sous le telephone",
  "telephony_line_autoconfig_step2_title": "Reinitialiser le telephone",
  "telephony_line_autoconfig_step2_text": "Effectuez une reinitialisation usine de votre telephone :",
  "telephony_line_autoconfig_step3_title": "Saisir votre adresse IP publique",
  "telephony_line_autoconfig_step3_last_ip": "Derniere IP connue de votre telephone",
  "telephony_line_autoconfig_step3_current_ip": "Votre adresse IP publique actuelle",
  "telephony_line_autoconfig_public_ip": "Adresse IP publique",
  "telephony_line_autoconfig_next": "Suivant"
}
```

---

## 6. REGLES METIER

- Procedure adaptee selon modele telephone
- IP publique verifiee cote serveur
- Configuration automatique via provisioning OVH
- Delai de propagation 5-10 minutes
