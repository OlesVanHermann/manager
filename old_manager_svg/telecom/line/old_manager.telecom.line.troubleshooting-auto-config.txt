# Cahier des Charges : telecom/line - Configuration automatique

## 1. RESUME EXECUTIF

### Perimetre
Page de depannage avec configuration automatique du telephone.

### Objectif fonctionnel
- Verifier l'adresse MAC du telephone
- Guider la reinitialisation
- Configurer automatiquement via l'IP publique

---

## 2. LAYOUT

### Structure page avec etapes numerotees verticales

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ‚Üê Retour a l'assistance |
| Titre | Configuration automatique |

### Alerte information
| Element | Description |
|---------|-------------|
| Type | Info (fond bleu) |
| Message | La configuration automatique reinitialise votre telephone. |

### Etape 1 - Adresse MAC
| Element | Description |
|---------|-------------|
| Numero | 1 (cercle bleu) |
| Titre | Verification de l'adresse MAC |
| Description | Verifiez que l'adresse MAC correspond... |
| Zone info | Fond gris avec adresse MAC |

### Etape 2 - Reinitialisation
| Element | Description |
|---------|-------------|
| Numero | 2 (cercle bleu) |
| Titre | Reinitialisation |
| Instructions | Liste numerotee |

### Instructions reinit
| Etape | Action |
|-------|--------|
| 1 | Debranchez le cable d'alimentation |
| 2 | Attendez 10 secondes |
| 3 | Rebranchez le cable |

### Etape 3 - IP publique
| Element | Description |
|---------|-------------|
| Numero | 3 (cercle bleu) |
| Titre | Adresse IP publique |
| Info | Votre adresse IP actuelle |
| Input | Champ saisie IP |
| Bouton | Suivant (Primary) |

### Etape 4 - Redemarrage
| Element | Description |
|---------|-------------|
| Numero | 4 (cercle gris, inactif) |
| Titre | Redemarrage |
| Description | Apres validation, le telephone redemarrera... |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/phone
POST /telephony/{billingAccount}/line/{serviceName}/phone/autoConfig
```

### Modele
```typescript
interface PhoneInfo {
  macAddress: string;
  publicIp?: string;
}

interface AutoConfigRequest {
  publicIp: string;
}

interface AutoConfigStep {
  step: number;
  status: 'done' | 'current' | 'pending';
  title: string;
  description: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "line_autoconfig_title": "Configuration automatique",
  "line_autoconfig_back": "Retour a l'assistance",
  "line_autoconfig_info": "La configuration automatique reinitialise votre telephone.",
  "line_autoconfig_step1_title": "Verification de l'adresse MAC",
  "line_autoconfig_step1_desc": "Verifiez que l'adresse MAC correspond a celle de votre telephone",
  "line_autoconfig_step2_title": "Reinitialisation",
  "line_autoconfig_step2_desc": "Pour reinitialiser votre telephone",
  "line_autoconfig_step2_1": "Debranchez le cable d'alimentation",
  "line_autoconfig_step2_2": "Attendez 10 secondes",
  "line_autoconfig_step2_3": "Rebranchez le cable",
  "line_autoconfig_step3_title": "Adresse IP publique",
  "line_autoconfig_step3_current": "Votre adresse IP actuelle",
  "line_autoconfig_step3_input": "Entrez l'adresse IP publique du telephone",
  "line_autoconfig_step4_title": "Redemarrage",
  "line_autoconfig_step4_desc": "Apres validation, le telephone redemarrera automatiquement.",
  "line_autoconfig_next": "Suivant"
}
```

---

## 6. REGLES METIER

- MAC doit correspondre au telephone enregistre
- IP publique = IP de la box/routeur
- Redemarrage automatique apres config
- Timeout de 5 minutes maximum
