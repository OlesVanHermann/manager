# Cahier des Charges : telecom/line - Modal Import contacts

## 1. RESUME EXECUTIF

### Perimetre
Modal d'import de contacts depuis un fichier CSV ou vCard.

### Objectif fonctionnel
- Selectionner un fichier a importer
- Valider le format
- Importer les contacts

---

## 2. LAYOUT

### Modal 500x320 compacte

---

## 3. COMPOSANTS UI

### En-tete modal
| Element | Description |
|---------|-------------|
| Titre | Importer des contacts |
| Bouton fermer | X en haut a droite |

### Info box
| Element | Description |
|---------|-------------|
| Type | Information (bleu) |
| Ligne 1 | Formats acceptes : CSV, VCF (vCard) |
| Ligne 2 | Le fichier doit contenir les colonnes : nom, prenom, telephone |

### Zone upload
| Element | Description |
|---------|-------------|
| Style | Zone drag & drop avec bordure pointillee |
| Icone | Upload (fleche vers le haut) |
| Texte principal | Choisir un fichier a importer |
| Texte secondaire | ou glisser-deposer ici |

### Footer modal
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Default | Ferme la modal |
| Importer | Primary | Lance l'import |

---

## 4. APIS & DONNEES

### Endpoints
```
POST /telephony/{billingAccount}/line/{serviceName}/phone/phonebook/{bookId}/import
    Content-Type: multipart/form-data
    Body: { file: File }
    Response: { imported: number, errors: [] }
```

### Formats acceptes
| Format | Extension | Description |
|--------|-----------|-------------|
| CSV | .csv | Colonnes : nom, prenom, telephone |
| vCard | .vcf | Standard vCard 3.0/4.0 |

### Colonnes CSV attendues
| Colonne | Requis | Mapping |
|---------|--------|---------|
| nom | Oui | name |
| prenom | Oui | surname |
| telephone | Oui | homePhone |
| mobile | Non | homeMobile |
| groupe | Non | group |

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telephony_line_phonebook_import_title": "Importer des contacts",
  "telephony_line_phonebook_import_formats": "Formats acceptes : CSV, VCF (vCard)",
  "telephony_line_phonebook_import_columns": "Le fichier doit contenir les colonnes : nom, prenom, telephone",
  "telephony_line_phonebook_import_choose": "Choisir un fichier a importer",
  "telephony_line_phonebook_import_dragdrop": "ou glisser-deposer ici",
  "telephony_line_phonebook_import_cancel": "Annuler",
  "telephony_line_phonebook_import_submit": "Importer",
  "telephony_line_phonebook_import_success": "{{count}} contacts importes",
  "telephony_line_phonebook_import_error": "Erreur lors de l'import"
}
```

---

## 6. REGLES METIER

- Validation format avant envoi
- Limite taille fichier (1 Mo)
- Doublons detectes par nom+prenom
- Import progressif avec rapport
