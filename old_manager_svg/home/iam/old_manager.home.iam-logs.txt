# Cahier des Charges : home/iam-logs

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.iam-logs.svg |
| **NAV1** | home (Accueil) |
| **NAV2** | iam-logs |
| **Type** | Page full-width avec datagrid et filtres |
| **Description** | Page d'audit des logs IAM avec historique des actions |

---

## 2. LAYOUT

### 2.1 Structure

| Zone | Dimensions | Position |
|------|------------|----------|
| Header OVH | 1440√ó50px | y: 0 |
| Sous-header | 1440√ó40px | y: 50 |
| Header page | 1360√ó100px | x: 40, y: 115 |
| Datagrid | 1360√ó500px | x: 40, y: 230 |

---

## 3. HEADER PAGE

### 3.1 Breadcrumb

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | IAM - Logs d'audit |
| Couleur | #0050D7 |
| Font-size | 14px |
| Font-weight | 600 |

### 3.2 Titre

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Logs d'audit IAM |
| Font-size | 24px |
| Font-weight | 600 |
| Couleur | #1F2937 |

### 3.3 Sous-titre

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Historique des actions IAM sur votre compte |
| Font-size | 13px |
| Couleur | #6B7280 |

---

## 4. BARRE DE FILTRES

### 4.1 Recherche

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 250√ó36px |
| Background | #F9FAFB |
| Border | 1px #E5E7EB |
| Placeholder | üîç Rechercher... |

### 4.2 Filtre Type d'action

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 150√ó36px |
| Type | Dropdown |
| Placeholder | Type d'action ‚ñº |

### 4.3 Filtre Utilisateur

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 150√ó36px |
| Type | Dropdown |
| Placeholder | Utilisateur ‚ñº |

### 4.4 Filtre P√©riode

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 150√ó36px |
| Type | Dropdown |
| Placeholder | P√©riode ‚ñº |

### 4.5 Bouton Export

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Exporter CSV |
| Type | Outline button |
| Dimensions | 160√ó36px |
| Border | 1px #0050D7 |
| Couleur texte | #0050D7 |
| Position | Droite |

---

## 5. DATAGRID LOGS

### 5.1 Conteneur

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 1360√ó500px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 5.2 Header tableau

| Propri√©t√© | Valeur |
|-----------|--------|
| Hauteur | 45px |
| Background | #F9FAFB |
| Border radius | 8px 8px 0 0 |

### 5.3 Colonnes

| # | Colonne | Position X | Largeur |
|---|---------|------------|---------|
| 1 | Date/Heure | 20px | 160px |
| 2 | Utilisateur | 180px | 200px |
| 3 | Action | 380px | 220px |
| 4 | Ressource | 600px | 300px |
| 5 | IP Source | 900px | 150px |
| 6 | Statut | 1050px | 100px |
| 7 | D√©tails | 1200px | 100px |

### 5.4 Badges Action

| Type | Background | Couleur texte | Dimensions |
|------|------------|---------------|------------|
| Connexion (success) | #DEF7EC | #059669 | 100√ó22px |
| Connexion (failed) | #FEE2E2 | #DC2626 | 100√ó22px |
| Cr√©ation politique | #DBEAFE | #1E40AF | 120√ó22px |
| Ajout utilisateur | #FEF3C7 | #D97706 | 140√ó22px |

### 5.5 Badges Statut

| √âtat | Background | Couleur texte | Dimensions |
|------|------------|---------------|------------|
| OK | #DEF7EC | #059669 | 60√ó22px |
| √âchec | #FEE2E2 | #DC2626 | 60√ó22px |

### 5.6 Donn√©es exemple

| Date/Heure | Utilisateur | Action | Ressource | IP | Statut |
|------------|-------------|--------|-----------|-------|--------|
| 02/01/2026 10:30:45 | admin@company.com | Connexion | Session utilisateur | 192.168.1.100 | OK |
| 02/01/2026 09:15:22 | admin@company.com | Cr√©ation politique | ReadOnly | 192.168.1.100 | OK |
| 01/01/2026 23:15:08 | unknown@external.com | Connexion | Session utilisateur | 45.67.89.123 | √âchec |
| 01/01/2026 16:42:33 | admin@company.com | Ajout utilisateur | john.doe ‚Üí Developers | 192.168.1.100 | OK |

### 5.7 Lien D√©tails

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Voir |
| Couleur | #0050D7 |
| Action | Ouvrir modal d√©tails du log |

### 5.8 Style lignes

| Propri√©t√© | Valeur |
|-----------|--------|
| Hauteur ligne | 50px |
| Background | #FFFFFF |
| S√©parateur | 1px #E5E7EB |
| Font-size | 11-12px |

---

## 6. COMPORTEMENT

| Action | R√©sultat |
|--------|----------|
| Saisie recherche | Filtrer les logs |
| S√©lection dropdown | Appliquer le filtre |
| Clic Exporter CSV | T√©l√©charger les logs filtr√©s |
| Clic Voir | Ouvrir modal avec d√©tails complets |

---

## 7. APIS & ENDPOINTS

### 7.1 Lister les logs d'audit

```
GET /me/iam/logs
```

Query params:
```
?action=login,createPolicy,addUser
&user=admin@company.com
&from=2026-01-01T00:00:00Z
&to=2026-01-02T23:59:59Z
```

Response:
```json
{
  "logs": [
    {
      "logId": "log-001",
      "timestamp": "2026-01-02T10:30:45Z",
      "user": "admin@company.com",
      "action": "login",
      "resource": "Session utilisateur",
      "sourceIp": "192.168.1.100",
      "status": "success",
      "details": {
        "browser": "Chrome 120",
        "location": "Paris, FR"
      }
    }
  ],
  "totalCount": 150,
  "page": 1,
  "pageSize": 50
}
```

### 7.2 Exporter les logs

```
GET /me/iam/logs/export
```

Query params: (m√™mes filtres que lister)

Response: CSV file download

---

## 8. TRADUCTIONS (i18n)

| Cl√© | Valeur FR |
|-----|-----------|
| `iam_logs_title` | Logs d'audit IAM |
| `iam_logs_subtitle` | Historique des actions IAM sur votre compte |
| `iam_logs_search` | Rechercher... |
| `iam_logs_filter_action` | Type d'action |
| `iam_logs_filter_user` | Utilisateur |
| `iam_logs_filter_period` | P√©riode |
| `iam_logs_export` | Exporter CSV |
| `iam_logs_col_datetime` | Date/Heure |
| `iam_logs_col_user` | Utilisateur |
| `iam_logs_col_action` | Action |
| `iam_logs_col_resource` | Ressource |
| `iam_logs_col_ip` | IP Source |
| `iam_logs_col_status` | Statut |
| `iam_logs_col_details` | D√©tails |
| `iam_logs_action_login` | Connexion |
| `iam_logs_action_create_policy` | Cr√©ation politique |
| `iam_logs_action_add_user` | Ajout utilisateur |
| `iam_logs_status_ok` | OK |
| `iam_logs_status_failed` | √âchec |
| `iam_logs_view_details` | Voir |
