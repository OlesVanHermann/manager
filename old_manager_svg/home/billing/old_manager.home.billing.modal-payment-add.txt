# Cahier des Charges : home/billing/modal-payment-add

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.billing.modal-payment-add.svg |
| **NAV1** | home (Accueil) |
| **NAV2** | billing |
| **Type** | Modal formulaire multi-√©tapes |
| **Description** | Modal pour ajouter un nouveau moyen de paiement |

---

## 2. MODAL

### 2.1 Dimensions

| Propri√©t√© | Valeur |
|-----------|--------|
| Largeur | 700px |
| Hauteur | 520px |
| Position | Centr√©e (x: 370, y: 150) |
| Border radius | 8px |
| Background | #FFFFFF |

### 2.2 Overlay

| Propri√©t√© | Valeur |
|-----------|--------|
| Background | rgba(0, 0, 0, 0.5) |

---

## 3. HEADER

| Propri√©t√© | Valeur |
|-----------|--------|
| Hauteur | 50px |
| Background | #F9FAFB |
| Border radius | 8px 8px 0 0 |
| Titre | Ajouter un moyen de paiement |
| Couleur titre | #1F2937 |
| Font-size | 16px |
| Font-weight | 600 |
| Bouton fermeture | √ó |

---

## 4. S√âLECTION TYPE

### 4.1 Label

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Type de moyen de paiement |
| Font-size | 12px |

### 4.2 Options

| Option | Ic√¥ne | Description | Largeur |
|--------|-------|-------------|---------|
| Carte bancaire | üí≥ | Visa, Mastercard, CB | 200px |
| Pr√©l√®vement SEPA | üè¶ | Compte bancaire | 200px |
| PayPal | üí∞ | Compte PayPal | 200px |

### 4.3 Style option

| √âtat | Background | Border |
|------|------------|--------|
| S√©lectionn√© | #E8F0FE | #0050D7 |
| Non s√©lectionn√© | #FFFFFF | #E5E7EB |

---

## 5. FORMULAIRE CARTE BANCAIRE

### 5.1 Champ Num√©ro de carte

| Propri√©t√© | Valeur |
|-----------|--------|
| Label | Num√©ro de carte |
| Type | Text input (masked) |
| Dimensions | 660√ó40px |
| Placeholder | 1234 5678 9012 3456 |

### 5.2 Champ Date d'expiration

| Propri√©t√© | Valeur |
|-----------|--------|
| Label | Date d'expiration |
| Type | Text input |
| Dimensions | 200√ó40px |
| Placeholder | MM/AA |

### 5.3 Champ CVV

| Propri√©t√© | Valeur |
|-----------|--------|
| Label | CVV |
| Type | Text input |
| Dimensions | 120√ó40px |
| Placeholder | 123 |

### 5.4 Champ Nom

| Propri√©t√© | Valeur |
|-----------|--------|
| Label | Nom sur la carte |
| Type | Text input |
| Dimensions | 660√ó40px |

---

## 6. OPTION PAR D√âFAUT

| Propri√©t√© | Valeur |
|-----------|--------|
| Type | Checkbox |
| Dimensions | 16√ó16px |
| √âtat initial | Coch√© |
| Label | D√©finir comme moyen de paiement par d√©faut |

---

## 7. FOOTER

### 7.1 Boutons

| Bouton | Style | Dimensions | Position |
|--------|-------|------------|----------|
| Annuler | Secondary | 100√ó40px | Gauche |
| Ajouter | Primary | 100√ó40px | Droite |

---

## 8. COMPORTEMENT

| Action | R√©sultat |
|--------|----------|
| Clic √ó | Fermer modal |
| Clic Annuler | Fermer modal |
| S√©lection type | Afficher le formulaire correspondant |
| Clic Ajouter | Valider et enregistrer le moyen |

---

## 9. VALIDATIONS

| Champ | R√®gles |
|-------|--------|
| Num√©ro de carte | 16 chiffres, Luhn valide |
| Date d'expiration | Format MM/AA, non expir√© |
| CVV | 3 chiffres (4 pour AMEX) |
| Nom | Obligatoire |

---

## 10. APIS & ENDPOINTS

### 10.1 Ajouter un moyen de paiement

```
POST /me/paymentMethod
```

Body:
```json
{
  "type": "card",
  "cardNumber": "4242424242424242",
  "expirationDate": "12/27",
  "cvv": "123",
  "holderName": "Jean Dupont",
  "setAsDefault": true
}
```

---

## 11. TRADUCTIONS (i18n)

| Cl√© | Valeur FR |
|-----|-----------|
| `billing_pm_add_title` | Ajouter un moyen de paiement |
| `billing_pm_add_type` | Type de moyen de paiement |
| `billing_pm_add_card` | Carte bancaire |
| `billing_pm_add_card_desc` | Visa, Mastercard, CB |
| `billing_pm_add_sepa` | Pr√©l√®vement SEPA |
| `billing_pm_add_sepa_desc` | Compte bancaire |
| `billing_pm_add_paypal` | PayPal |
| `billing_pm_add_paypal_desc` | Compte PayPal |
| `billing_pm_add_number` | Num√©ro de carte |
| `billing_pm_add_expiry` | Date d'expiration |
| `billing_pm_add_cvv` | CVV |
| `billing_pm_add_name` | Nom sur la carte |
| `billing_pm_add_default` | D√©finir comme moyen de paiement par d√©faut |
| `billing_pm_add_cancel` | Annuler |
| `billing_pm_add_submit` | Ajouter |
