# Cahier des Charges : home/billing/tab-payasyougo

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.billing.tab-payasyougo.svg |
| **NAV1** | home (Accueil) |
| **NAV2** | billing |
| **NAV4** | payasyougo |
| **Type** | Page avec KPI cards et liste |
| **Description** | Consommation à l'usage avec détail par service |

---

## 2. LAYOUT

### 2.1 Structure

| Zone | Dimensions | Position |
|------|------------|----------|
| Header OVH | 1440×50px | y: 0 |
| Sous-header | 1440×40px | y: 50 |
| Titre page | 1360×40px | x: 40, y: 115 |
| KPI mois en cours | 440×150px | x: 40, y: 180 |
| KPI mois précédent | 440×150px | x: 500, y: 180 |
| KPI services | 440×150px | x: 960, y: 180 |
| Carte détail | 1360×350px | x: 40, y: 360 |

---

## 3. HEADER PAGE

| Propriété | Valeur |
|-----------|--------|
| Breadcrumb | Facturation |
| Couleur breadcrumb | #0050D7 |
| Titre | Consommation à l'usage |
| Font-size | 24px |
| Font-weight | 600 |

---

## 4. KPI CARDS

### 4.1 Style commun

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 440×150px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 4.2 KPI Mois en cours

| Propriété | Valeur |
|-----------|--------|
| Titre | Mois en cours |
| Font-size titre | 15px |
| Font-weight titre | 700 |
| Valeur | 45,23 € |
| Font-size valeur | 28px |
| Font-weight valeur | 600 |
| Sous-texte | Estimation à ce jour (02/01/2026) |
| Couleur sous-texte | #6B7280 |

### 4.3 KPI Mois précédent

| Propriété | Valeur |
|-----------|--------|
| Titre | Mois précédent |
| Valeur | 89,45 € |
| Sous-texte | Facturé le 01/01/2026 |

### 4.4 KPI Services

| Propriété | Valeur |
|-----------|--------|
| Titre | Services à l'usage |
| Valeur | 5 |
| Sous-texte | Services avec consommation variable |

---

## 5. CARTE DÉTAIL PAR SERVICE

### 5.1 Conteneur

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 1360×350px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 5.2 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Détail par service |
| Font-size | 15px |
| Font-weight | 700 |

### 5.3 Liste services

| Service | Usage | Montant |
|---------|-------|---------|
| Public Cloud - Instances | 120h d'utilisation | 32,50 € |
| Object Storage | 150 Go stockés | 8,50 € |
| Bandwidth sortant | 75 Go transférés | 4,23 € |

### 5.4 Style liste

| Propriété | Valeur |
|-----------|--------|
| Séparateur | 1px #E5E7EB |
| Espacement ligne | 50px |
| Position service | x: 20 |
| Position usage | x: 500 |
| Position montant | x: 800 |

### 5.5 Style montant

| Propriété | Valeur |
|-----------|--------|
| Font-weight | 600 |
| Couleur | #1F2937 |

---

## 6. APIS & ENDPOINTS

### 6.1 Consommation du mois en cours

```
GET /me/consumption/current
```

Response:
```json
{
  "amount": 45.23,
  "period": "2026-01",
  "currency": "EUR",
  "lastUpdate": "2026-01-02T10:00:00Z"
}
```

### 6.2 Consommation du mois précédent

```
GET /me/consumption/history?period=2025-12
```

### 6.3 Détail par service

```
GET /me/consumption/details
```

Response:
```json
[
  {
    "serviceName": "Public Cloud - Instances",
    "usage": "120h",
    "amount": 32.50
  },
  {
    "serviceName": "Object Storage",
    "usage": "150 Go",
    "amount": 8.50
  }
]
```

---

## 7. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `billing_payasyougo_title` | Consommation à l'usage |
| `billing_payasyougo_current_month` | Mois en cours |
| `billing_payasyougo_current_estimate` | Estimation à ce jour ({date}) |
| `billing_payasyougo_previous_month` | Mois précédent |
| `billing_payasyougo_previous_billed` | Facturé le {date} |
| `billing_payasyougo_services` | Services à l'usage |
| `billing_payasyougo_services_desc` | Services avec consommation variable |
| `billing_payasyougo_details` | Détail par service |
