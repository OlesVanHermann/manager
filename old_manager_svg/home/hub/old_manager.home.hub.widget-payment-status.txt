# Cahier des Charges : home/hub/widget-payment-status

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.hub.widget-payment-status.svg |
| **NAV1** | home (Hub) |
| **NAV2** | hub |
| **Type** | Widget composant |
| **Description** | Widget affichant le statut de paiement sur le hub avec 3 états |

---

## 2. COMPOSANT

### 2.1 Fichier

| Propriété | Valeur |
|-----------|--------|
| Chemin | /hub/src/pages/dashboard/PaymentStatus.component.tsx |

### 2.2 Props

| Prop | Type | Description |
|------|------|-------------|
| status | 'ok' \| 'pending' \| 'overdue' | État du paiement |
| amount | number? | Montant dû |
| prepaidBalance | number? | Solde compte prépayé |

---

## 3. ÉTAT: PAIEMENT OK

### 3.1 Conteneur

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 400×150px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 3.2 Icône

| Propriété | Valeur |
|-----------|--------|
| Cercle dimensions | 50×50px |
| Cercle background | #DEF7EC |
| Icône | ✓ |
| Couleur icône | #059669 |

### 3.3 Contenu

| Élément | Valeur | Couleur |
|---------|--------|---------|
| Titre | Paiement à jour | #059669 |
| Sous-titre | Aucune facture impayée | #6B7280 |
| Info prépayé | Compte prépayé: {amount} € | #6B7280 |

---

## 4. ÉTAT: FACTURE EN ATTENTE

### 4.1 Conteneur

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 400×150px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 4.2 Icône

| Propriété | Valeur |
|-----------|--------|
| Cercle dimensions | 50×50px |
| Cercle background | #FEF3C7 |
| Icône | ! |
| Couleur icône | #D97706 |

### 4.3 Contenu

| Élément | Valeur | Couleur |
|---------|--------|---------|
| Titre | Facture en attente | #D97706 |
| Sous-titre | 1 facture de {amount} € à régler | #6B7280 |

### 4.4 Bouton

| Propriété | Valeur |
|-----------|--------|
| Texte | Payer |
| Background | #D97706 |
| Dimensions | 120×32px |

---

## 5. ÉTAT: IMPAYÉ

### 5.1 Conteneur

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 400×150px |
| Background | #FEE2E2 |
| Border | 1px #DC2626 |
| Border radius | 8px |

### 5.2 Icône

| Propriété | Valeur |
|-----------|--------|
| Cercle dimensions | 50×50px |
| Cercle background | #DC2626 |
| Icône | ⚠ |
| Couleur icône | #FFFFFF |

### 5.3 Contenu

| Élément | Valeur | Couleur |
|---------|--------|---------|
| Titre | Impayé | #DC2626 |
| Sous-titre | {amount} € de retard - Service suspendu | #DC2626 |

### 5.4 Bouton

| Propriété | Valeur |
|-----------|--------|
| Texte | Régulariser |
| Background | #DC2626 |
| Dimensions | 160×32px |

---

## 6. ACTIONS

| Action | Résultat |
|--------|----------|
| onPayClick() | Redirection vers /billing/payment |
| onRegularizeClick() | Redirection vers /billing/debt |

---

## 7. APIS & ENDPOINTS

### 7.1 Statut de paiement

```
GET /me/paymentStatus
```

Response:
```json
{
  "status": "ok",
  "pendingAmount": 0,
  "overdueAmount": 0,
  "prepaidBalance": 125.50
}
```

---

## 8. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `hub_payment_status_ok` | Paiement à jour |
| `hub_payment_status_ok_desc` | Aucune facture impayée |
| `hub_payment_status_prepaid` | Compte prépayé: {amount} € |
| `hub_payment_status_pending` | Facture en attente |
| `hub_payment_status_pending_desc` | {count} facture de {amount} € à régler |
| `hub_payment_status_overdue` | Impayé |
| `hub_payment_status_overdue_desc` | {amount} € de retard - Service suspendu |
| `hub_payment_status_pay` | Payer |
| `hub_payment_status_regularize` | Régulariser |
