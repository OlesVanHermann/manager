# Cahier des Charges : home/account - Modal Ajouter cl√© U2F

## 1. VUE D'ENSEMBLE
- **Type** : Modal enregistrement cl√© physique
- **URL** : N/A (composant modal)
- **Objectif** : Enregistrer une cl√© de s√©curit√© U2F/FIDO2 (YubiKey, etc.)

## 2. DIMENSIONS
| Propri√©t√© | Valeur |
|-----------|--------|
| Largeur | 450px |
| Hauteur | 390px |

## 3. COMPOSANTS UI
- **OdsModal** : Container
- **OdsText** : Instructions
- **OdsIcon** : Ic√¥ne cl√© (üîë)
- **OdsSpinner** : Indicateur attente
- **OdsMessage** : Succ√®s (vert)
- **OdsInput** : Description cl√©
- **OdsButton** : Actions

## 4. √âTATS

### √âtat 1 : Attente de la cl√©
| √âl√©ment | Description |
|---------|-------------|
| Titre | "Ajouter une cl√© de s√©curit√©" |
| Instructions | "Enregistrez votre cl√© de s√©curit√©" |
| Zone centrale | Ic√¥ne cl√© + zone d'attente |
| Message | "Ins√©rez votre cl√© et appuyez sur le bouton..." |
| Indicateur | Spinner (animation rotation) |

### √âtat 2 : Cl√© d√©tect√©e (succ√®s)
| √âl√©ment | Description |
|---------|-------------|
| Message succ√®s | "‚úì Cl√© enregistr√©e avec succ√®s !" (fond vert) |
| Champ description | Input optionnel "Ma YubiKey" |

## 5. FORMULAIRE (apr√®s d√©tection)
| Champ | Type | Requis | Placeholder |
|-------|------|--------|-------------|
| Description | Input text | Non | Ma YubiKey |

## 6. BOUTONS
| Bouton | Style | Action | √âtat |
|--------|-------|--------|------|
| Annuler | Secondary | Fermer modal | Toujours visible |
| Terminer | Primary | Enregistrer cl√© | Visible apr√®s succ√®s |

## 7. FLUX TECHNIQUE
1. Ouverture modal ‚Üí Appel WebAuthn API (navigator.credentials.create)
2. Attente interaction utilisateur avec la cl√©
3. D√©tection appui ‚Üí R√©cup√©ration attestation
4. Affichage succ√®s + champ description
5. Clic "Terminer" ‚Üí Envoi au backend

## 8. APIS & ENDPOINTS
- POST /me/accessRestriction/u2f - Enregistrer nouvelle cl√© U2F
- POST /me/accessRestriction/u2f/{id}/challenge - Obtenir challenge WebAuthn

