# Cahier des Charges : iam/policies - Page History

## 1. VUE D'ENSEMBLE
- **Type** : Page historique versions politique
- **Contexte** : IAM Policies
- **Objectif** : Consulter et restaurer les versions précédentes

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1100px |
| Page hauteur | 550px |
| Background | #F9FAFB |

## 3. COMPOSANTS UI
- **OdsText** : Titres et labels
- **OdsLink** : Retour navigation
- **OdsDatagrid** : Liste versions
- **OdsBadge** : Version active
- **Terminal** : Affichage JSON diff
- **OdsButton** : Restaurer

## 4. NAVIGATION
| Propriété | Valeur |
|-----------|--------|
| Lien retour | "← Retour aux politiques" |

## 5. HEADER
| Propriété | Valeur |
|-----------|--------|
| Titre | Nom de la politique |
| Sous-titre | "Historique des versions" |

## 6. LISTE VERSIONS
| Propriété | Valeur |
|-----------|--------|
| Largeur | 700px |
| Hauteur | 400px |

### Colonnes
| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Version | 100px | Badge vX |
| Date | 180px | Timestamp |
| Modifié par | 200px | Email |
| Changement | 200px | Description |
| Actions | 50px | Lien "Voir" |

### Badge version active
| Propriété | Valeur |
|-----------|--------|
| Fond | #DCFCE7 |
| Texte | "vX (actif)" #16A34A |

### Badge version inactive
| Propriété | Valeur |
|-----------|--------|
| Fond | #F9FAFB |
| Bordure | #E5E7EB |

## 7. PANNEAU DÉTAIL VERSION
| Propriété | Valeur |
|-----------|--------|
| Largeur | 320px |
| Hauteur | 400px |
| Titre | "Version vX (actuelle)" |

### Zone JSON diff
| Propriété | Valeur |
|-----------|--------|
| Largeur | 280px |
| Hauteur | 300px |
| Background | #1F2937 |
| Police | Monospace 10px |

### Coloration diff
| Élément | Couleur |
|---------|---------|
| Ajout (+) | #10B981 (vert) |
| Suppression (-) | #EF4444 (rouge) |
| Normal | #F9FAFB (blanc) |

## 8. BOUTON RESTAURER
| Propriété | Valeur |
|-----------|--------|
| Texte | "Restaurer vX" |
| Style | Outline #E5E7EB |

## 9. APIS & ENDPOINTS
- GET /me/iam/policy/{policyId}/history - Liste versions
- GET /me/iam/policy/{policyId}/history/{version} - Détail version
- POST /me/iam/policy/{policyId}/restore/{version} - Restaurer


