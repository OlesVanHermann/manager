# Cahier des Charges : iam/components/resource-select

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.iam.components.resource-select.svg |
| **NAV1** | iam |
| **NAV2** | policies |
| **Type** | Composant réutilisable |
| **Description** | Composant de sélection des ressources pour une politique IAM |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page avec LEFT PANEL |
| LEFT PANEL | 280px (avec recherche) |
| RIGHT PANEL | 1096×765px |

---

## 3. RIGHT PANEL

### 3.1 Header

| Titre | Sélection des ressources |
| Font-size | 18px |
| Font-weight | 600 |
| Description | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |

---

## 4. SECTION TYPES DE PRODUITS

### 4.1 Header section

| Titre | Types de produits |
| Font-size | 13px |
| Font-weight | 600 |
| Description | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |

### 4.2 Multi-select chips

| Type | Multi-select avec chips |
| Dimensions | 1056×40px |

### 4.3 Chips sélectionnées (exemple)

| Chip | Style |
|------|-------|
| cloudDB | #E8F0FE, texte primary, × |
| hosting | #E8F0FE, texte primary, × |
| domain | #E8F0FE, texte primary, × |

### 4.4 Dropdown recherche

| Dimensions | 1056×200px |
| Shadow | drop-shadow(0 2px 8px rgba(0,0,0,0.1)) |
| Barre recherche | 1040×32px, placeholder "Rechercher un type de produit..." |

### 4.5 Types disponibles dans dropdown

| Type |
|------|
| dedicatedCloud |
| ip |
| license |
| sslGateway |
| vps |
| vrack |

---

## 5. SECTION RESSOURCES

### 5.1 Header section

| Titre | Ressources |
| Font-size | 13px |
| Font-weight | 600 |
| Description | Ajoutez les ressources concernées par votre politique. |

### 5.2 Multi-select ressources

| Type | Multi-select avec chips enrichies |
| Dimensions | 1056×40px |

### 5.3 Chips ressources (exemple)

| Chip | Style |
|------|-------|
| cloudDB: db-abc123.ovh.net | #E8F0FE, header "cloudDB" en gras, nom en normal |
| hosting: mywebsite.cluster123.hosting.ovh.net | #E8F0FE, header "hosting" en gras |

### 5.4 Bannière info

| Dimensions | 1056×36px |
| Background | #DBEAFE |
| Texte | Définissez un type de produits pour sélectionner des ressources |
| Couleur texte | #1E40AF |

---

## 6. VALIDATION

### 6.1 Message d'erreur

| Texte | Veuillez sélectionner une ou plusieurs ressources ou groupes de ressources |
| Couleur | #DC2626 |
| Font-size | 11px |

---

## 7. APIS & ENDPOINTS

### 7.1 Lister les types de produits

```
GET /me/iam/resource/productType
```

### 7.2 Rechercher des ressources par type

```
GET /me/iam/resource?productType={type}&search={query}
```

Response:
```json
[
  {
    "urn": "urn:v1:eu:resource:cloudDB:db-abc123.ovh.net",
    "name": "db-abc123.ovh.net",
    "type": "cloudDB"
  },
  {
    "urn": "urn:v1:eu:resource:hosting:mywebsite.cluster123.hosting.ovh.net",
    "name": "mywebsite.cluster123.hosting.ovh.net",
    "type": "hosting"
  }
]
```

---

## 8. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `iam_resource_select_title` | Sélection des ressources |
| `iam_resource_select_subtitle` | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |
| `iam_resource_select_types_title` | Types de produits |
| `iam_resource_select_types_desc` | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |
| `iam_resource_select_types_search` | Rechercher un type de produit... |
| `iam_resource_select_resources_title` | Ressources |
| `iam_resource_select_resources_desc` | Ajoutez les ressources concernées par votre politique. |
| `iam_resource_select_resources_info` | Définissez un type de produits pour sélectionner des ressources |
| `iam_resource_select_error` | Veuillez sélectionner une ou plusieurs ressources ou groupes de ressources |
