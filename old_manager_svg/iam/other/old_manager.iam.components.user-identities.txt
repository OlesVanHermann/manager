# Cahier des Charges : iam/components/user-identities

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.iam.components.user-identities.svg |
| **NAV1** | iam |
| **NAV2** | components |
| **Type** | Composant réutilisable |
| **Description** | Composant de gestion des utilisateurs locaux dans les politiques IAM |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page avec LEFT PANEL |
| LEFT PANEL | 280px |
| RIGHT PANEL | 1096×765px |

---

## 3. RIGHT PANEL

### 3.1 Header

| Titre | Identités |
| Font-size | 18px |
| Font-weight | 600 |
| Description | Gérez les utilisateurs associés à cette politique |

---

## 4. SECTION UTILISATEURS LOCAUX

### 4.1 Header section

| Titre | Utilisateurs locaux |
| Font-size | 13px |
| Font-weight | 600 |
| Bouton | + Ajouter des utilisateurs (156×28px, outline) |

### 4.2 Tableau

| Colonne | Largeur |
|---------|---------|
| ▶/▼ (expand) | 20px |
| Utilisateur | 222px |
| Groupe | 150px |
| Statut | 620px |
| ⋮ | 44px |

### 4.3 Statuts

| Statut | Badge | Couleur fond | Couleur texte |
|--------|-------|--------------|---------------|
| OK | #DEF7EC | #059669 | |
| DISABLED | #FEE2E2 | #DC2626 | |

---

## 5. DONNÉES EXEMPLE

| Expand | Utilisateur | Groupe | Statut |
|--------|-------------|--------|--------|
| ▶ | admin-user | ADMIN | OK |
| ▼ | operator | DEFAULT | OK |
| ▶ | dev-user | REGULAR | DISABLED |

### 5.1 Détails déployés (operator)

| Champ | Valeur |
|-------|--------|
| Description | Opérateur principal |
| Identité | urn:v1:eu:identity:user:xx12345-ovh/operator |
| E-mail | operator@example.com |

---

## 6. MENU ACTIONS

| Dimensions | 130×50px |
| Shadow | drop-shadow(0 2px 8px rgba(0,0,0,0.1)) |

| Option | Couleur |
|--------|---------|
| Supprimer | #DC2626 |

---

## 7. SECTION GROUPES (état vide)

| Titre | Groupes d'utilisateurs |
| État | Aucun utilisateur sélectionné (#DBEAFE) |

---

## 8. PAGINATION

| Position | Centrée |
| Style | ◀ [1] ▶ |

---

## 9. APIS & ENDPOINTS

### 9.1 Lister les utilisateurs de la politique

```
GET /me/iam/policy/{policyId}/identity?type=user
```

Response:
```json
[
  {
    "login": "admin-user",
    "group": "ADMIN",
    "status": "ok",
    "description": "Administrateur principal",
    "email": "admin@example.com",
    "urn": "urn:v1:eu:identity:user:xx12345-ovh/admin-user"
  }
]
```

### 9.2 Supprimer un utilisateur de la politique

```
DELETE /me/iam/policy/{policyId}/identity/{identityUrn}
```

---

## 10. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `iam_user_identities_title` | Identités |
| `iam_user_identities_subtitle` | Gérez les utilisateurs associés à cette politique |
| `iam_user_identities_section` | Utilisateurs locaux |
| `iam_user_identities_add` | Ajouter des utilisateurs |
| `iam_user_identities_col_user` | Utilisateur |
| `iam_user_identities_col_group` | Groupe |
| `iam_user_identities_col_status` | Statut |
| `iam_user_identities_status_ok` | OK |
| `iam_user_identities_status_disabled` | DISABLED |
| `iam_user_identities_detail_desc` | Description |
| `iam_user_identities_detail_urn` | Identité |
| `iam_user_identities_detail_email` | E-mail |
| `iam_user_identities_remove` | Supprimer |
| `iam_user_identities_groups_empty` | Aucun utilisateur sélectionné |
