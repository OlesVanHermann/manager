# Cahier des Charges : iam/components/create-policy

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.iam.components.create-policy.svg |
| **NAV1** | iam |
| **NAV2** | policies |
| **Type** | Page formulaire |
| **Description** | Formulaire complet de création d'une politique IAM |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page pleine largeur (sans LEFT PANEL) |
| Card principale | 1392×780px |
| Breadcrumb | Politiques > Créer une politique |

---

## 3. HEADER

| Titre | Créer une politique |
| Font-size | 18px |
| Font-weight | 600 |
| Description | La politique contient une liste d'actions autorisées à une liste d'identités s'appliquant à des ressources. |
| Bouton guides | Guides ▼ (120×32px, outline) |

---

## 4. SECTIONS DU FORMULAIRE

### 4.1 Section Nom de la politique

| Champ | Nom de la politique |
| Type | Input text |
| Dimensions | 600×36px |
| Valeur exemple | ma-politique-acces |
| Obligatoire | Oui |

### 4.2 Section Description

| Champ | Description de la politique |
| Type | Textarea |
| Dimensions | 600×70px |
| Valeur exemple | Politique permettant aux développeurs d'accéder aux ressources web |
| Obligatoire | Non |

### 4.3 Section Identités

| Titre | Identités |
| Font-size | 15px |
| Font-weight | 700 |
| Bouton | + Ajouter des identités (160×28px, outline) |
| État vide | Aucune identité sélectionnée (#DBEAFE) |

### 4.4 Section Types de produits

| Titre | Types de produits |
| Description | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |
| Type | Multi-select dropdown |
| Dimensions | 600×36px |
| Placeholder | Sélectionnez un ou plusieurs types |

### 4.5 Section Ressources

| Titre | Ressources |
| Description | Définissez un type de produits pour sélectionner des ressources |
| État désactivé | Sélectionnez d'abord un type de produit (#F9FAFB) |

### 4.6 Section Conditions

| Titre | Conditions |
| Description | Les actions sur les ressources sont autorisées lorsque toutes les conditions sont remplies. |
| État vide | Aucune condition configurée (#DBEAFE) |

### 4.7 Section Actions

| Titre | Actions |
| Description | Sélectionnez les actions autorisées aux identités sur les ressources choisies. |
| État désactivé | Sélectionnez d'abord un type de produit (#F9FAFB) |

---

## 5. FOOTER

| Élément | Style | Position |
|---------|-------|----------|
| Annuler | Lien primary | Gauche |
| Créer la politique | Button disabled (#E5E7EB) | Droite (160×40px) |

---

## 6. APIS & ENDPOINTS

### 6.1 Créer une politique

```
POST /me/iam/policy
```

Body:
```json
{
  "name": "ma-politique-acces",
  "description": "Politique permettant aux développeurs...",
  "identities": [],
  "productTypes": [],
  "resources": [],
  "conditions": [],
  "actions": []
}
```

### 6.2 Lister les types de produits

```
GET /me/iam/policy/productType
```

---

## 7. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `iam_create_policy_title` | Créer une politique |
| `iam_create_policy_desc` | La politique contient une liste d'actions autorisées à une liste d'identités s'appliquant à des ressources. |
| `iam_create_policy_name_section` | Nom de la politique |
| `iam_create_policy_name_label` | Nom de la politique |
| `iam_create_policy_description_label` | Description de la politique |
| `iam_create_policy_identities_section` | Identités |
| `iam_create_policy_identities_add` | Ajouter des identités |
| `iam_create_policy_identities_empty` | Aucune identité sélectionnée |
| `iam_create_policy_products_section` | Types de produits |
| `iam_create_policy_products_desc` | Sélectionnez le type de produits qui correspond aux actions et aux ressources que vous souhaitez ajouter. |
| `iam_create_policy_products_placeholder` | Sélectionnez un ou plusieurs types |
| `iam_create_policy_resources_section` | Ressources |
| `iam_create_policy_resources_desc` | Définissez un type de produits pour sélectionner des ressources |
| `iam_create_policy_resources_disabled` | Sélectionnez d'abord un type de produit |
| `iam_create_policy_conditions_section` | Conditions |
| `iam_create_policy_conditions_desc` | Les actions sur les ressources sont autorisées lorsque toutes les conditions sont remplies. |
| `iam_create_policy_conditions_empty` | Aucune condition configurée |
| `iam_create_policy_actions_section` | Actions |
| `iam_create_policy_actions_desc` | Sélectionnez les actions autorisées aux identités sur les ressources choisies. |
| `iam_create_policy_cancel` | Annuler |
| `iam_create_policy_submit` | Créer la politique |
