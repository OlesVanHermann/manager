# Cahier des Charges : iam/components/select-modal

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.iam.components.select-modal.svg |
| **NAV1** | iam |
| **NAV2** | components |
| **Type** | Modal |
| **Description** | Modal de sélection multiple d'utilisateurs locaux |

---

## 2. MODAL

### 2.1 Dimensions

| Propriété | Valeur |
|-----------|--------|
| Largeur | 700px |
| Hauteur | 600px |
| Position | Centrée (x: 370, y: 100) |
| Border radius | 8px |
| Shadow | drop-shadow(0 4px 20px rgba(0,0,0,0.15)) |

### 2.2 Overlay

| Propriété | Valeur |
|-----------|--------|
| Background | rgba(0, 0, 0, 0.5) |

---

## 3. HEADER MODAL

| Propriété | Valeur |
|-----------|--------|
| Hauteur | 60px |
| Titre | Ajouter des utilisateurs locaux |
| Font-size | 18px |
| Font-weight | 600 |
| Bouton fermer | × (position droite) |

---

## 4. CONTENU

### 4.1 Recherche

| Type | Input text |
| Dimensions | 652×36px |
| Placeholder | Rechercher par nom ou email |

### 4.2 Liste d'utilisateurs

| Hauteur item | 70px |
| Dimensions totales | 652×400px (scrollable) |

### 4.3 Format item utilisateur

| Élément | Position | Style |
|---------|----------|-------|
| Checkbox | Gauche (16×16px) | Checked = #0050D7 |
| Nom | Principal | Font-weight: 500 |
| Email | Sous nom | Font-size: 10px, muted |
| Groupe | À côté email | Font-size: 10px, muted |
| URN Identité | Bas | Font-size: 9px, muted |

### 4.4 États de l'utilisateur

| État | Style |
|------|-------|
| Sélectionné | Checkbox bleue avec ✓ |
| Non sélectionné | Checkbox vide avec bordure |
| Désactivé | Background #F9FAFB, label "(Désactivé)" rouge |

---

## 5. DONNÉES EXEMPLE

| Nom | Email | Groupe | État |
|-----|-------|--------|------|
| admin-user | admin@example.com | ADMIN | Sélectionné |
| operator | operator@example.com | DEFAULT | Sélectionné |
| developer-1 | dev1@example.com | REGULAR | Non sélectionné |
| developer-2 | dev2@example.com | REGULAR | Non sélectionné |
| disabled-user | disabled@example.com | NONE | Désactivé |

---

## 6. FOOTER MODAL

| Bouton | Style | Dimensions | Position |
|--------|-------|------------|----------|
| Annuler | Outline | 100×36px | Centre-droite |
| Ajouter | Primary | 116×36px | Droite |

---

## 7. APIS & ENDPOINTS

### 7.1 Lister les utilisateurs disponibles

```
GET /me/identity/user
```

### 7.2 Ajouter des utilisateurs à la politique

```
POST /me/iam/policy/{policyId}/identity
```

Body:
```json
{
  "identities": [
    "urn:v1:eu:identity:user:xx12345-ovh/admin-user",
    "urn:v1:eu:identity:user:xx12345-ovh/operator"
  ]
}
```

---

## 8. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `iam_select_users_title` | Ajouter des utilisateurs locaux |
| `iam_select_users_search` | Rechercher par nom ou email |
| `iam_select_users_email` | E-mail |
| `iam_select_users_group` | Groupe |
| `iam_select_users_identity` | Identité |
| `iam_select_users_disabled` | Désactivé |
| `iam_select_users_cancel` | Annuler |
| `iam_select_users_submit` | Ajouter |
