# Cahier des Charges : iam/components/account-identities

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.iam.components.account-identities.svg |
| **NAV1** | iam |
| **NAV2** | components |
| **Type** | Composant réutilisable |
| **Description** | Composant de gestion des comptes OVHcloud externes dans les politiques |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page avec LEFT PANEL |
| LEFT PANEL | 280px |
| RIGHT PANEL | 1096×765px |

---

## 3. RIGHT PANEL

### 3.1 Header

| Titre | Identités |
| Font-size | 18px |
| Font-weight | 600 |
| Description | Sélectionnez les identités que vous souhaitez associer à cette politique |

---

## 4. SECTION COMPTES OVHCLOUD

### 4.1 Header section

| Titre | Autres comptes client OVHcloud |
| Font-size | 13px |
| Font-weight | 600 |
| Bouton | + Ajouter un compte OVHcloud (186×28px, outline) |

### 4.2 Avertissement

| Texte | En ajoutant un compte client OVHcloud externe, vous lui donnez accès aux ressources définies dans cette politique. |
| Font-size | 10px |
| Couleur | #6B7280 |

### 4.3 Tableau comptes

| Colonne | Largeur |
|---------|---------|
| ▶/▼ (expand) | 20px |
| Compte | 992px |
| ⋮ | 44px |

---

## 5. DONNÉES EXEMPLE

| Expand | Compte |
|--------|--------|
| ▶ | ab12345-ovh |
| ▼ | cd67890-ovh |
| ▶ | ef11223-ovh |

### 5.1 Détails déployés

| Champ | Valeur |
|-------|--------|
| Identité | urn:v1:eu:identity:account:cd67890-ovh |

---

## 6. MENU ACTIONS

| Dimensions | 160×50px |
| Shadow | drop-shadow(0 2px 8px rgba(0,0,0,0.1)) |

| Option | Couleur |
|--------|---------|
| Supprimer de la politique | #DC2626 |

---

## 7. PAGINATION

| Position | Centrée |
| Style | ◀ [1] ▶ |

---

## 8. APIS & ENDPOINTS

### 8.1 Lister les comptes de la politique

```
GET /me/iam/policy/{policyId}/identity?type=account
```

Response:
```json
[
  {
    "urn": "urn:v1:eu:identity:account:ab12345-ovh",
    "type": "account"
  }
]
```

### 8.2 Ajouter un compte

```
POST /me/iam/policy/{policyId}/identity
```

Body:
```json
{
  "type": "account",
  "urn": "urn:v1:eu:identity:account:ab12345-ovh"
}
```

### 8.3 Supprimer un compte

```
DELETE /me/iam/policy/{policyId}/identity/{identityUrn}
```

---

## 9. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `iam_accounts_title` | Autres comptes client OVHcloud |
| `iam_accounts_add` | Ajouter un compte OVHcloud |
| `iam_accounts_warning` | En ajoutant un compte client OVHcloud externe, vous lui donnez accès aux ressources définies dans cette politique. |
| `iam_accounts_col_account` | Compte |
| `iam_accounts_detail_urn` | Identité |
| `iam_accounts_remove` | Supprimer de la politique |
| `iam_accounts_expand` | Afficher les détails |
| `iam_accounts_collapse` | Masquer les détails |
