# Cahier des Charges : general/account/email-validation

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.general.account.email-validation.svg |
| **NAV1** | general |
| **NAV2** | account |
| **Type** | Page de validation |
| **Description** | Validation du changement d'adresse email |

---

## 2. LAYOUT

| Élément | Valeur |
|---------|--------|
| LEFT PANEL | 280px (menu Mon compte) |
| RIGHT PANEL | 1096px |
| Canvas | 1440×900px |

---

## 3. HEADER

| Élément | Valeur |
|---------|--------|
| Titre | Validation du changement d'email |

---

## 4. CONTENU

### 4.1 Bannière de statut

| Type | Contenu |
|------|---------|
| Info (#DBEAFE) | Email actuel : ancien@email.com |
| Badge (#FEF3C7) | Changement en cours de validation |
| Info | Nouveau email demandé : nouveau@email.com |

### 4.2 Instructions

| Texte |
|-------|
| Un email de validation a été envoyé à votre ancienne adresse. |
| Cliquez sur le lien dans l'email ou entrez le code de validation ci-dessous. |

### 4.3 Actions principales

| Bouton | Style | Action |
|--------|-------|--------|
| J'ai reçu le code | Primary | Affiche le formulaire de code |
| Renvoyer l'email | Secondary | Renvoie l'email de validation |

### 4.4 Formulaire de code

| Élément | Description |
|---------|-------------|
| Lien retour | ← Retour |
| Titre | Validation de l'email : nouveau@email.com |
| Champ | Code de validation |
| Placeholder | ABC-123-XYZ |
| Bouton Refuser | Secondary |
| Bouton Accepter | Primary |

---

## 5. APIS & ENDPOINTS

### 5.1 Vérifier le statut de changement d'email

```
GET /me/task/emailChange
```

### 5.2 Valider le changement d'email

```
POST /me/task/emailChange/{id}/accept
{
  "token": "ABC-123-XYZ"
}
```

### 5.3 Refuser le changement

```
POST /me/task/emailChange/{id}/refuse
{
  "token": "ABC-123-XYZ"
}
```

### 5.4 Renvoyer l'email de validation

```
POST /me/task/emailChange/{id}/resendEmail
```

---

## 6. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `account_email_validation_title` | Validation du changement d'email |
| `account_email_current` | Email actuel |
| `account_email_pending` | Changement en cours de validation |
| `account_email_new` | Nouveau email demandé |
| `account_email_instructions_1` | Un email de validation a été envoyé à votre ancienne adresse. |
| `account_email_instructions_2` | Cliquez sur le lien dans l'email ou entrez le code de validation ci-dessous. |
| `account_email_code_received` | J'ai reçu le code |
| `account_email_resend` | Renvoyer l'email |
| `account_email_code_label` | Code de validation |
| `account_email_refuse` | Refuser |
| `account_email_accept` | Accepter |
| `common_back` | Retour |
