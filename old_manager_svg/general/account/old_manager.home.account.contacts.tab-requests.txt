# Cahier des Charges : home/account/contacts/tab-requests

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.account.contacts.tab-requests.svg |
| **NAV1** | home |
| **NAV2** | account |
| **Type** | Page avec datagrid |
| **Description** | Demandes de changement de contacts reçues |

---

## 2. LAYOUT

| Zone | Dimensions |
|------|------------|
| Canvas | 1440×900px |
| Content width | 1360px |
| Content margin | 40px |

---

## 3. HEADER PAGE

| Élément | Valeur |
|---------|--------|
| Titre | Gestion des contacts |
| Font-size | 24px, font-weight 600 |

---

## 4. TABS PRINCIPAUX

| Tab | État |
|-----|------|
| Mes services | Inactif |
| Mes demandes | **Actif** (background #0050D7) |

---

## 5. SOUS-TABS

| Tab | État |
|-----|------|
| Reçues | **Actif** (background #0050D7) |
| Envoyées | Inactif |

---

## 6. DATAGRID

### 6.1 Colonnes

| Colonne | Width |
|---------|-------|
| SERVICE | 320px |
| DEMANDEUR | 200px |
| TYPE DE CONTACT | 200px |
| DATE | 200px |
| STATUT | 200px |
| ACTIONS | 150px |

### 6.2 Données exemple

| Service | Demandeur | Type | Date | Statut | Actions |
|---------|-----------|------|------|--------|---------|
| example.com | cd67890-ovh | Administrateur | 01/01/2026 | En attente | Accepter / Refuser |
| vps-test.ovh.net | xy98765-ovh | Technique | 28/12/2025 | Acceptée | - |

### 6.3 Badges de statut

| Statut | Background | Couleur texte |
|--------|------------|---------------|
| En attente | #FEF3C7 | #D97706 |
| Acceptée | #DEF7EC | #059669 |
| Refusée | #FEE2E2 | #DC2626 |

### 6.4 Actions

| Action | Couleur | Condition |
|--------|---------|-----------|
| Accepter | #0050D7 | Si statut = En attente |
| Refuser | #DC2626 | Si statut = En attente |

---

## 7. PAGINATION

| Élément | Valeur |
|---------|--------|
| Texte | Affichage 1-2 sur 2 |

---

## 8. APIS & ENDPOINTS

### 8.1 Lister les demandes reçues

```
GET /me/task/contactChange
GET /me/task/contactChange?status=pending
```

### 8.2 Accepter une demande

```
POST /me/task/contactChange/{taskId}/accept
{
  "token": "xxx"
}
```

### 8.3 Refuser une demande

```
POST /me/task/contactChange/{taskId}/refuse
{
  "token": "xxx"
}
```

---

## 9. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `contacts_title` | Gestion des contacts |
| `contacts_tab_services` | Mes services |
| `contacts_tab_requests` | Mes demandes |
| `contacts_subtab_received` | Reçues |
| `contacts_subtab_sent` | Envoyées |
| `contacts_col_service` | SERVICE |
| `contacts_col_requester` | DEMANDEUR |
| `contacts_col_contact_type` | TYPE DE CONTACT |
| `contacts_col_date` | DATE |
| `contacts_col_status` | STATUT |
| `contacts_col_actions` | ACTIONS |
| `contacts_status_pending` | En attente |
| `contacts_status_accepted` | Acceptée |
| `contacts_status_refused` | Refusée |
| `contacts_action_accept` | Accepter |
| `contacts_action_refuse` | Refuser |
| `common_pagination_display` | Affichage {start}-{end} sur {total} |
