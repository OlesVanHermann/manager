# Cahier des Charges : home/account/modal-u2f-add

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.home.account.modal-u2f-add.svg |
| **NAV1** | home |
| **NAV2** | account |
| **Type** | Modal formulaire |
| **Description** | Ajouter une cl√© de s√©curit√© U2F/FIDO2 |

---

## 2. DIMENSIONS

| √âl√©ment | Valeur |
|---------|--------|
| Largeur modal | 500px |
| Hauteur modal | 450px |
| Position | Centr√© (x=470, y=180) |

---

## 3. HEADER MODAL

| √âl√©ment | Valeur |
|---------|--------|
| Titre | Ajouter une cl√© de s√©curit√© (U2F) |
| Background | #F9FAFB |
| Bouton fermer | √ó |

---

## 4. CONTENU

### 4.1 Banni√®re info

| Type | Contenu |
|------|---------|
| Info (#DBEAFE) | üîê Cl√©s de s√©curit√© compatibles |
| Ligne 1 | YubiKey, Google Titan, Feitian, Thetis... |
| Ligne 2 | Protocoles support√©s : FIDO U2F, FIDO2 |

### 4.2 Instructions

| # | Instruction |
|---|-------------|
| 1 | Ins√©rez votre cl√© de s√©curit√© dans un port USB |
| 2 | Cliquez sur "Enregistrer la cl√©" |
| 3 | Appuyez sur le bouton de votre cl√© quand il clignote |

### 4.3 Ic√¥ne cl√©

| √âl√©ment | Valeur |
|---------|--------|
| Container | 100√ó60px, background #F3F4F6 |
| Ic√¥ne | üîë (28px) |
| Position | Centr√© |

### 4.4 Description

| √âl√©ment | Valeur |
|---------|--------|
| Label | Description (optionnel) |
| Type | Input text |
| Placeholder | Ex: YubiKey 5 NFC |

---

## 5. FOOTER MODAL

| Bouton | Style | Action |
|--------|-------|--------|
| Annuler | Secondary | Ferme la modal |
| Enregistrer la cl√© | Primary | Lance l'enregistrement WebAuthn |

---

## 6. APIS & ENDPOINTS

### 6.1 Cr√©er un challenge U2F

```
POST /me/accessRestriction/u2f
```

### 6.2 Enregistrer la cl√©

```
POST /me/accessRestriction/u2f/{id}/challenge
{
  "rawId": "...",
  "response": {
    "attestationObject": "...",
    "clientDataJSON": "..."
  }
}
```

### 6.3 Valider l'enregistrement

```
POST /me/accessRestriction/u2f/{id}/validate
{
  "description": "YubiKey 5 NFC"
}
```

---

## 7. TRADUCTIONS (i18n)

| Cl√© | Valeur FR |
|-----|-----------|
| `u2f_add_title` | Ajouter une cl√© de s√©curit√© (U2F) |
| `u2f_add_compatible` | Cl√©s de s√©curit√© compatibles |
| `u2f_add_compatible_list` | YubiKey, Google Titan, Feitian, Thetis... |
| `u2f_add_protocols` | Protocoles support√©s : FIDO U2F, FIDO2 |
| `u2f_add_instructions` | Instructions : |
| `u2f_add_step_1` | Ins√©rez votre cl√© de s√©curit√© dans un port USB |
| `u2f_add_step_2` | Cliquez sur "Enregistrer la cl√©" |
| `u2f_add_step_3` | Appuyez sur le bouton de votre cl√© quand il clignote |
| `u2f_add_description_label` | Description (optionnel) |
| `u2f_add_description_placeholder` | Ex: YubiKey 5 NFC |
| `common_cancel` | Annuler |
| `u2f_add_register` | Enregistrer la cl√© |
