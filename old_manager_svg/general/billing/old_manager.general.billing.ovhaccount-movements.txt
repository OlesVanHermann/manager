# Cahier des Charges : general/billing/ovhaccount-movements

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.general.billing.ovhaccount-movements.svg |
| **NAV1** | general |
| **NAV2** | billing |
| **NAV3** | Paiement |
| **Type** | Page listing |
| **Description** | Historique des mouvements du compte prépayé |

---

## 2. LAYOUT

| Zone | Dimensions |
|------|------------|
| LEFT PANEL | 280px (NAV3 avec Paiement/Fidélité/Crédits) |
| RIGHT PANEL | flex: 1 |

---

## 3. NAV3 - LEFT PANEL

| Élément | Valeur |
|---------|--------|
| Tabs groupement | [Paiement] [Fidélité] [Crédits] |
| Menu items | Moyens de paiement, Compte OVH, **Mouvements** (actif) |

---

## 4. HEADER RIGHT PANEL

| Élément | Valeur |
|---------|--------|
| Titre | Historique des mouvements |
| Solde actuel | 125,50 € (dans une card) |

---

## 5. FILTRES

| Filtre | Options |
|--------|---------|
| Période | Dropdown (30 jours, 90 jours, 1 an, Tout) |
| Type | Dropdown (Tous, Crédits, Débits) |
| Export | Bouton "Exporter" (outline bleu) |

---

## 6. COLONNES DATAGRID

| Colonne | Largeur | Description |
|---------|---------|-------------|
| DATE | 120px | Format: JJ/MM/AAAA |
| DESCRIPTION | flex | Type de mouvement |
| RÉFÉRENCE | 150px | Code de transaction |
| MONTANT | 100px | Vert (+) ou rouge (-) |
| SOLDE | 100px | Solde après mouvement |

---

## 7. TYPES DE MOUVEMENTS

| Type | Couleur | Exemple |
|------|---------|---------|
| Crédit CB | Vert (#059669) | +50,00 € |
| Crédit virement | Vert (#059669) | +100,00 € |
| Paiement facture | Rouge (#DC2626) | -42,99 € |

---

## 8. PAGINATION

| Élément | Valeur |
|---------|--------|
| Format | "Affichage 1-5 sur 24 mouvements" |
| Navigation | Boutons ‹ 1 2 › |

---

## 9. APIS & ENDPOINTS

### 9.1 Lister les mouvements

```
GET /me/ovhAccount/{ovhAccountId}/movements?date.from=&date.to=
```

### 9.2 Obtenir le solde

```
GET /me/ovhAccount/{ovhAccountId}
```

### 9.3 Exporter les mouvements

```
GET /me/ovhAccount/{ovhAccountId}/movements/export
```

---

## 10. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `ovhaccount_movements_title` | Historique des mouvements |
| `ovhaccount_movements_current_balance` | SOLDE ACTUEL |
| `ovhaccount_movements_period` | Période: {period} |
| `ovhaccount_movements_type` | Type: {type} |
| `ovhaccount_movements_export` | Exporter |
| `ovhaccount_movements_credit_cb` | Crédit par carte bancaire |
| `ovhaccount_movements_credit_transfer` | Crédit par virement bancaire |
| `ovhaccount_movements_payment` | Paiement facture |
| `ovhaccount_movements_display` | Affichage {start}-{end} sur {total} mouvements |
