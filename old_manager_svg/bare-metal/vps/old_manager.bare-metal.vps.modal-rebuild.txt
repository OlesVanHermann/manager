# Cahier des Charges : bare-metal/vps/modal-rebuild

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.bare-metal.vps.modal-rebuild.svg |
| **NAV1** | bare-metal |
| **NAV2** | VPS |
| **Type** | Modal de réinstallation |
| **Description** | Réinstaller un VPS avec choix d'OS et clé SSH optionnelle |

---

## 2. DIMENSIONS

| Élément | Valeur |
|---------|--------|
| Largeur modal | 700px |
| Hauteur modal | 580px |
| Position | Centré (x=370, y=120) |

---

## 3. HEADER MODAL

| Élément | Valeur |
|---------|--------|
| Titre | Réinstaller mon VPS |
| Bouton fermer | × |

---

## 4. CONTENU

### 4.1 Sélection du système d'exploitation

| Champ | Type | Valeur exemple |
|-------|------|----------------|
| Système d'exploitation | Select | Debian 12 |

### 4.2 Clé SSH (optionnelle)

| Champ | Type | Placeholder |
|-------|------|-------------|
| Clé SSH | Textarea | Collez votre clé publique SSH ici... |
| | | (ssh-rsa AAAA... ou ssh-ed25519 AAAA...) |

### 4.3 Option email

| Checkbox | Label |
|----------|-------|
| ☐ | Je ne souhaite pas recevoir par e-mail les codes d'authentification de mon VPS. |
| | (Uniquement si une clé SSH est fournie) |

### 4.4 Message d'avertissement

| Type | Contenu |
|------|---------|
| Warning (#FEF3C7) | **L'installation va formater tous les disques du serveur.** |
| | Suggestion : Afin de pouvoir revenir en arrière, nous vous conseillons de faire un snapshot avant de continuer. Pour plus d'informations, consultez le guide. |
| Lien | Voir le guide |

---

## 5. FOOTER MODAL

| Bouton | Style | Action |
|--------|-------|--------|
| Annuler | Outline primary | Ferme la modal |
| Confirmer | Primary | Lance la réinstallation |

---

## 6. APIS & ENDPOINTS

### 6.1 Liste des images disponibles

```
GET /vps/{serviceName}/availableImages
```

### 6.2 Réinstaller le VPS

```
POST /vps/{serviceName}/rebuild
{
  "imageId": "debian-12",
  "sshKey": "ssh-rsa AAAA...",
  "doNotSendPassword": true
}
```

---

## 7. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `vps_rebuild_title` | Réinstaller mon VPS |
| `vps_rebuild_os_label` | Choisissez votre système d'exploitation |
| `vps_rebuild_ssh_label` | Clé SSH (optionnelle) |
| `vps_rebuild_ssh_placeholder` | Collez votre clé publique SSH ici... |
| `vps_rebuild_ssh_hint` | (ssh-rsa AAAA... ou ssh-ed25519 AAAA...) |
| `vps_rebuild_no_email` | Je ne souhaite pas recevoir par e-mail les codes d'authentification de mon VPS. |
| `vps_rebuild_no_email_hint` | (Uniquement si une clé SSH est fournie) |
| `vps_rebuild_warning_format` | L'installation va formater tous les disques du serveur. |
| `vps_rebuild_warning_snapshot` | Afin de pouvoir revenir en arrière, nous vous conseillons de faire un snapshot avant de continuer. |
| `vps_rebuild_guide_link` | Voir le guide |
| `common_cancel` | Annuler |
| `common_confirm` | Confirmer |
