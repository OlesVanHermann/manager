# Cahier des Charges : bare-metal/nas-ha - Modal options ZFS

## 1. VUE D'ENSEMBLE
- **Type** : Modal formulaire
- **Contexte** : NAS-HA (Storage haute disponibilité)
- **Objectif** : Configurer les options ZFS d'une partition

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Modal largeur | 500px |
| Modal hauteur | 460px |

## 3. COMPOSANTS UI
- **OdsModal** : Container principal
- **OdsText** : Labels, descriptions
- **OdsSelect** : Modèle, taille des blocs
- **OdsCheckbox** : Option Atime
- **OdsRadio** : Mode de synchronisation
- **OdsButton** : Annuler, Appliquer

## 4. HEADER MODAL
| Propriété | Valeur |
|-----------|--------|
| Titre | "Options ZFS" |
| Fond | Bleu clair (#EFF6FF) |
| Couleur texte | Bleu (#1E40AF) |
| Bouton fermer | × |

## 5. FORMULAIRE

### Champ Modèle de configuration
| Propriété | Valeur |
|-----------|--------|
| Label | "Modèle de configuration" |
| Type | OdsSelect |
| Options | Personnalisé, Base de données, Virtualisation, Backup |
| Défaut | "Personnalisé" |

### Option Atime
| Propriété | Valeur |
|-----------|--------|
| Label | "Atime" |
| Type | OdsCheckbox |
| Texte | "Désactiver l'atime" |
| Description | "Améliore les performances en désactivant la mise à jour du timestamp d'accès." |
| Défaut | Coché |

### Champ Taille des blocs
| Propriété | Valeur |
|-----------|--------|
| Label | "Taille des blocs" |
| Type | OdsSelect |
| Options | 4 Ko, 8 Ko, 16 Ko, 32 Ko, 64 Ko, 128 Ko, 256 Ko, 512 Ko, 1 Mo |
| Défaut | "128 Ko" |

### Champ Mode de synchronisation
| Propriété | Valeur |
|-----------|--------|
| Label | "Mode de synchronisation" |
| Type | OdsRadio group |

#### Options
| Option | Description | Avertissement |
|--------|-------------|---------------|
| Standard (par défaut) | "Synchronisation normale sur disque" | - |
| Toujours | "Force l'écriture synchrone (plus lent mais plus sûr)" | - |
| Désactivé | - | "⚠️ Risque de perte de données en cas de panne" (orange) |

## 6. FOOTER MODAL
| Bouton | Style | Action |
|--------|-------|--------|
| Annuler | Secondary | Ferme modal |
| Appliquer | Primary (bleu) | Applique les options ZFS |

## 7. APIS & ENDPOINTS
- GET /dedicated/nasha/{serviceName}/partition/{partitionName}/options - Options actuelles
- PUT /dedicated/nasha/{serviceName}/partition/{partitionName}/options - Modifier options ZFS

