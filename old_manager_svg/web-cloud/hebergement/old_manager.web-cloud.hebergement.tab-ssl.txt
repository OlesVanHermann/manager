# Cahier des Charges : web-cloud/hebergement - Tab SSL

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des certificats SSL.

### Objectif fonctionnel
- Voir les certificats SSL actifs
- Gérer Let's Encrypt ou certificats personnalisés
- Régénérer/supprimer des certificats

---

## 2. LAYOUT

### Structure toolbar + tableau + message warning

---

## 3. COMPOSANTS UI

### Toolbar
| Element | Description |
|---------|-------------|
| Bouton Export | Exporter en CSV (outline) |
| Bouton Refresh | Rafraîchir |

### Tableau SSL
| Colonne | Description |
|---------|-------------|
| Domaine principal | Domaine principal (link) |
| Domaine supplémentaire (SAN) | Liste SAN + compteur |
| Type de certificat | Badge Let's Encrypt / Custom |
| État | Badge Actif |
| Date de création | Date |
| Date d'expiration | Date |
| Actions | Menu ⋮ |

### Menu actions (⋮)
| Option | Description |
|--------|-------------|
| Désactiver SSL | Toggle off |
| Régénérer SSL | Renewal |
| Voir les domaines (SAN) | Liste complète |
| Supprimer | Destructif (rouge) |

### Message warning
| Element | Description |
|---------|-------------|
| Type | Warning (jaune) |
| Texte | Si vous avez ajouté des hébergements multisites il y a moins de deux heures... |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /hosting/web/{serviceName}/ssl
POST /hosting/web/{serviceName}/ssl/regenerate
DELETE /hosting/web/{serviceName}/ssl/{id}
```

### Modele
```typescript
interface HostingSsl {
  id: string;
  domain: string;
  san: string[];
  type: 'letsEncrypt' | 'custom';
  state: 'ok' | 'pending' | 'error';
  creationDate: string;
  expirationDate: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "hosting_ssl_title": "Certificats SSL",
  "hosting_ssl_export": "Exporter en CSV",
  "hosting_ssl_refresh": "Rafraîchir",
  "hosting_ssl_col_domain": "Domaine principal",
  "hosting_ssl_col_san": "Domaine supplémentaire (SAN)",
  "hosting_ssl_col_type": "Type de certificat",
  "hosting_ssl_col_state": "État",
  "hosting_ssl_col_created": "Date de création",
  "hosting_ssl_col_expires": "Date d'expiration",
  "hosting_ssl_type_letsencrypt": "Let's Encrypt",
  "hosting_ssl_type_custom": "Personnalisé",
  "hosting_ssl_action_disable": "Désactiver SSL",
  "hosting_ssl_action_regenerate": "Régénérer SSL",
  "hosting_ssl_action_san": "Voir les domaines (SAN)",
  "hosting_ssl_action_delete": "Supprimer"
}
```

---

## 6. REGLES METIER

- Let's Encrypt gratuit et auto-renouvelé
- SAN = Subject Alternative Names
- Délai 2h après ajout multisite pour inclusion SSL
- Expiration Let's Encrypt = 90 jours
