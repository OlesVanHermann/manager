# Cahier des Charges : web-cloud/access - Modal OTB Priorities

## 1. VUE D'ENSEMBLE

**Type:** Modal drag & drop
**Fonction:** Réorganiser les priorités des connexions OTB
**Contexte:** Configuration failover OverTheBox

## 2. DIMENSIONS

- Modal: 500x400px
- Background page: overlay rgba(0,0,0,0.5)

## 3. LAYOUT & STRUCTURE

### Header modal
- Background: #F9FAFB
- Titre: "Priorités des connexions"
- Bouton fermer: ×
- Height: 50px

## 4. DESCRIPTION

- Texte: "Réorganisez l'ordre de priorité des connexions par glisser-déposer."
- Font-size: 12px, text-muted

## 5. LISTE DES CONNEXIONS (DRAG & DROP)

### Item connexion (draggable)
- Dimensions: 400x55px
- Background: #F9FAFB
- Border: #E5E7EB
- Border-radius: 4px

#### Composants par ligne
| Élément | Description |
|---------|-------------|
| Drag handle | ⋮⋮ (6 points verticaux) |
| Badge numéro | Carré 24x24px avec numéro |
| Nom connexion | "FTTH Orange" |
| Détails | "500 Mbps ↓ / 200 Mbps ↑ • Principale" |

### Priorité 1 (Principale)
- Badge: Background #0050D7 (bleu)
- Numéro: 1
- Nom: "FTTH Orange"
- Détails: "500 Mbps ↓ / 200 Mbps ↑ • Principale"

### Priorité 2 (Secours)
- Badge: Background #6B7280 (gris)
- Numéro: 2
- Nom: "VDSL Bouygues"
- Détails: "50 Mbps ↓ / 10 Mbps ↑ • Secours"

### Priorité 3 (Secours)
- Badge: Background #6B7280 (gris)
- Numéro: 3
- Nom: "4G Bouygues"
- Détails: "30 Mbps ↓ / 15 Mbps ↑ • Secours"

## 6. INFO BOX

- Background: #DBEAFE
- Border-radius: 4px
- Dimensions: 400x50px

### Contenu
- "ℹ️ En mode failover, le trafic bascule sur la connexion suivante"
- "en cas de défaillance de la connexion prioritaire."

## 7. COMPOSANTS UI

### Drag handle
- Icône: ⋮⋮
- Couleur: #9CA3AF
- Cursor: grab/grabbing

### Badge numéro
- Dimensions: 24x24px
- Border-radius: 4px
- Font-size: 12px, bold
- Couleur texte: blanc

### Connection card
- Height: 55px
- Gap: 10px entre items
- Padding: 10px

## 8. FOOTER MODAL

### Bouton Annuler
- Style: btn-outline (100x36px)

### Bouton Appliquer
- Style: btn-primary (100x36px)

## 9. APIS & ENDPOINTS

```
GET /overTheBox/{serviceName}/configuration/connections
→ Liste des connexions avec priorité actuelle

PUT /overTheBox/{serviceName}/configuration/connections/priorities
Body: {
  priorities: [
    { serviceName: "xdsl-aaa", priority: 1 },
    { serviceName: "xdsl-bbb", priority: 2 },
    { serviceName: "xdsl-ccc", priority: 3 }
  ]
}
→ Applique le nouvel ordre de priorité
```

## 10. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| modal_title | Priorités des connexions |
| modal_description | Réorganisez l'ordre de priorité des connexions par glisser-déposer. |
| priority | Priorité |
| main | Principale |
| backup | Secours |
| info_failover_title | En mode failover, le trafic bascule sur la connexion suivante |
| info_failover_desc | en cas de défaillance de la connexion prioritaire. |
| btn_cancel | Annuler |
| btn_apply | Appliquer |
