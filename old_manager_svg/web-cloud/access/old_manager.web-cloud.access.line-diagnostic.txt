# Cahier des Charges : web-cloud/access - Line Diagnostic

## 1. VUE D'ENSEMBLE

**Type:** Page diagnostic avec assistant
**Fonction:** Diagnostiquer les problèmes de ligne
**Contexte:** Auto-diagnostic et résolution de problèmes

## 2. DIMENSIONS

- Page: 1440x900px
- Cards statut: 340x90px (3 par ligne)
- Bloc détails: 1030x130px
- Bloc assistant: 1030x160px

## 3. LAYOUT & STRUCTURE

### NAV4 Sous-tabs
| Sous-onglet | État |
|-------------|------|
| Statut | Inactif |
| Diagnostic | Actif |
| Statistiques | Inactif |
| Alertes | Inactif |

## 4. HEADER DIAGNOSTIC

- Titre: "Rapport de diagnostic"
- Sous-titre: "Dernier diagnostic : {date}"
- Bouton: "Nouveau diagnostic" (btn-primary)

## 5. CARDS STATUT (2 lignes de 3)

### Ligne 1
| Card | Statut | Couleur | Message |
|------|--------|---------|---------|
| Incident OVHcloud | ✓ | Vert | Aucun incident en cours |
| Statut de connexion | ✓ | Vert | Équipement connecté |
| Passerelle LNS | ✓ | Vert | Équipement actif |

### Ligne 2
| Card | Statut | Couleur | Message |
|------|--------|---------|---------|
| Réponse aux pings | ✓ | Vert | Répond correctement (12ms) |
| Synchronisation ligne | ✓ | Vert | Ligne synchronisée |
| Qualité de la ligne | ⚠ | Orange | Légère dégradation détectée |

### Style cards
- Success: Background #DEF7EC, cercle #10B981
- Warning: Background #FEF3C7, cercle #F59E0B
- Error: Background #FEE2E2, cercle #DC2626

## 6. BLOC DÉTAILS LIGNE

### Titre
"DÉTAILS DE LA LIGNE"

### Champs (grille 3 colonnes)
| Label | Valeur |
|-------|--------|
| Profil connexion | FTTH_1G_500M |
| Profil proposé | FTTH_1G_500M |
| Latence | 12 ms |
| Débit descendant | 1000 Mbps |
| Débit montant | 500 Mbps |
| Perte paquets | 0.01% |

## 7. ASSISTANT DE RÉSOLUTION

### Titre
"ASSISTANT DE RÉSOLUTION"

### Options (radio buttons)
- Le diagnostic indique un problème de synchronisation
- J'ai une perte de connexion totale
- Mon opérateur détecte une connexion mais je ne peux pas me connecter

### Bouton
- "Lancer l'assistant" (btn-primary)

## 8. HISTORIQUE

- Titre: "HISTORIQUE DES DIAGNOSTICS"
- Lien: "Voir historique" (btn-outline)

## 9. APIS & ENDPOINTS

```
POST /xdsl/{serviceName}/diagnostic
→ Lance un nouveau diagnostic

GET /xdsl/{serviceName}/diagnostic/{id}
→ Résultat d'un diagnostic

GET /xdsl/{serviceName}/diagnosticHistory
→ Historique des diagnostics

GET /xdsl/{serviceName}/lines/{number}/statistics
→ Statistiques détaillées ligne

GET /xdsl/incidents
→ Incidents OVH en cours
```

## 10. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Rapport de diagnostic |
| last_diagnostic | Dernier diagnostic |
| btn_new_diagnostic | Nouveau diagnostic |
| card_incident | Incident OVHcloud |
| card_incident_ok | Aucun incident en cours |
| card_connection | Statut de connexion |
| card_connection_ok | Équipement connecté |
| card_gateway | Passerelle LNS |
| card_gateway_ok | Équipement actif |
| card_ping | Réponse aux pings |
| card_ping_ok | Répond correctement |
| card_sync | Synchronisation ligne |
| card_sync_ok | Ligne synchronisée |
| card_quality | Qualité de la ligne |
| card_quality_warning | Légère dégradation détectée |
| bloc_details | Détails de la ligne |
| field_profile | Profil connexion |
| field_profile_proposed | Profil proposé |
| field_latency | Latence |
| field_down | Débit descendant |
| field_up | Débit montant |
| field_packet_loss | Perte paquets |
| bloc_assistant | Assistant de résolution |
| assistant_intro | Sélectionnez votre problème |
| option_sync | Le diagnostic indique un problème de synchronisation |
| option_total_loss | J'ai une perte de connexion totale |
| option_no_internet | Mon opérateur détecte une connexion mais je ne peux pas me connecter |
| btn_launch_assistant | Lancer l'assistant |
| bloc_history | Historique des diagnostics |
| link_view_history | Voir historique |
