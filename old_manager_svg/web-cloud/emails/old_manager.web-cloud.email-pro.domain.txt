# Cahier des Charges : web-cloud/email-pro - Domaines associés

## 1. VUE D'ENSEMBLE
- **Écran** : Gestion des domaines associés Email Pro
- **Type** : Page liste avec tableau
- **Objectif** : Associer et gérer les domaines pour les comptes email

## 2. STRUCTURE DE LA PAGE
- Header OVHcloud avec navigation
- Sidebar Email Pro (menu)
- Titre "Domaines associés"
- Bouton ajouter domaine
- Barre de recherche
- Tableau des domaines
- Pagination

## 3. COMPOSANTS UI
- **OdsHeader** : Navigation principale
- **OdsSidebar** : Menu Email Pro
- **OdsButton** : Ajouter un domaine
- **OdsInput** : Recherche domaine
- **OdsTable** : Liste des domaines
- **OdsBadge** : Diagnostic (MX, SRV, SPF, DKIM), Statut
- **OdsActionMenu** : Menu actions (⋮)

## 4. TITRE
"Domaines associés"

## 5. BOUTON D'ACTION PRINCIPAL
| Bouton | Position | Action |
|--------|----------|--------|
| Ajouter un domaine | Haut droite | Ouvre modal création |

## 6. COLONNES DU TABLEAU
| Colonne | Description | Exemple |
|---------|-------------|---------|
| Domaine | Nom du domaine | example.com |
| Type | Type de gestion | Autoritatif / Non autoritatif |
| Comptes | Nombre de comptes | 5 |
| Diagnostic | Badges MX, SRV, SPF, DKIM | Badges colorés |
| Statut | État global | OK, En cours, Validation |
| Actions | Menu ⋮ | Modifier, Supprimer |

## 7. BADGES DIAGNOSTIC
| Badge | Vert | Rouge | Orange |
|-------|------|-------|--------|
| MX | Configuré | Non configuré | - |
| SRV | Configuré | Non configuré | - |
| SPF | Configuré | Non configuré | - |
| DKIM | Configuré | Non configuré | En attente |
| CNAME | - | Non configuré | - |

## 8. BADGES STATUT
| Statut | Couleur | Description |
|--------|---------|-------------|
| OK | Vert (#10B981) | Domaine actif |
| En cours | Bleu (#3B82F6) | Configuration en cours |
| Validation | Bleu (#3B82F6) | En attente de validation |

## 9. MENU ACTIONS (⋮)
| Action | Description |
|--------|-------------|
| Modifier | Ouvre modal modification |
| Supprimer | Ouvre modal suppression (rouge) |

## 10. PAGINATION
"Affichage X-Y sur Z domaines"

## 11. SIDEBAR MENU
| Élément | État |
|---------|------|
| Informations générales | - |
| Comptes e-mail | - |
| **Domaines associés** | Actif (bleu) |
| Contacts externes | - |
| Redirections | - |
| Listes de diffusion | - |
| Tâches récentes | - |

## 12. APIS & ENDPOINTS
- GET /email/pro/{service}/domain : Lister domaines
- POST /email/pro/{service}/domain : Ajouter domaine
- PUT /email/pro/{service}/domain/{domain} : Modifier
- DELETE /email/pro/{service}/domain/{domain} : Supprimer
- GET /email/pro/{service}/domain/{domain}/dkim : Récupérer DKIM
- GET /email/pro/{service}/domain/{domain}/diagnostic : Récupérer diagnostic

