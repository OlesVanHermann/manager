# Cahier des Charges : web-cloud/email-pro - Onglet Taches

## 1. RESUME EXECUTIF

### Perimetre
Onglet d'historique des operations sur le service Email Pro.

### Objectif fonctionnel
- Voir l'historique des operations
- Filtrer par statut
- Suivre les taches en cours

---

## 2. LAYOUT

### Structure onglet avec filtre + tableau pagine

---

## 3. COMPOSANTS UI

### Filtre statut
| Element | Description |
|---------|-------------|
| Label | Filtrer par statut : |
| Type | Select dropdown |
| Options | Toutes, Terminees, En cours, En erreur |

### Tableau taches
| Colonne | Description |
|---------|-------------|
| ID Tache | Numero (#XXXXX) |
| Type | Type d'operation |
| Date de creation | DD/MM/YYYY HH:MM |
| Date de fin | DD/MM/YYYY HH:MM ou "-" |
| Statut | Badge Terminee/En cours |
| Details | Lien "Voir" |

### Types d'operations
| Type | Description |
|------|-------------|
| Creation compte | Nouveau compte email |
| Modification quota | Changement de taille |
| Suppression compte | Compte supprime |
| Ajout domaine | Nouveau domaine |

### Etats statut
| Etat | Couleur |
|------|---------|
| Terminee | Vert |
| En cours | Bleu |
| Erreur | Rouge |

### Pagination
| Element | Description |
|---------|-------------|
| Texte | Affichage X-Y sur Z taches |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/pro/{service}/task
GET /email/pro/{service}/task/{id}
```

### Modele
```typescript
interface EmailProTask {
  id: number;
  function: TaskFunction;
  todoDate: string;
  finishDate?: string;
  status: 'todo' | 'doing' | 'done' | 'error';
}

type TaskFunction =
  | 'addAccount'
  | 'deleteAccount'
  | 'changePassword'
  | 'addDomain'
  | 'deleteDomain'
  | 'changeQuota';
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "email_pro_tasks_title": "Taches",
  "email_pro_tasks_filter": "Filtrer par statut :",
  "email_pro_tasks_filter_all": "Toutes",
  "email_pro_tasks_filter_done": "Terminees",
  "email_pro_tasks_filter_doing": "En cours",
  "email_pro_tasks_filter_error": "En erreur",
  "email_pro_tasks_col_id": "ID Tache",
  "email_pro_tasks_col_type": "Type",
  "email_pro_tasks_col_created": "Date de creation",
  "email_pro_tasks_col_finished": "Date de fin",
  "email_pro_tasks_col_status": "Statut",
  "email_pro_tasks_col_details": "Details",
  "email_pro_tasks_status_done": "Terminee",
  "email_pro_tasks_status_doing": "En cours",
  "email_pro_tasks_view": "Voir"
}
```

---

## 6. REGLES METIER

- Operations asynchrones
- Historique conserve 30 jours
- Filtre par statut disponible
- Details consultables par clic
