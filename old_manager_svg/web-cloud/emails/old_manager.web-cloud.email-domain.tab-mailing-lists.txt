# Cahier des Charges : web-cloud/email-domain - Onglet Listes de diffusion

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des listes de diffusion (mailing lists).

### Objectif fonctionnel
- Creer des listes de diffusion
- Gerer les membres
- Configurer la moderation

---

## 2. LAYOUT

### Structure onglet avec bouton action + tableau + info

---

## 3. COMPOSANTS UI

### Bouton action
| Element | Description |
|---------|-------------|
| Type | Primary |
| Texte | + Creer une liste |

### Tableau listes
| Colonne | Description |
|---------|-------------|
| Nom de la liste | Adresse de la liste (lien) |
| Proprietaire | Email du moderateur |
| Membres | Nombre de membres |
| Moderation | Ouverte / Fermee |
| Statut | Badge Actif/Inactif |
| Actions | Menu â‹® |

### Bandeau info
| Element | Description |
|---------|-------------|
| Type | Info (bleu) |
| Ligne 1 | Les listes de diffusion permettent d'envoyer des emails a plusieurs destinataires simultanement. |
| Ligne 2 | Moderation ouverte: tous peuvent envoyer - Moderation fermee: seul le proprietaire peut envoyer |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/domain/{domain}/mailingList
GET /email/domain/{domain}/mailingList/{name}
POST /email/domain/{domain}/mailingList
DELETE /email/domain/{domain}/mailingList/{name}
GET /email/domain/{domain}/mailingList/{name}/subscriber
POST /email/domain/{domain}/mailingList/{name}/subscriber
DELETE /email/domain/{domain}/mailingList/{name}/subscriber/{email}
```

### Modele
```typescript
interface MailingList {
  name: string;
  ownerEmail: string;
  membersCount: number;
  options: {
    moderatorMessage: boolean;
    subscribeByModerator: boolean;
    usersPostOnly: boolean;
  };
}

type ModerationMode = 'open' | 'closed' | 'moderated';
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "email_domain_ml_title": "Listes de diffusion",
  "email_domain_ml_create": "Creer une liste",
  "email_domain_ml_col_name": "Nom de la liste",
  "email_domain_ml_col_owner": "Proprietaire",
  "email_domain_ml_col_members": "Membres",
  "email_domain_ml_col_moderation": "Moderation",
  "email_domain_ml_col_status": "Statut",
  "email_domain_ml_moderation_open": "Ouverte",
  "email_domain_ml_moderation_closed": "Fermee",
  "email_domain_ml_info_1": "Les listes de diffusion permettent d'envoyer des emails a plusieurs destinataires simultanement.",
  "email_domain_ml_info_2": "Moderation ouverte: tous peuvent envoyer | Moderation fermee: seul le proprietaire peut envoyer"
}
```

---

## 6. REGLES METIER

- Liste = adresse groupee
- Moderation ouverte = tous envoient
- Moderation fermee = proprietaire seul
- Membres illimites
- Proprietaire = moderateur
