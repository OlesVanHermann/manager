# Cahier des Charges : web-cloud/email-exchange - Règles de transport

## 1. VUE D'ENSEMBLE
- **Écran** : Gestion des règles de transport Exchange
- **Type** : Page liste avec tableau
- **Objectif** : Configurer les règles au niveau serveur pour le flux email

## 2. STRUCTURE DE LA PAGE
- Header OVHcloud avec navigation
- Sidebar Exchange (menu)
- Titre "Règles de transport"
- Bandeau info
- Bouton nouvelle règle
- Tableau des règles
- Compteur

## 3. COMPOSANTS UI
- **OdsHeader** : Navigation principale
- **OdsSidebar** : Menu Exchange
- **OdsMessage** : Info bleu
- **OdsButton** : + Nouvelle règle
- **OdsTable** : Liste des règles
- **OdsBadge** : État actif/désactivé
- **OdsActionMenu** : Menu actions (⋮)
- **OdsText** : Compteur

## 4. TITRE
"Règles de transport"

## 5. BANDEAU INFO
Fond bleu (#EFF6FF) :
"Les règles de transport s'appliquent à tous les messages transitant par la plateforme Exchange."

## 6. BOUTON D'ACTION PRINCIPAL
| Bouton | Style | Position | Action |
|--------|-------|----------|--------|
| + Nouvelle règle | Primaire bleu | Haut droite | Ouvre modal création |

## 7. COLONNES DU TABLEAU
| Colonne | Description | Exemple |
|---------|-------------|---------|
| Priorité | Ordre d'exécution | 1 |
| Nom | Nom de la règle | Bloquer exécutables |
| État | Badge actif/désactivé | Actif |
| Modifié le | Date dernière modification | 25/12/2024 |
| Actions | Menu ⋮ | Modifier, Activer/Désactiver, Supprimer |

## 8. BADGES ÉTAT
| État | Couleur fond | Couleur texte |
|------|--------------|---------------|
| Actif | #DCFCE7 | #166534 |
| Désactivé | #FEE2E2 | #DC2626 |

## 9. EXEMPLES DE RÈGLES
| Priorité | Nom | État |
|----------|-----|------|
| 1 | Bloquer exécutables | Actif |
| 2 | Ajouter disclaimer externe | Actif |
| 3 | Rediriger support@ | Désactivé |

## 10. MENU ACTIONS (⋮)
| Action | Description |
|--------|-------------|
| Modifier | Ouvre modal modification |
| Activer/Désactiver | Change l'état |
| Monter | Augmente priorité |
| Descendre | Diminue priorité |
| Supprimer | Ouvre modal suppression |

## 11. COMPTEUR
"X règles de transport"

## 12. SIDEBAR MENU
| Élément | État |
|---------|------|
| Informations générales | - |
| Comptes | - |
| Groupes | - |
| Sécurité | - |
| **Règles de transport** | Actif (bleu) |

## 13. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/transportRule : Lister règles
- POST /email/exchange/{org}/service/{service}/transportRule : Créer
- PUT /email/exchange/{org}/service/{service}/transportRule/{id} : Modifier
- DELETE /email/exchange/{org}/service/{service}/transportRule/{id} : Supprimer

