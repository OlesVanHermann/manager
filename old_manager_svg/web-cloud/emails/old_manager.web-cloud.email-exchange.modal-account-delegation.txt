# Cahier des Charges : web-cloud/email-exchange - Modal Délégations

## 1. VUE D'ENSEMBLE
- **Modal** : Gestion des délégations de compte
- **Type** : Modal avec onglets et tableau
- **Objectif** : Configurer les permissions d'envoi et d'accès

## 2. STRUCTURE MODAL
- Header avec email du compte et bouton fermer (×)
- Onglets de type de délégation
- Bandeau info explicatif
- Tableau des comptes avec checkboxes
- Boutons Annuler / Enregistrer

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (650x490)
- **OdsTabs** : Onglets de délégation
- **OdsMessage** : Bandeau info bleu
- **OdsTable** : Liste des comptes
- **OdsCheckbox** : Autoriser/Refuser
- **OdsButton** : Annuler, Enregistrer

## 4. TITRE
"Délégations - {email}"

## 5. ONGLETS
| Onglet | Description |
|--------|-------------|
| Envoyer en tant que | Envoyer comme si c'était le compte |
| Envoyer de la part | Envoyer "de la part de" |
| Accès complet | Accès total à la boîte aux lettres |

## 6. BANDEAU INFO (Envoyer en tant que)
Fond bleu (#EFF6FF) :
"Sélectionnez les comptes autorisés à envoyer des e-mails au nom de ce compte."

## 7. TABLEAU
| Colonne | Description |
|---------|-------------|
| Compte | Email du compte |
| Type | Standard / Basic |
| Autoriser | Checkbox coché/décoché |

## 8. CHECKBOX AUTORISER
| État | Apparence |
|------|-----------|
| Autorisé | Checkbox bleu coché (✓) |
| Non autorisé | Checkbox vide avec bordure grise |

## 9. EXEMPLES DE DONNÉES
| Compte | Type | Autoriser |
|--------|------|-----------|
| contact@example.com | Standard | ✓ |
| support@example.com | Standard | ☐ |
| info@example.com | Standard | ✓ |
| sales@example.com | Standard | ☐ |

## 10. BOUTONS
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondaire (bordure) | Ferme sans sauvegarder |
| Enregistrer | Primaire bleu | Sauvegarde les délégations |

## 11. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/account/{email}/sendAs : Lister "envoyer en tant que"
- POST /email/exchange/{org}/service/{service}/account/{email}/sendAs : Ajouter permission
- DELETE /email/exchange/{org}/service/{service}/account/{email}/sendAs/{id} : Retirer permission
- GET /email/exchange/{org}/service/{service}/account/{email}/sendOnBehalfTo : Lister "envoyer de la part"
- GET /email/exchange/{org}/service/{service}/account/{email}/fullAccess : Lister accès complets

