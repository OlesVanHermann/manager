# Cahier des Charges : web-cloud/email-exchange - Modal Règle de transport

## 1. VUE D'ENSEMBLE
- **Modal** : Créer une règle de transport
- **Type** : Formulaire de création
- **Objectif** : Définir des règles au niveau serveur pour le flux email

## 2. STRUCTURE MODAL
- Header avec titre et bouton fermer (×)
- Nom de la règle
- Condition (si...)
- Valeur de condition
- Action (alors...)
- Message d'action
- Priorité
- Boutons Annuler / Créer

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (550x490)
- **OdsInput** : Nom, Valeur condition, Message action, Priorité
- **OdsSelect** : Type de condition, Type d'action
- **OdsButton** : Annuler, Créer

## 4. TITRE
"Créer une règle de transport"

## 5. CHAMPS DU FORMULAIRE
| Champ | Type | Placeholder | Obligatoire |
|-------|------|-------------|-------------|
| Nom de la règle * | Input text | Ex: Bloquer pièces jointes exécutables | Oui |

## 6. CONDITION (APPLIQUER CETTE RÈGLE SI...)
| Type | Valeur exemple |
|------|----------------|
| La pièce jointe a une extension... | Select |
| .exe, .bat, .cmd, .vbs, .js | Input text |

### Types de conditions
| Condition | Description |
|-----------|-------------|
| La pièce jointe a une extension | Filtre par type fichier |
| L'expéditeur est | Filtre par adresse |
| Le destinataire est | Filtre par adresse |
| L'objet contient | Filtre par sujet |
| Le corps contient | Filtre par contenu |

## 7. ACTION (EFFECTUER L'ACTION SUIVANTE...)
| Type | Message |
|------|---------|
| Rejeter le message avec explication | Select |
| Pièces jointes exécutables non autorisées | Input text |

### Types d'actions
| Action | Description |
|--------|-------------|
| Rejeter le message avec explication | Bloque avec message |
| Supprimer le message | Supprime sans trace |
| Rediriger vers | Transfère à une adresse |
| Ajouter un avertissement | Préfixe l'objet |

## 8. PRIORITÉ
| Champ | Type | Valeur |
|-------|------|--------|
| Priorité | Input number | 1 |

## 9. BOUTONS
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondaire | Ferme sans sauvegarder |
| Créer | Primaire bleu | Crée la règle |

## 10. APIS & ENDPOINTS
- POST /email/exchange/{org}/service/{service}/transportRule : Créer règle de transport

