# Cahier des Charges : web-cloud/email-exchange - Règles de messagerie

## 1. VUE D'ENSEMBLE
- **Modal** : Liste des règles de messagerie d'un compte
- **Type** : Modal liste avec actions
- **Objectif** : Gérer les règles de tri automatique des emails

## 2. STRUCTURE MODAL
- Header avec email du compte et bouton fermer (×)
- Bouton créer règle
- Tableau des règles
- Compteur
- Bouton Fermer

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (700x440)
- **OdsButton** : + Créer une règle (primaire)
- **OdsTable** : Liste des règles
- **OdsBadge** : État actif/inactif
- **OdsText** : Compteur

## 4. TITRE
"Règles - {email}"
Exemple: "Règles - john.doe@example.com"

## 5. BOUTON D'ACTION
| Bouton | Style | Position | Action |
|--------|-------|----------|--------|
| + Créer une règle | Primaire bleu | Haut droite | Ouvre modal création |

## 6. COLONNES DU TABLEAU
| Colonne | Description | Exemple |
|---------|-------------|---------|
| Nom | Nom de la règle | Newsletters |
| Condition | Critère de déclenchement | Objet contient [News] |
| Action | Action à effectuer | Vers Newsletters |
| Actif | Badge Oui/Non | Oui |

## 7. BADGES ÉTAT
| État | Couleur fond | Couleur texte |
|------|--------------|---------------|
| Oui | #DCFCE7 | #166534 |
| Non | #FEE2E2 | #DC2626 |

## 8. EXEMPLES DE RÈGLES
| Nom | Condition | Action | Actif |
|-----|-----------|--------|-------|
| Newsletters | Objet contient [News] | Vers Newsletters | Oui |
| Support client | De: support@* | Marquer important | Oui |
| Spam suspect | Objet contient [SPAM] | Supprimer | Non |

## 9. COMPTEUR
"X règles"

## 10. BOUTON
| Bouton | Type | Action |
|--------|------|--------|
| Fermer | Secondaire | Ferme la modal |

## 11. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/account/{email}/rule : Lister règles
- POST /email/exchange/{org}/service/{service}/account/{email}/rule : Créer
- PUT /email/exchange/{org}/service/{service}/account/{email}/rule/{id} : Modifier
- DELETE /email/exchange/{org}/service/{service}/account/{email}/rule/{id} : Supprimer

