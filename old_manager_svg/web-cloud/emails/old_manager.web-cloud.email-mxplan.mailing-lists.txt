# Cahier des Charges : web-cloud/email-mxplan - Listes de diffusion

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des listes de diffusion MX Plan.

### Objectif fonctionnel
- Voir les listes de diffusion
- Creer de nouvelles listes
- Gerer les membres
- Configurer les parametres

---

## 2. LAYOUT

### Structure onglet avec bouton action + tableau pagine

---

## 3. COMPOSANTS UI

### Bouton action
| Element | Description |
|---------|-------------|
| Type | Primary |
| Texte | Creer une liste de diffusion |

### Tableau listes
| Colonne | Description |
|---------|-------------|
| Nom de la liste | Lien bleu (adresse) |
| Moderateur | Email du moderateur |
| Membres | Nombre (X abonnes/membres) |
| Type | Badge Ouverte/Fermee |
| Statut | Badge Actif |
| Actions | Menu ⋮ |

### Types de liste
| Type | Badge |
|------|-------|
| Ouverte | Bleu clair (#DBEAFE) |
| Fermee | Rouge clair (#FEE2E2) |

### Menu actions (⋮)
| Option | Description |
|--------|-------------|
| Gerer les membres | Add/remove members |
| Modifier les parametres | Edit settings |
| --- | Separateur |
| Supprimer | Destructif (rouge) |

### Pagination
| Element | Description |
|---------|-------------|
| Texte | Affichage X-Y sur Z listes de diffusion |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/domain/{domain}/mailingList
POST /email/domain/{domain}/mailingList
DELETE /email/domain/{domain}/mailingList/{name}
PUT /email/domain/{domain}/mailingList/{name}
GET /email/domain/{domain}/mailingList/{name}/subscriber
POST /email/domain/{domain}/mailingList/{name}/subscriber
DELETE /email/domain/{domain}/mailingList/{name}/subscriber/{email}
```

### Modele
```typescript
interface MailingList {
  name: string;
  email: string;
  moderator: string;
  subscriberCount: number;
  listType: 'open' | 'closed' | 'private';
  state: 'ok' | 'suspended';
  language: 'fr' | 'en' | 'de' | 'es';
}

interface MailingListSubscriber {
  email: string;
  subscribedDate: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "mxplan_mailing_title": "Listes de diffusion",
  "mxplan_mailing_create": "Creer une liste de diffusion",
  "mxplan_mailing_col_name": "Nom de la liste",
  "mxplan_mailing_col_moderator": "Moderateur",
  "mxplan_mailing_col_members": "Membres",
  "mxplan_mailing_col_type": "Type",
  "mxplan_mailing_col_status": "Statut",
  "mxplan_mailing_type_open": "Ouverte",
  "mxplan_mailing_type_closed": "Fermee",
  "mxplan_mailing_subscribers": "{count} abonnes",
  "mxplan_mailing_members": "{count} membres",
  "mxplan_mailing_action_members": "Gerer les membres",
  "mxplan_mailing_action_settings": "Modifier les parametres",
  "mxplan_mailing_action_delete": "Supprimer",
  "mxplan_mailing_status_active": "Actif",
  "mxplan_mailing_pagination": "Affichage de {start}-{end} sur {total} listes de diffusion"
}
```

---

## 6. REGLES METIER

- Ouverte = tout le monde peut s'inscrire
- Fermee = inscription par moderateur uniquement
- Moderateur = gere les inscriptions et messages
- Limite de membres selon offre
- Diffusion emails a tous les abonnes
