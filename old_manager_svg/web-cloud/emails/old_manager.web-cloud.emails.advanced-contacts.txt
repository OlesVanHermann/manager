# Cahier des Charges : web-cloud/emails - Advanced Contacts

## 1. VUE D'ENSEMBLE

**Type:** Page datagrid
**Fonction:** Gestion des contacts externes (carnet d'adresses partagé)
**Contexte:** Sous-onglet Contacts de l'onglet Avancé (Exchange uniquement)

## 2. NAVIGATION

### NAV1
- Menu: Web Cloud (actif)

### NAV2
- Menu: Emails (actif)

### NAV3
- Onglets: Boîtes mail | Redirections | Répondeurs | Listes | Sécurité | Avancé (actif) | Licences | Tâches

### NAV4
- Sous-onglets: Général | Contacts (actif) | Audit | Appareils

## 3. TOOLBAR

| Bouton | Style | Action |
|--------|-------|--------|
| + Ajouter contact | btn-primary | Ouvre modal |
| Importer | btn-outline | Import CSV |
| Exporter | btn-outline | Export CSV |
| Recherche | Input | Filtre les contacts |
| ↻ | btn-outline | Rafraîchit |

## 4. BANNER INFO

- Background: #DBEAFE
- Texte: "Les contacts externes apparaissent dans le carnet d'adresses partagé de tous les utilisateurs Exchange."

## 5. DATAGRID

### Colonnes

| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Nom | 200px | Avatar (initiales) + nom complet |
| Email externe | 220px | Adresse email (lien) |
| Société | 160px | Nom de l'entreprise |
| Téléphone | 160px | Numéro ou "-" |
| Créé le | 140px | Date création |
| Actions | 60px | ✏️ (modifier) + ✕ (supprimer) |

### Avatar
- Cercle 32px diamètre
- Background: #F3F4F6
- Texte: Initiales (2 lettres)

## 6. EXEMPLES

| Nom | Email externe | Société | Téléphone |
|-----|---------------|---------|-----------|
| Jean Dupont | jean.dupont@partenaire.fr | Partenaire SARL | +33 6 12 34 56 78 |
| Marie Laurent | m.laurent@client.com | Client Corp | +33 1 98 76 54 32 |
| Pierre Bernard | p.bernard@fournisseur.net | Fournisseur SAS | +33 4 56 78 90 12 |
| Sophie Martin | sophie@externe.org | Association ABC | - |

## 7. PAGINATION

- Texte: "Affichage 1-5 sur 23"
- Navigation: < 1 2 >

## 8. APIS & ENDPOINTS

```
# Exchange uniquement
GET /email/exchange/{organization}/service/{serviceName}/externalContact
→ Liste des contacts externes

GET /email/exchange/{organization}/service/{serviceName}/externalContact/{id}
→ Détails d'un contact

POST /email/exchange/{organization}/service/{serviceName}/externalContact
Body: {
  displayName: "Jean Dupont",
  externalEmailAddress: "jean@externe.com",
  firstName: "Jean",
  lastName: "Dupont",
  company: "Société",
  phone: "+33612345678"
}
→ Crée un contact externe

PUT /email/exchange/{organization}/service/{serviceName}/externalContact/{id}
→ Modifie un contact

DELETE /email/exchange/{organization}/service/{serviceName}/externalContact/{id}
→ Supprime un contact

# Import/Export
POST /email/exchange/{organization}/service/{serviceName}/externalContact/import
→ Importe des contacts (CSV)

GET /email/exchange/{organization}/service/{serviceName}/externalContact/export
→ Exporte les contacts
```

## 9. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Contacts |
| info_banner | Les contacts externes apparaissent dans le carnet d'adresses partagé de tous les utilisateurs Exchange. |
| btn_add | + Ajouter contact |
| btn_import | Importer |
| btn_export | Exporter |
| search_placeholder | Rechercher un contact... |
| col_name | Nom |
| col_email | Email externe |
| col_company | Société |
| col_phone | Téléphone |
| col_created | Créé le |
| col_actions | Actions |
| action_edit | Modifier |
| action_delete | Supprimer |
| pagination | Affichage {start}-{end} sur {total} |
