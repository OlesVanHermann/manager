# Cahier des Charges : web-cloud/email-mxplan - Comptes email

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des comptes email MX Plan.

### Objectif fonctionnel
- Voir la liste des comptes
- Creer de nouveaux comptes
- Gerer les mots de passe et alias
- Surveiller les quotas

---

## 2. LAYOUT

### Structure onglet avec bouton action + tableau pagine

---

## 3. COMPOSANTS UI

### Bouton action
| Element | Description |
|---------|-------------|
| Type | Primary |
| Texte | Creer un compte email |

### Tableau comptes
| Colonne | Description |
|---------|-------------|
| Adresse email | Lien bleu cliquable |
| Quota utilise | Barre progression + texte |
| Derniere connexion | Date/heure |
| Statut | Badge Actif/Quota 90% |
| Actions | Menu ⋮ |

### Barre quota
| Element | Description |
|---------|-------------|
| Type | Progress bar horizontale |
| Couleur normale | Bleu (#0050D7) |
| Couleur alerte | Rouge (#DC2626) si >90% |
| Texte | XXX Mo / Y Go |

### Etats statut
| Etat | Badge |
|------|-------|
| Actif | Vert (#DEF7EC) |
| Quota 90% | Orange (#FEF3C7) |

### Menu actions (⋮)
| Option | Description |
|--------|-------------|
| Modifier le mot de passe | Change password |
| Configurer les alias | Manage aliases |
| Acceder au webmail | Open Roundcube |
| --- | Separateur |
| Supprimer | Destructif (rouge) |

### Pagination
| Element | Description |
|---------|-------------|
| Texte | Affichage X-Y sur Z comptes email |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/domain/{domain}/account
POST /email/domain/{domain}/account
DELETE /email/domain/{domain}/account/{name}
POST /email/domain/{domain}/account/{name}/changePassword
GET /email/domain/{domain}/account/{name}/alias
POST /email/domain/{domain}/account/{name}/alias
```

### Modele
```typescript
interface MXPlanAccount {
  accountName: string;
  email: string;
  quota: number;
  usedQuota: number;
  lastLogin?: string;
  state: 'ok' | 'suspended';
  isBlocked: boolean;
}

interface AccountAlias {
  alias: string;
  account: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "mxplan_accounts_title": "Comptes email",
  "mxplan_accounts_create": "Creer un compte email",
  "mxplan_accounts_col_email": "Adresse email",
  "mxplan_accounts_col_quota": "Quota utilise",
  "mxplan_accounts_col_last_login": "Derniere connexion",
  "mxplan_accounts_col_status": "Statut",
  "mxplan_accounts_status_active": "Actif",
  "mxplan_accounts_status_quota_warning": "Quota {percent}%",
  "mxplan_accounts_action_password": "Modifier le mot de passe",
  "mxplan_accounts_action_aliases": "Configurer les alias",
  "mxplan_accounts_action_webmail": "Acceder au webmail",
  "mxplan_accounts_action_delete": "Supprimer",
  "mxplan_accounts_pagination": "Affichage de {start}-{end} sur {total} comptes email"
}
```

---

## 6. REGLES METIER

- 1 Go par compte standard (variable selon offre)
- Alerte quota a 90%
- Derniere connexion = derniere authentification IMAP/POP3
- Alias = adresses alternatives sur meme boite
- Webmail via Roundcube
