# Cahier des Charges : web-cloud/voip/sms - Callback

## 1. VUE D'ENSEMBLE

**Type:** Page configuration en 2 colonnes
**Fonction:** Configurer les URLs de callback SMS
**Contexte:** Webhooks pour notifications d'événements SMS

## 2. NAVIGATION

### Breadcrumb
Télécom > SMS > sms-xxxxxxxx-1 > Options > Options Callback

### Retour
← Revenir aux options

## 3. HEADER

- Titre: "Options Callback"

## 4. LAYOUT 2 COLONNES

### Colonne gauche : Informations (540x280px)
### Colonne droite : Configurer (540x280px)

## 5. CARTE INFORMATIONS (540x280px)

### Titre
"Informations"

### Contenu
- Ligne 1: "OVHcloud vous propose de paramétrer des URLs de callback"
- Ligne 2: "pour être averti lors d'un événement sur un SMS."
- Ligne 3: "Deux types de callbacks sont disponibles :"

### Type 1 : Callback changement d'état
- Titre: "Le callback de changement d'état :"
- Description: "Lorsqu'un SMS envoyé change d'état"
- Exemple: "(ex: de \"envoyé\" vers \"remis\")."

### Type 2 : Callback STOP
- Titre: "Le callback STOP :"
- Description: "Lorsqu'un destinataire répond \"STOP\" à un de vos SMS."

## 6. CARTE CONFIGURER (540x280px)

### Titre
"Configurer"

### URL callback changements d'état
- Label: "URL de callback changements d'état :"
- Valeur: "Aucune URL configurée." (text-muted si vide)

### URL callback STOP
- Label: "URL de callback STOP :"
- Valeur: "Aucune URL configurée." (text-muted si vide)

### Bouton
"Modifier" (btn-primary, 120x36px)

## 7. TYPES DE CALLBACK

| Type | Code | Description |
|------|------|-------------|
| État | stateChange | Notification de changement de statut SMS |
| STOP | stop | Notification de réponse STOP |

## 8. APIS & ENDPOINTS

```
# Configuration callback
GET /sms/{serviceName}/callbackSettings
→ {
  stateChangeUrl: null,
  stopUrl: null
}

# Modifier la configuration
PUT /sms/{serviceName}/callbackSettings
Body: {
  stateChangeUrl: "https://example.com/webhook/sms-status",
  stopUrl: "https://example.com/webhook/sms-stop"
}
```

## 9. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| breadcrumb_options | Options |
| breadcrumb_callback | Options Callback |
| back_link | Revenir aux options |
| page_title | Options Callback |
| section_info | Informations |
| info_line1 | OVHcloud vous propose de paramétrer des URLs de callback |
| info_line2 | pour être averti lors d'un événement sur un SMS. |
| info_line3 | Deux types de callbacks sont disponibles : |
| callback_state_title | Le callback de changement d'état : |
| callback_state_desc | Lorsqu'un SMS envoyé change d'état |
| callback_state_example | (ex: de "envoyé" vers "remis"). |
| callback_stop_title | Le callback STOP : |
| callback_stop_desc | Lorsqu'un destinataire répond "STOP" à un de vos SMS. |
| section_configure | Configurer |
| field_state_url | URL de callback changements d'état : |
| field_stop_url | URL de callback STOP : |
| no_url_configured | Aucune URL configurée. |
| btn_modify | Modifier |
