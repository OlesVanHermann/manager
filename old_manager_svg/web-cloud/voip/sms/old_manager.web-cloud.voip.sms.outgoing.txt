# Cahier des Charges : web-cloud/voip/sms - Outgoing

## 1. VUE D'ENSEMBLE

**Type:** Page liste avec datagrid
**Fonction:** Consulter l'historique des SMS envoyés
**Contexte:** Suivi des envois individuels

## 2. NAVIGATION

### Breadcrumb
Télécom > SMS > sms-xxxxxxxx-1 > Historique des envois

### Retour
← Retour aux SMS

## 3. HEADER

- Titre: "Historique des envois"

## 4. BARRE D'ACTIONS

### Bouton télécharger (200x36px)
- Texte: "Télécharger l'historique"
- Style: btn-secondary (bordure)

### Bouton suppression (230x36px)
- État: Désactivé (grisé)
- Texte: "Supprimer le SMS sélectionné"
- Activé quand: sélection d'une ligne

### Bouton actualiser (100x36px)
- Position: droite
- Icône: ↻
- Action: Rafraîchir la liste

## 5. DATAGRID SMS ENVOYÉS (1120x410px)

### Colonnes

| Colonne | Largeur | Description |
|---------|---------|-------------|
| Checkbox | 35px | Sélection |
| Date | 115px | Date + heure (2 lignes) |
| Expéditeur | 150px | Nom/numéro expéditeur |
| Destinataire | 160px | Numéro destinataire |
| Destination | 120px | Code pays (FR, BE, etc.) |
| Message | 200px | Contenu tronqué |
| Statut | 120px | Délivré/En attente/Erreur |
| Actions | 80px | Menu ⋮ |

### Données exemple

| ☐ | Date | Expéditeur | Destinataire | Dest. | Message | Statut | ⋮ |
|---|------|------------|--------------|-------|---------|--------|---|
| ☐ | 28/12/2024 15:45:22 | MonEntreprise | +33612345678 | FR | Votre commande a été... | Délivré | ⋮ |
| ☐ | 28/12/2024 14:30:10 | +33700000000 | +33698765432 | FR | Rappel: RDV demain 10h | Délivré | ⋮ |
| ☐ | 27/12/2024 11:20:35 | MonEntreprise | +33611223344 | FR | Merci pour votre achat | Délivré | ⋮ |

### Menu contextuel (100x70px)
- Consulter
- Supprimer

### Pagination
"Affichage 1-3 sur 156"

## 6. STATUTS SMS

| Statut | Couleur | Code |
|--------|---------|------|
| Délivré | #16A34A (success) | delivered |
| En attente | #92400E (warning) | pending |
| Erreur | #DC2626 (error) | error |

## 7. APIS & ENDPOINTS

```
# Liste des SMS envoyés
GET /sms/{serviceName}/outgoing
Query: { limit, offset, dateFrom, dateTo }
→ [{
  id: "67890",
  creationDatetime: "2024-12-28T15:45:22",
  sender: "MonEntreprise",
  receiver: "+33612345678",
  destinationCountry: "FR",
  message: "Votre commande a été...",
  deliveryStatus: "delivered"
}]

# Détails d'un SMS envoyé
GET /sms/{serviceName}/outgoing/{id}

# Supprimer un SMS
DELETE /sms/{serviceName}/outgoing/{id}

# Exporter l'historique
GET /sms/{serviceName}/outgoing/export
Query: { format: "csv" }
→ CSV file
```

## 8. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Historique des envois |
| back_link | Retour aux SMS |
| btn_download | Télécharger l'historique |
| btn_delete | Supprimer le SMS sélectionné |
| btn_refresh | Actualiser |
| col_date | Date |
| col_sender | Expéditeur |
| col_receiver | Destinataire |
| col_destination | Destination |
| col_message | Message |
| col_status | Statut |
| col_actions | Actions |
| status_delivered | Délivré |
| status_pending | En attente |
| status_error | Erreur |
| menu_view | Consulter |
| menu_delete | Supprimer |
| pagination | Affichage {start}-{end} sur {total} |
