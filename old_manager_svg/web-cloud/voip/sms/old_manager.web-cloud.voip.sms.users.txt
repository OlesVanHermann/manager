# Cahier des Charges : web-cloud/voip/sms - Users

## 1. VUE D'ENSEMBLE

**Type:** Page liste avec datagrid
**Fonction:** Gérer les comptes utilisateurs API
**Contexte:** Accès programmatique au service SMS

## 2. NAVIGATION

### Breadcrumb
Télécom > SMS > sms-xxxxxxxx-1 > Utilisateurs

## 3. HEADER

- Titre: "Gestion des comptes utilisateurs"

## 4. BARRE D'ACTIONS

### Actions dropdown (120x36px)
- Texte: "Actions ▼"
- Options: Ajouter, Alertes, Actualiser

## 5. DATAGRID UTILISATEURS (1120x380px)

### Colonnes

| Colonne | Largeur | Description |
|---------|---------|-------------|
| Identifiant | 180px | Login utilisateur |
| Activer le quota ? | 160px | Oui/Non |
| Quota | 120px | Crédits alloués |
| Activer l'alerte ? | 160px | Oui/Non |
| Limite | 120px | Seuil d'alerte |
| Notification | 160px | Type notification |
| Actions | 80px | Menu ⋮ |

### Types de notification
- Mail
- SMS
- Mail et SMS

### Données exemple

| Identifiant | Quota ? | Quota | Alerte ? | Limite | Notification | ⋮ |
|-------------|---------|-------|----------|--------|--------------|---|
| api_user_1 | Oui | 100.00 | Oui | 20 | Mail | ⋮ |
| marketing_team | Oui | 500.00 | Oui | 50 | Mail et SMS | ⋮ |
| support_user | Non | - | Non | - | - | ⋮ |

### Menu contextuel (130x200px)
- Mot de passe
- Quota
- Limite
- Restrictions
- Callback
- Supprimer

### Pagination
"Affichage 1-3 sur 3"

## 6. FONCTIONNALITÉS UTILISATEUR

### Quota
- Limite de crédits utilisables
- Peut être activé/désactivé
- Valeur en crédits SMS

### Alerte
- Notification quand quota atteint limite
- Seuil configurable
- Types: Mail, SMS, Mail+SMS

### Restrictions
- Limiter les destinations (pays)
- Limiter les expéditeurs
- Horaires d'envoi

### Callback
- URL appelée après chaque envoi
- Notification de statut de livraison

## 7. APIS & ENDPOINTS

```
# Liste des utilisateurs
GET /sms/{serviceName}/users
→ [{
  login: "api_user_1",
  quotaEnabled: true,
  quota: 100.00,
  alertEnabled: true,
  alertLimit: 20,
  alertNotification: "mail"
}]

# Créer un utilisateur
POST /sms/{serviceName}/users
Body: {
  login: "new_user",
  password: "securePassword123"
}

# Modifier mot de passe
PUT /sms/{serviceName}/users/{login}/password
Body: { password: "newPassword" }

# Configurer quota
PUT /sms/{serviceName}/users/{login}/quota
Body: {
  quotaEnabled: true,
  quota: 200.00
}

# Configurer alerte
PUT /sms/{serviceName}/users/{login}/alert
Body: {
  alertEnabled: true,
  alertLimit: 50,
  alertNotification: "mail+sms"
}

# Configurer restrictions
PUT /sms/{serviceName}/users/{login}/restrictions
Body: {
  allowedCountries: ["FR", "BE"],
  allowedSenders: ["MonEntreprise"]
}

# Configurer callback
PUT /sms/{serviceName}/users/{login}/callback
Body: {
  callbackUrl: "https://myserver.com/sms/callback"
}

# Supprimer utilisateur
DELETE /sms/{serviceName}/users/{login}
```

## 8. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Gestion des comptes utilisateurs |
| btn_actions | Actions |
| action_add | Ajouter |
| action_alerts | Alertes |
| action_refresh | Actualiser |
| col_login | Identifiant |
| col_quota_enabled | Activer le quota ? |
| col_quota | Quota |
| col_alert_enabled | Activer l'alerte ? |
| col_alert_limit | Limite |
| col_notification | Notification |
| col_actions | Actions |
| menu_password | Mot de passe |
| menu_quota | Quota |
| menu_limit | Limite |
| menu_restrictions | Restrictions |
| menu_callback | Callback |
| menu_delete | Supprimer |
| notification_mail | Mail |
| notification_sms | SMS |
| notification_both | Mail et SMS |
| pagination | Affichage {start}-{end} sur {total} |
