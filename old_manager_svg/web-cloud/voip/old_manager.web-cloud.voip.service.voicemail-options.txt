# Cahier des Charges : web-cloud/voip/service/voicemail-options

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.web-cloud.voip.service.voicemail-options.svg |
| **NAV1** | web-cloud |
| **NAV2** | voip |
| **Type** | Page formulaire multi-sections |
| **Description** | Page de configuration des options de messagerie vocale |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page avec LEFT PANEL |
| LEFT PANEL | 280px |
| RIGHT PANEL | 1096×765px |

---

## 3. LEFT PANEL

### 3.1 Service sélectionné

| Propriété | Valeur |
|-----------|--------|
| Background | #E8F0FE |
| Numéro | +33 9 72 12 34 56 |
| Type | Ligne SIP |

---

## 4. SECTION ENREGISTREMENT (haut gauche)

### 4.1 Card

| Dimensions | 500×280px |
| Titre | Enregistrement |

### 4.2 Toggle enregistrement

| Label | Activer l'enregistrement : |
| Type | Toggle switch |
| État | Actif (#0050D7) |

### 4.3 Annonce personnalisée

| Label | Annonce personnalisée : |
| Fichier actuel | message_accueil.wav |
| Bouton supprimer | Supprimer (danger) |

### 4.4 Upload fichier

| Type | File input |
| Dimensions | 200×36px |
| Placeholder | Fichier... |

### 4.5 Bouton mise à jour

| Texte | Mettre à jour |
| Style | Primary |
| Dimensions | 150×36px |

---

## 5. SECTION EMAILS (haut droite)

### 5.1 Card

| Dimensions | 520×280px |
| Titre | Adresses email |

### 5.2 Liste emails

| Email | Type notification |
|-------|------------------|
| contact@example.com | Notification avec fichier joint |
| admin@example.com | Simple notification |

### 5.3 Action par email

| Icône | × pour supprimer |

### 5.4 Bouton ajouter

| Texte | Ajouter une adresse |
| Style | Primary |
| Dimensions | 150×36px |

---

## 6. SECTION NOTIFICATIONS (bas gauche)

### 6.1 Card

| Dimensions | 500×280px |
| Titre | Options de notification |

### 6.2 Format audio

| Label | Format audio : |
| Type | Select dropdown |
| Options | MP3, WAV |
| Dimensions | 150×36px |

### 6.3 Toggle conserver messages

| Label | Conserver les messages après envoi : |
| Type | Toggle switch |
| État | Actif (#0050D7) |

### 6.4 Nom expéditeur

| Label | Nom de l'expéditeur : |
| Type | Input text |
| Dimensions | 250×36px |
| Valeur exemple | Mon Entreprise |

### 6.5 Email expéditeur

| Label | Email de l'expéditeur : |
| Type | Input text |
| Dimensions | 180×36px |
| Valeur exemple | noreply@ovh.net |

### 6.6 Bouton mise à jour

| Texte | Mettre à jour |
| Style | Primary |
| Dimensions | 150×36px |

---

## 7. APIS & ENDPOINTS

### 7.1 Obtenir les paramètres voicemail

```
GET /telephony/{billingAccount}/line/{serviceName}/phone/voicemail/settings
```

### 7.2 Modifier les paramètres voicemail

```
PUT /telephony/{billingAccount}/line/{serviceName}/phone/voicemail/settings
```

Body:
```json
{
  "recordingEnabled": true,
  "keepMessages": true,
  "audioFormat": "mp3",
  "fromName": "Mon Entreprise",
  "fromEmail": "noreply@ovh.net"
}
```

### 7.3 Uploader une annonce

```
POST /telephony/{billingAccount}/line/{serviceName}/phone/voicemail/greeting
```

### 7.4 Ajouter une adresse email

```
POST /telephony/{billingAccount}/line/{serviceName}/phone/voicemail/email
```

---

## 8. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `voip_voicemail_options_recording_title` | Enregistrement |
| `voip_voicemail_options_recording_enable` | Activer l'enregistrement |
| `voip_voicemail_options_recording_greeting` | Annonce personnalisée |
| `voip_voicemail_options_recording_delete` | Supprimer |
| `voip_voicemail_options_recording_update` | Mettre à jour |
| `voip_voicemail_options_emails_title` | Adresses email |
| `voip_voicemail_options_emails_add` | Ajouter une adresse |
| `voip_voicemail_options_emails_attached` | Notification avec fichier joint |
| `voip_voicemail_options_emails_simple` | Simple notification |
| `voip_voicemail_options_notif_title` | Options de notification |
| `voip_voicemail_options_notif_format` | Format audio |
| `voip_voicemail_options_notif_keep` | Conserver les messages après envoi |
| `voip_voicemail_options_notif_from_name` | Nom de l'expéditeur |
| `voip_voicemail_options_notif_from_email` | Email de l'expéditeur |
