# Cahier des Charges : telecom/xdsl - Modal ajout notification

## 1. RESUME EXECUTIF

### Perimetre
Modal d'ajout d'une nouvelle alerte de notification.

### Objectif fonctionnel
- Creer une nouvelle notification SMS ou email
- Configurer les parametres de frequence et delai

---

## 2. LAYOUT

### Modal centree 600x660px

---

## 3. COMPOSANTS UI

### Header modal
| Element | Description |
|---------|-------------|
| Titre | Ajouter une alerte |
| Bouton fermer | X en haut a droite |

### Formulaire
| Champ | Type | Exemple |
|-------|------|---------|
| Type | Select | SMS / E-mail |
| Compte | Select | sms-ov12345-1 (si SMS) |
| Contact a notifier | Input | 0033 612345678 ou email |
| Frequence d'envoi | Select | Toutes les 5 minutes |
| Notification incidents | Select | Oui / Non |
| Delai avant notification | Stepper | 5 (min) |

### Stepper numerique
| Element | Description |
|---------|-------------|
| Bouton - | Decremente la valeur |
| Valeur | Affichage numerique |
| Bouton + | Incremente la valeur |

### Info delai
| Element | Description |
|---------|-------------|
| Texte | Le delai minimum est de 0 minute, le maximum est de 1440 minutes (24h). |

### Footer modal
| Bouton | Type | Action |
|--------|------|--------|
| Valider | Primary | Cree la notification |
| Annuler | Default | Ferme sans creer |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /sms
    Response: [serviceName1, serviceName2]

POST /xdsl/{serviceName}/monitoringNotifications
    Body: {
      type: "sms" | "email",
      smsAccount: "sms-xxx" (si SMS),
      phone: "+33..." (si SMS),
      email: "..." (si email),
      frequency: 5 | 60 | 360 | 1440,
      allowIncident: true | false,
      downThreshold: 0-1440
    }
```

### Frequences disponibles
| Valeur | Label FR |
|--------|----------|
| 5 | Toutes les 5 minutes |
| 15 | Toutes les 15 minutes |
| 60 | Toutes les heures |
| 360 | Toutes les 6 heures |
| 1440 | Toutes les 24 heures |

---

## 5. TRADUCTIONS (i18n)

```json
{
  "xdsl_notif_add_title": "Ajouter une alerte",
  "xdsl_notif_add_type": "Type",
  "xdsl_notif_add_account": "Compte",
  "xdsl_notif_add_contact": "Contact a notifier en cas d'alertes",
  "xdsl_notif_add_frequency": "Frequence d'envoi",
  "xdsl_notif_add_incident": "Notification des incidents",
  "xdsl_notif_add_threshold": "Delai avant notification (en minutes)",
  "xdsl_notif_add_threshold_hint": "Le delai minimum est de 0 minute, le maximum est de 1440 minutes (24h).",
  "xdsl_notif_add_submit": "Valider",
  "xdsl_notif_add_cancel": "Annuler"
}
```

---

## 6. REGLES METIER

- Compte SMS visible uniquement si type = SMS
- Validation format telephone ou email
- Delai entre 0 et 1440 minutes
- Au moins un compte SMS requis pour type SMS
