# Cahier des Charges : telecom/line - Configuration manuelle

## 1. RESUME EXECUTIF

### Perimetre
Guide de configuration manuelle pour les telephones IP OVH.

### Objectif fonctionnel
- Guider la reinitialisation usine
- Expliquer comment trouver l'IP du telephone
- Configurer le provisioning via interface web

---

## 2. LAYOUT

### 3 etapes verticales avec instructions detaillees

---

## 3. COMPOSANTS UI

### Titre section
| Element | Description |
|---------|-------------|
| Titre | Configuration manuelle |

### Etape 1 : Reinitialisation d'usine
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "1" |
| Titre | Reinitialisation d'usine |
| Sous-titre | Pour Cisco SPA504G : |
| Instructions | Liste numerotee |

### Instructions reset Cisco
| Etape | Description |
|-------|-------------|
| 1 | Debranchez le cable d'alimentation du telephone |
| 2 | Maintenez le bouton # enfonce |
| 3 | Rebranchez le cable d'alimentation tout en maintenant le bouton # |
| 4 | Relachez le bouton quand les LEDs clignotent |

### Etape 2 : Trouver l'adresse IP du telephone
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "2" |
| Titre | Trouver l'adresse IP du telephone |
| Instructions | Liste numerotee |
| Input | Champ adresse IP privee |

### Instructions IP Cisco
| Etape | Description |
|-------|-------------|
| 1 | Appuyez sur le bouton Menu |
| 2 | Selectionnez Network > Current IP |
| 3 | L'adresse IP s'affiche (ex: 192.168.1.100) |

### Etape 3 : Configurer via l'interface web
| Element | Description |
|---------|-------------|
| Numero | Cercle bleu avec "3" |
| Titre | Configurer via l'interface web |
| 2 colonnes | Instructions + Screenshot |

### Instructions interface web (colonne gauche)
| Etape | Description |
|-------|-------------|
| 1 | Ouvrez un navigateur et accedez a http://192.168.1.100 |
| 2 | Cliquez sur "Admin Login" puis "Advanced" |
| 3 | Allez dans l'onglet "Provisioning" |
| 4 | Dans "Profile Rule", entrez : https://prov.voip.ovh.net/$MA.cfg |
| 5 | Cliquez sur "Submit All Changes" |
| 6 | Le telephone redemarre automatiquement |

### Zone screenshot (colonne droite)
| Element | Description |
|---------|-------------|
| Placeholder | Image capture d'ecran interface web Cisco |

### Boutons action
| Bouton | Type | Action |
|--------|------|--------|
| Suivant | Primary | Etape suivante |
| Modifier | Default | Revenir en arriere |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/phone
    Response: { brand, model, macAddress, provisioningUrl }

GET /telephony/phone/manualConfiguration/{brand}/{model}
    Response: {
      factoryResetSteps: [],
      findIpSteps: [],
      webConfigSteps: [],
      provisioningUrl
    }
```

### URLs provisioning par marque
| Marque | URL |
|--------|-----|
| Cisco | https://prov.voip.ovh.net/$MA.cfg |
| Yealink | https://prov.voip.ovh.net/yealink/$MAC.cfg |
| Gigaset | https://prov.voip.ovh.net/gigaset/$mac.xml |

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telephony_line_manual_config_title": "Configuration manuelle",
  "telephony_line_manual_config_step1_title": "Reinitialisation d'usine",
  "telephony_line_manual_config_step1_for": "Pour {{model}} :",
  "telephony_line_manual_config_step2_title": "Trouver l'adresse IP du telephone",
  "telephony_line_manual_config_step2_private_ip": "Adresse IP privee",
  "telephony_line_manual_config_step2_placeholder": "Ex: 192.168.1.100",
  "telephony_line_manual_config_step3_title": "Configurer via l'interface web",
  "telephony_line_manual_config_step3_profile_rule": "Profile Rule",
  "telephony_line_manual_config_screenshot": "Capture d'ecran interface web",
  "telephony_line_manual_config_next": "Suivant",
  "telephony_line_manual_config_modify": "Modifier"
}
```

---

## 6. REGLES METIER

- Instructions specifiques par marque/modele
- URL provisioning contient $MA = adresse MAC
- Configuration validee au premier appel
- Support technique si echec apres 3 tentatives
