# Cahier des Charges : telecom/billing - Mes factures

## 1. RESUME EXECUTIF

### Perimetre
Page de liste des factures du groupe de telephonie.

### Objectif fonctionnel
- Consulter l'historique des factures
- Telecharger les factures (PDF, CSV)
- Voir le statut de paiement

---

## 2. LAYOUT

### Structure page avec retour + tableau pagine

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ← Retour a la facturation |
| Titre | Mes factures |

### Tableau factures
| Colonne | Description |
|---------|-------------|
| Date | DD/MM/YYYY |
| Montant HT | XXX,XX EUR |
| Paye | Oui (vert) / Non (orange) |
| Actions | Menu ... |

### Menu actions (dropdown)
| Option | Description |
|--------|-------------|
| Telecharger PDF | Facture complete |
| Telecharger CSV emis | Details appels sortants |
| Telecharger CSV recus | Details appels entrants |

### Pagination
| Element | Description |
|---------|-------------|
| Compteur | Affichage de X-Y sur Z factures |
| Navigation | ◀ 1 2 3 ▶ |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/document
GET /telephony/{billingAccount}/document/{id}
```

### Modele
```typescript
interface Invoice {
  id: string;
  date: string;
  amountHT: number;
  amountTTC: number;
  paid: boolean;
  pdfUrl: string;
}

interface InvoiceDownload {
  type: 'pdf' | 'csv_outgoing' | 'csv_incoming';
  url: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telecom_bill_title": "Mes factures",
  "telecom_bill_back": "Retour a la facturation",
  "telecom_bill_list_title": "Liste des factures",
  "telecom_bill_col_date": "Date",
  "telecom_bill_col_amount": "Montant HT",
  "telecom_bill_col_paid": "Paye",
  "telecom_bill_col_actions": "Actions",
  "telecom_bill_paid_yes": "Oui",
  "telecom_bill_paid_no": "Non",
  "telecom_bill_download_pdf": "Telecharger PDF",
  "telecom_bill_download_csv_out": "Telecharger CSV emis",
  "telecom_bill_download_csv_in": "Telecharger CSV recus",
  "telecom_bill_pagination": "Affichage de {start}-{end} sur {total} factures"
}
```

---

## 6. REGLES METIER

- Factures mensuelles
- Historique 24 mois
- PDF = facture officielle
- CSV = detail des appels
- Non paye = orange warning
