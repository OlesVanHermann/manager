# Cahier des Charges : web-cloud/voip/carrier-sip - General

## 1. VUE D'ENSEMBLE

**Type:** Page dashboard avec cartes informations
**Fonction:** Vue générale d'un trunk Carrier SIP
**Contexte:** Page principale de gestion trunk SIP

## 2. NAVIGATION

### NAV1
Web Cloud (actif)

### NAV2
VoIP (actif)

### NAV3 Tabs
**General** (actif) | Parametres | Routage | CDR

## 3. LAYOUT

### Panneau gauche (280px)
- Recherche trunks
- Liste: "1 trunk SIP"
- Trunk sélectionné: trunk-abc123 (bg bleu)

### Panneau droit (1096px)
- Header trunk + tabs
- Contenu dashboard

## 4. HEADER TRUNK

- Nom: "trunk-abc123"
- Badge: "Actif" (vert #DEF7EC)
- Description: "Trunk Principal"

## 5. CARTE INFORMATIONS TRUNK (505x220px)

### Titre
"Informations trunk"

### Champs

| Champ | Valeur |
|-------|--------|
| Identifiant | trunk-abc123 |
| Description | Trunk Principal |
| Canaux | 100 |
| État | Badge "Actif" (vert) |

## 6. CARTE CONNEXION SIP (511x220px)

### Titre
"Connexion SIP"

### Champs

| Champ | Valeur |
|-------|--------|
| Serveur SIP | sip.ovh.net:5060 |
| Identifiant SIP | trunk-abc123@sip.ovh.net |
| Protocole | UDP / TCP / TLS |
| Codecs | G.711, G.729, Opus |

### Liens
- "Voir les identifiants" (text-primary)
- "Configurer" (text-primary)

## 7. CARTE STATISTIQUES TEMPS RÉEL (1036x130px)

### Titre
"Statistiques temps réel"

### Métriques

| Métrique | Valeur | Détail |
|----------|--------|--------|
| Appels en cours | 12 | / 100 canaux |
| Appels entrants | 8 | - |
| Appels sortants | 4 | - |

## 8. CARTE CONSOMMATION DU MOIS (505x160px)

### Titre
"Consommation du mois"

### Métriques

| Métrique | Valeur |
|----------|--------|
| Appels sortants | 2,547 |
| Durée totale | 127h 23min |
| Coût estimé | 456,78€ |

### Lien
"Voir le détail" (text-primary)

## 9. CARTE ACTIONS RAPIDES (511x160px)

### Titre
"Actions rapides"

### Actions (boutons 230x40px)
- "Tableau de bord CDR"
- "Configurer le routage"

## 10. BANNIÈRE INFO (1036x50px)

- Background: #DBEAFE (info)
- Texte: "Carrier SIP permet d'interconnecter votre infrastructure télécom avec le réseau OVHcloud via un trunk SIP dédié."

## 11. APIS & ENDPOINTS

```
# Informations trunk
GET /telephony/{billingAccount}/carrierSip/{serviceName}
→ {
  serviceName: "trunk-abc123",
  description: "Trunk Principal",
  maxChannels: 100,
  status: "active"
}

# Connexion SIP
GET /telephony/{billingAccount}/carrierSip/{serviceName}/sip
→ {
  server: "sip.ovh.net",
  port: 5060,
  username: "trunk-abc123@sip.ovh.net",
  protocols: ["UDP", "TCP", "TLS"],
  codecs: ["G.711", "G.729", "Opus"]
}

# Statistiques temps réel
GET /telephony/{billingAccount}/carrierSip/{serviceName}/realtime
→ {
  currentCalls: 12,
  incomingCalls: 8,
  outgoingCalls: 4
}

# Consommation mensuelle
GET /telephony/{billingAccount}/carrierSip/{serviceName}/consumption
Query: { month: "2025-12" }
→ {
  outgoingCalls: 2547,
  totalDuration: 458580,
  estimatedCost: 456.78
}
```

## 12. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| tab_general | Général |
| card_info | Informations trunk |
| field_id | Identifiant |
| field_description | Description |
| field_channels | Canaux |
| field_status | État |
| status_active | Actif |
| card_sip | Connexion SIP |
| field_server | Serveur SIP |
| field_sip_id | Identifiant SIP |
| field_protocol | Protocole |
| field_codecs | Codecs |
| link_credentials | Voir les identifiants |
| link_configure | Configurer |
| card_realtime | Statistiques temps réel |
| metric_current_calls | Appels en cours |
| metric_incoming | Appels entrants |
| metric_outgoing | Appels sortants |
| card_consumption | Consommation du mois |
| metric_calls | Appels sortants |
| metric_duration | Durée totale |
| metric_cost | Coût estimé |
| link_details | Voir le détail |
| card_actions | Actions rapides |
| action_cdr | Tableau de bord CDR |
| action_routing | Configurer le routage |
| banner_info | Carrier SIP permet d'interconnecter votre infrastructure télécom avec le réseau OVHcloud via un trunk SIP dédié. |
