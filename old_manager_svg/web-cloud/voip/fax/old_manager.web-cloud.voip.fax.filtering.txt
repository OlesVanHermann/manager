# Cahier des Charges : web-cloud/voip/fax - Filtering

## 1. VUE D'ENSEMBLE

**Type:** Page configuration avec tableau
**Fonction:** Configurer le filtrage des fax entrants
**Contexte:** Blocage ou autorisation de numéros

## 2. NAVIGATION

### Breadcrumb
Télécom > Groupe VoIP > Fax {numéro} > Gestion du fax > Filtrage de fax

### Retour
← Gestion du fax

## 3. HEADER

- Titre: "Filtrage des fax"

## 4. SECTION MODE DE FILTRAGE (1120x80px)

### Titre
"Mode de filtrage :"

### Options radio

| Option | Description |
|--------|-------------|
| Aucun filtrage (sélectionné) | Tous les fax sont acceptés |
| Liste blanche | Seuls les numéros listés sont acceptés |
| Liste noire | Les numéros listés sont rejetés |

### Note explicative
"Aucun filtrage : tous les fax sont acceptés. Liste blanche : seuls les numéros listés sont acceptés. Liste noire : les numéros listés sont rejetés."

## 5. SECTION RÈGLES DE FILTRAGE (1120x340px)

### Header
- Titre: "Règles de filtrage"
- Bouton: "+ Ajouter une règle" (btn-primary, 180x32px)

### Tableau

| Colonne | Largeur | Description |
|---------|---------|-------------|
| Numéro | 380px | Numéro de téléphone |
| Type | 300px | Liste blanche / Liste noire |
| Actions | 200px | Supprimer |

### État vide
- Background: #EFF6FF
- Texte: "Aucune règle de filtrage configurée."

## 6. MODES DE FILTRAGE

| Mode | Code | Comportement |
|------|------|--------------|
| Aucun | none | Tout accepter |
| Liste blanche | whitelist | N'accepter que les numéros listés |
| Liste noire | blacklist | Rejeter les numéros listés |

## 7. APIS & ENDPOINTS

```
# Obtenir la configuration de filtrage
GET /telephony/{billingAccount}/fax/{serviceName}/filtering
→ {
  mode: "none",  // none | whitelist | blacklist
  rules: []
}

# Modifier le mode de filtrage
PUT /telephony/{billingAccount}/fax/{serviceName}/filtering
Body: { mode: "blacklist" }

# Lister les règles
GET /telephony/{billingAccount}/fax/{serviceName}/filtering/rules
→ [{ id, number: "+33123456789", type: "blacklist" }]

# Ajouter une règle
POST /telephony/{billingAccount}/fax/{serviceName}/filtering/rules
Body: { number: "+33123456789", type: "blacklist" }

# Supprimer une règle
DELETE /telephony/{billingAccount}/fax/{serviceName}/filtering/rules/{ruleId}
```

## 8. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Filtrage des fax |
| back_link | Gestion du fax |
| section_mode | Mode de filtrage : |
| mode_none | Aucun filtrage |
| mode_whitelist | Liste blanche |
| mode_blacklist | Liste noire |
| mode_description | Aucun filtrage : tous les fax sont acceptés. Liste blanche : seuls les numéros listés sont acceptés. Liste noire : les numéros listés sont rejetés. |
| section_rules | Règles de filtrage |
| btn_add_rule | + Ajouter une règle |
| col_number | Numéro |
| col_type | Type |
| col_actions | Actions |
| action_delete | Supprimer |
| empty_state | Aucune règle de filtrage configurée. |
