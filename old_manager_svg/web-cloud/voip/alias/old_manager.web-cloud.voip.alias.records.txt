# Cahier des Charges : web-cloud/voip/alias - Records

## 1. VUE D'ENSEMBLE

**Type:** Page configuration + datagrid avec sélection multiple
**Fonction:** Gérer les enregistrements d'appels de la file
**Contexte:** Configuration file d'appels du numéro alias

## 2. NAVIGATION

### Breadcrumb
Télécom › Groupe VoIP › Numéro alias 0033972XXXXXX › Enregistrements

## 3. HEADER

- Titre: "Gestion des enregistrements"
- Sous-titre: "Retrouvez l'ensemble des appels enregistrés de votre file d'appels."
- Note: "Ces appels sont automatiquement supprimés après 60 jours." (text-muted)

## 4. SECTION ACTIVATION (800x280px)

### Titre
"Activation de l'enregistrement"

### Champ Enregistrement des appels (toggle buttons)
- Label: "Enregistrement des appels"
- Toggle: "Activé" (sélectionné, btn-primary) | "Désactivé" (btn-outline)
- Note: "En activant cette option, vous acceptez les conditions particulières d'utilisation du service"

### Champ Non-enregistrement (toggle buttons)
- Label: "Demande de non enregistrement d'appel"
- Toggle: "Activée" (btn-outline) | "Désactivée" (sélectionné, btn-primary)
- Note: "En activant cette option, l'appelant peut refuser d'être enregistré"

### Actions
- Bouton "Appliquer" (disabled, background #E5E7EB)
- Lien "Annuler" (text-link)

## 5. SECTION LISTE DES ENREGISTREMENTS

### Titre
"Liste des enregistrements"

### Toolbar
- Dropdown: "Actions ▼" (120x36px)
- Texte: "2 éléments sélectionnés"

### Menu Actions (dropdown ouvert)
- Supprimer les éléments
- Télécharger les enregistrements

## 6. DATAGRID (800x220px)

### Colonnes

| Colonne | Largeur | Contenu |
|---------|---------|---------|
| ☑ | 40px | Checkbox sélection |
| Début de l'appel | 160px | Date + heure |
| Fin de l'appel | 160px | Date + heure |
| Numéro appelant | 180px | Format international |
| Agent | 140px | Nom du poste |
| Actions | 60px | Menu ⋮ |

### Exemples données

| Début | Fin | Appelant | Agent |
|-------|-----|----------|-------|
| ☑ 28/12/2024 10:32 | 28/12/2024 10:45 | +33 6 12 34 56 78 | Poste 7001 |
| ☑ 28/12/2024 09:15 | 28/12/2024 09:28 | +33 1 23 45 67 89 | Poste 7002 |
| ☐ 27/12/2024 16:42 | 27/12/2024 16:55 | +33 9 87 65 43 21 | Poste 7001 |

### Ligne sélectionnée
- Background: #EFF6FF

### Pagination
- Texte: "Affichage 1-3 sur 25"
- Boutons: ‹ [1] 2 ›

## 7. ACTIONS ENREGISTREMENT

| Action | Description |
|--------|-------------|
| Écouter | Lecture de l'enregistrement |
| Télécharger | Download du fichier audio |
| Supprimer | Suppression de l'enregistrement |

## 8. APIS & ENDPOINTS

```
# Configuration enregistrement
GET /telephony/{billingAccount}/easyHunting/{serviceName}/record
→ recording: boolean, askForRecording: boolean

PUT /telephony/{billingAccount}/easyHunting/{serviceName}/record
Body: {
  recording: true,
  askForRecording: false
}

# Lister les enregistrements
GET /telephony/{billingAccount}/easyHunting/{serviceName}/records
→ Liste paginée des enregistrements

# Détails enregistrement
GET /telephony/{billingAccount}/easyHunting/{serviceName}/records/{recordId}
→ startDate, endDate, caller, agent, duration, fileUrl

# Télécharger enregistrement
GET /telephony/{billingAccount}/easyHunting/{serviceName}/records/{recordId}/download
→ URL de téléchargement

# Supprimer enregistrement(s)
DELETE /telephony/{billingAccount}/easyHunting/{serviceName}/records/{recordId}
POST /telephony/{billingAccount}/easyHunting/{serviceName}/records/batchDelete
Body: { ids: [1, 2, 3] }
```

## 9. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Gestion des enregistrements |
| page_desc | Retrouvez l'ensemble des appels enregistrés de votre file d'appels. |
| page_note | Ces appels sont automatiquement supprimés après 60 jours. |
| section_activation | Activation de l'enregistrement |
| field_recording | Enregistrement des appels |
| recording_note | En activant cette option, vous acceptez les conditions particulières d'utilisation du service |
| field_ask_recording | Demande de non enregistrement d'appel |
| ask_note | En activant cette option, l'appelant peut refuser d'être enregistré |
| btn_enabled | Activé |
| btn_disabled | Désactivé |
| btn_apply | Appliquer |
| link_cancel | Annuler |
| section_list | Liste des enregistrements |
| dropdown_actions | Actions |
| selected_count | {n} éléments sélectionnés |
| action_delete | Supprimer les éléments |
| action_download | Télécharger les enregistrements |
| col_start | Début de l'appel |
| col_end | Fin de l'appel |
| col_caller | Numéro appelant |
| col_agent | Agent |
| col_actions | Actions |
| pagination | Affichage {start}-{end} sur {total} |
