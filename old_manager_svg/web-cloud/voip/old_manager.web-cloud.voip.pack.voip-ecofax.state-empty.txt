================================================================================
CAHIER DES CHARGES - old_manager.telecom.pack.voip-ecofax.state-empty
================================================================================
Genere le: 2025-12-28
Source: old_manager_web-cloud_telecom_fax.tar
NAV1: telecom
NAV2: pack
Type: Etat vide (empty state) du slot voip-ecofax

================================================================================
1. RESUME EXECUTIF
================================================================================

Affichage de l'etat vide lorsqu'aucun service EcoFax n'est actif
dans un pack xDSL. Propose un bouton d'activation si des slots
sont disponibles.

Perimetre fonctionnel:
- Message indiquant l'absence de service
- Lien vers activation si slots disponibles

Users cibles: Clients pack xDSL sans EcoFax actif

================================================================================
2. ARCHITECTURE
================================================================================

Fichiers sources:
- packages/manager/apps/telecom/src/app/telecom/pack/slots/voipEcoFax/
  - voipEcoFax.controller.js
  - voipEcoFax.html
  - index.js

Le state-empty est un etat conditionnel du meme composant voipEcoFax.

================================================================================
3. PAGES & NAVIGATION
================================================================================

Contexte: Slot dans la page pack xDSL
Condition d'affichage: services.length == 0

Layout (oui-tile):
+------------------------------------------+
| ECOFAX                                   |
+------------------------------------------+
| [oui-tile__body]                         |
|   "Vous n'avez pas de service"           |
|                                          |
| [Si available > 0]                       |
|   [Activer un service]                   |
+------------------------------------------+

Navigation:
- Bouton activation -> telecom.packs.pack.voipEcoFax-activation

================================================================================
4. COMPOSANTS UI
================================================================================

Composants utilises:
- oui-tile : Conteneur tuile
- oui-tile__body : Corps de tuile
- oui-tile__definition : Zone texte
- oui-spinner : Chargement
- btn btn-default : Bouton activation

================================================================================
5. APIs & DONNEES
================================================================================

APIs appelees au chargement:
| Methode | Endpoint | Description |
|---------|----------|-------------|
| GET | /pack/xdsl/{packId}/voipEcofax | Liste services ecofax |
| GET | /pack/xdsl/{packId}/voipBillingAccount | Compte facturation |

Services:
- OvhApiPackXdslVoipEcofax.v6().query({ packId })
- OvhApiPackXdslVoipBillingAccount.v6().query({ packId })

Donnees:
- services: array (vide pour cet etat)
- billingAccount: string (premier compte)
- service.available: number (slots disponibles)

================================================================================
6. TRADUCTIONS (FR)
================================================================================

you_dont_have_any_service: "Vous n'avez pas de service"
common_order_activate_service: "Activer un service"
ecofax_pro_loading_error: "Erreur lors du chargement des services EcoFax"

================================================================================
7. REGLES METIER
================================================================================

Conditions d'affichage:
- loaders.services = true : Affiche spinner
- loaders.services = false ET services.length == 0 : Affiche message vide
- loaders.services = false ET services.length > 0 : Affiche liste services

Bouton activation:
- Visible uniquement si service.available > 0
- Redirige vers la page d'activation

Gestion erreurs:
- Toast d'erreur si echec chargement API
