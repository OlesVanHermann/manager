================================================================================
CAHIER DES CHARGES - old_manager.telecom.billingAccount.order-alias
================================================================================
Page : Commande de numeros alias
NAV1 : telecom
NAV2 : billingAccount
================================================================================

## 1. RESUME EXECUTIF

Wizard de commande de numeros alias pour un groupe de facturation telephonique.
4 types : geographiques (01-05), non-geographiques (09), speciaux SVA (08),
internationaux. Processus en etapes : choix type, quantite, zone, coordonnees,
retractation, validation.

Utilisateurs cibles : Administrateurs telephonie VoIP
Prerequis : Groupe facturation actif, KYC valide pour SVA

--------------------------------------------------------------------------------
## 2. ARCHITECTURE
--------------------------------------------------------------------------------

Fichiers sources :
- Controller : billingAccount/orderAlias/order-alias.controller.js
- Service : billingAccount/orderAlias/order-alias.service.js
- Constantes : billingAccount/orderAlias/order-alias.constant.js
- Template : billingAccount/orderAlias/order-alias-main.html

Sous-modules par type :
- geographical/ : Numeros geographiques
- nonGeographical/ : Numeros non-geo
- special/ : Numeros surtaxes
- international/ : Numeros etrangers

Composants partages :
- coordinate/ : Saisie coordonnees titulaire
- identity/ : Identite particulier/entreprise
- numberChoice/ : Selection numero specifique
- retractation/ : Droit de retractation

--------------------------------------------------------------------------------
## 3. PAGES & NAVIGATION
--------------------------------------------------------------------------------

Route : telecom.telephony.billingAccount.orderAlias
URL : /telecom/telephony/{billingAccount}/orderAlias

Sous-routes :
- .geographical
- .nonGeographical
- .special
- .international

Breadcrumb : Telecom > Telephonie > [Groupe] > Commander un numero

--------------------------------------------------------------------------------
## 4. COMPOSANTS UI
--------------------------------------------------------------------------------

Page selection type :
- 4 cartes : Geographique, Non-geo, Special, International
- Prix a partir de, description

Wizard par type :
- Etape 1 : Quantite + Zone
- Etape 2 : Choix numero (standard/premium)
- Etape 3 : Coordonnees titulaire
- Etape 4 : Identite
- Etape 5 : Retractation
- Etape 6 : Validation

--------------------------------------------------------------------------------
## 5. APIs & DONNEES
--------------------------------------------------------------------------------

GET /me -> country, ovhSubsidiary, legalform

GET /telephony/{billingAccount}/number/prices (2API)
  -> Prix par type et range

GET /telephony/number/specificNumbers
  Params : { country, type, zone, range }
  -> { premium: [...], common: [...] }

POST /order/telephony/{billingAccount}/numberGeographic
POST /order/telephony/{billingAccount}/numberNogeographic
POST /order/telephony/{billingAccount}/numberSpecial

--------------------------------------------------------------------------------
## 6. TRADUCTIONS (FR)
--------------------------------------------------------------------------------

telephony_order_title : "Commander un numero"
telephony_order_geographical_title : "Numeros geographiques"
telephony_order_nogeographical_title : "Numeros non-geographiques"
telephony_order_special_title : "Numeros a valeur ajoutee"
telephony_order_international_title : "Numeros internationaux"
telephony_order_number_type_common_label : "Numero standard"
telephony_order_number_type_premium_label : "Numero facile a retenir"
telephony_order_confirm : "Commandez ({{total}} TTC)"

--------------------------------------------------------------------------------
## 7. REGLES METIER
--------------------------------------------------------------------------------

Types : geographical, nogeographical, special, international
Ranges : common (standard), specific/premium

Condition SVA : isSvaWalletValid si isSvaWalletFeatureAvailable

Legalform : individual (particulier), corporation (entreprise+SIRET)

Publication annuaire : Option displayUniversalDirectory

================================================================================
FIN DU CAHIER DES CHARGES
================================================================================
