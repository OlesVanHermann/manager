# Cahier des Charges : web-cloud/voip/billingAccount/billing-bill

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.web-cloud.voip.billingAccount.billing-bill.svg |
| **NAV1** | web-cloud |
| **NAV2** | voip |
| **Type** | Page listing |
| **Description** | Page des relev√©s de consommation du groupe de facturation |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page avec LEFT PANEL |
| LEFT PANEL | 280px (avec liste groupes) |
| RIGHT PANEL | 1096√ó765px |

---

## 3. LEFT PANEL

### 3.1 Groupe s√©lectionn√©

| Propri√©t√© | Valeur |
|-----------|--------|
| Background | #E8F0FE |
| Nom | ab12345-ovh-1 |
| Description | Groupe principal |
| Compteur | 3 groupes |

---

## 4. RIGHT PANEL

### 4.1 Retour

| Propri√©t√© | Valeur |
|-----------|--------|
| Lien | ‚Üê Retour √† la facturation |
| Couleur | #0050D7 |

### 4.2 Titre page

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Relev√© de consommation |
| Font-size | 18px |
| Font-weight | 600 |

---

## 5. DATAGRID RELEV√âS

### 5.1 Card

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 1056√ó400px |
| Titre | Vos relev√©s |
| S√©parateur | Ligne sous le titre |

### 5.2 Header tableau

| Propri√©t√© | Valeur |
|-----------|--------|
| Background | #F9FAFB |
| Hauteur | 35px |

### 5.3 Colonnes

| Colonne | Position | Tri |
|---------|----------|-----|
| Date | x: 40 | ‚Üì (descendant) |
| Montant HT | x: 300 | - |
| D√©j√† r√©gl√© | x: 550 | - |
| Actions | x: 980 | - |

### 5.4 Style lignes

| Propri√©t√© | Valeur |
|-----------|--------|
| Hauteur ligne | 45px |
| Ligne paire | Background #F9FAFB |
| Ligne impaire | Background #FFFFFF |
| S√©parateur | Ligne 1px #E5E7EB |

### 5.5 Donn√©es exemple

| Date | Montant HT | D√©j√† r√©gl√© |
|------|-----------|------------|
| 01/12/2025 | 45,00 ‚Ç¨ | Oui (vert) |
| 01/11/2025 | 52,30 ‚Ç¨ | Oui (vert) |
| 01/10/2025 | 38,75 ‚Ç¨ | Oui (vert) |

---

## 6. MENU ACTIONS (Dropdown)

### 6.1 Bouton d√©clencheur

| Propri√©t√© | Valeur |
|-----------|--------|
| Ic√¥ne | ‚ãÆ (trois points verticaux) |
| Couleur | #6B7280 (hover: #0050D7) |

### 6.2 Menu d√©roulant (ouvert)

| Propri√©t√© | Valeur |
|-----------|--------|
| Dimensions | 280√ó100px |
| Border radius | 6px |
| Shadow | drop-shadow |
| Position | Gauche du bouton |

### 6.3 Options du menu

| Ic√¥ne | Action |
|-------|--------|
| üìÑ | Relev√© de consommation au format PDF |
| üìä | Listing de vos appels √©mis au format CSV |
| üìä | Listing de vos appels re√ßus au format CSV |

### 6.4 Style des options

| Propri√©t√© | Valeur |
|-----------|--------|
| Hauteur option | ~30px |
| S√©parateur | Ligne 1px #E5E7EB |
| Font-size | 12px |
| Padding | 10px |

---

## 7. PAGINATION

### 7.1 Compteur

| Propri√©t√© | Valeur |
|-----------|--------|
| Texte | Affichage 1-3 sur 12 |
| Position | Gauche |
| Couleur | #6B7280 |

---

## 8. APIS & ENDPOINTS

### 8.1 Lister les relev√©s de consommation

```
GET /telephony/{billingAccount}/historyConsumption
```

Response:
```json
{
  "consumptions": [
    {
      "id": "cons-2025-12",
      "date": "2025-12-01",
      "amountExcludingTax": 45.00,
      "paid": true
    }
  ],
  "total": 12
}
```

### 8.2 T√©l√©charger le relev√© PDF

```
GET /telephony/{billingAccount}/historyConsumption/{consumptionId}/document
```

Response: Binary PDF file

### 8.3 Exporter les appels √©mis (CSV)

```
GET /telephony/{billingAccount}/historyConsumption/{consumptionId}/outgoingCalls
```

Response: Binary CSV file

### 8.4 Exporter les appels re√ßus (CSV)

```
GET /telephony/{billingAccount}/historyConsumption/{consumptionId}/incomingCalls
```

Response: Binary CSV file

---

## 9. TRADUCTIONS (i18n)

| Cl√© | Valeur FR |
|-----|-----------|
| `voip_consumption_back` | Retour √† la facturation |
| `voip_consumption_title` | Relev√© de consommation |
| `voip_consumption_list_title` | Vos relev√©s |
| `voip_consumption_col_date` | Date |
| `voip_consumption_col_amount` | Montant HT |
| `voip_consumption_col_paid` | D√©j√† r√©gl√© |
| `voip_consumption_col_actions` | Actions |
| `voip_consumption_paid_yes` | Oui |
| `voip_consumption_paid_no` | Non |
| `voip_consumption_action_pdf` | Relev√© de consommation au format PDF |
| `voip_consumption_action_csv_out` | Listing de vos appels √©mis au format CSV |
| `voip_consumption_action_csv_in` | Listing de vos appels re√ßus au format CSV |
| `voip_consumption_pagination` | Affichage {start}-{end} sur {total} |
