# Cahier des Charges : web-cloud/voip/line - Restrictions

## 1. VUE D'ENSEMBLE

**Type:** Page formulaire avec 2 sections
**Fonction:** Configurer les restrictions IP de la ligne et du compte
**Contexte:** S√©curit√© de la ligne VoIP

## 2. NAVIGATION

### Retour
< Retour √† la ligne

## 3. HEADER

- Titre: "Restrictions IP"

## 4. SECTION RESTRICTIONS LIGNE (900x300px)

### Titre
"Restrictions IP de la ligne"

### Banni√®re info (840x40px)
- Background: #EFF6FF
- Border: #BFDBFE
- Texte: "Seules les adresses IP autoris√©es pourront utiliser cette ligne SIP."

### Liste IP autoris√©es
- Label: "Adresses IP autoris√©es"

| IP | Action |
|----|--------|
| 192.168.1.0/24 | üóë Supprimer |
| 10.0.0.1 | üóë Supprimer |

- Input: 350x40px par ligne
- Bouton supprimer: 35x25px

### Bouton ajout
"+ Ajouter une IP" (btn-outline, 150x36px)

### Lien bulk
"Appliquer √† plusieurs lignes..." (text-link)

### Bouton validation
"Appliquer" (btn-primary, 100x36px)

## 5. SECTION RESTRICTIONS COMPTE (900x280px)

### Titre
"Restrictions IP du compte"

### Banni√®re info (840x40px)
- Background: #EFF6FF
- Texte: "Ces restrictions s'appliquent √† toutes les lignes du groupe."

### Liste IP autoris√©es
- Label: "Adresses IP autoris√©es"
- √âtat vide: "Aucune restriction configur√©e"

### Bouton ajout
"+ Ajouter une IP" (btn-outline, 150x36px)

### Bouton validation
"Appliquer" (btn-primary, 100x36px)

## 6. FORMATS IP ACCEPT√âS

| Format | Exemple | Description |
|--------|---------|-------------|
| IPv4 simple | 192.168.1.1 | Adresse unique |
| IPv4 CIDR | 192.168.1.0/24 | Plage r√©seau |
| IPv6 | 2001:db8::1 | Adresse IPv6 |

## 7. APIS & ENDPOINTS

```
# Restrictions de la ligne
GET /telephony/{billingAccount}/line/{serviceName}/restrictions
‚Üí allowedIps: ["192.168.1.0/24", "10.0.0.1"]

PUT /telephony/{billingAccount}/line/{serviceName}/restrictions
Body: {
  allowedIps: ["192.168.1.0/24", "10.0.0.1"]
}

# Restrictions du compte (groupe)
GET /telephony/{billingAccount}/restrictions
PUT /telephony/{billingAccount}/restrictions
Body: {
  allowedIps: [...]
}

# Appliquer √† plusieurs lignes
POST /telephony/{billingAccount}/line/batchRestrictions
Body: {
  serviceNames: ["line1", "line2"],
  allowedIps: [...]
}
```

## 8. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| page_title | Restrictions IP |
| back_link | Retour √† la ligne |
| section_line | Restrictions IP de la ligne |
| info_line | Seules les adresses IP autoris√©es pourront utiliser cette ligne SIP. |
| section_account | Restrictions IP du compte |
| info_account | Ces restrictions s'appliquent √† toutes les lignes du groupe. |
| field_allowed_ips | Adresses IP autoris√©es |
| empty_state | Aucune restriction configur√©e |
| btn_add_ip | + Ajouter une IP |
| btn_delete | Supprimer |
| link_bulk | Appliquer √† plusieurs lignes... |
| btn_apply | Appliquer |
