# Cahier des Charges : web-cloud/voip/line - External Number

## 1. VUE D'ENSEMBLE

**Type:** Page deux colonnes avec liste et formulaire
**Fonction:** G√©rer les num√©ros externes pr√©sent√©s lors des appels sortants
**Contexte:** Configuration de la ligne VoIP

## 2. NAVIGATION

### Breadcrumb
T√©l√©com ‚Ä∫ Ligne VoIP

### Retour
< Appels

## 3. HEADER

- Titre: "Num√©ros externes pr√©sent√©s"

## 4. LAYOUT DEUX COLONNES

### Colonne gauche - Liste (500x500px)

#### Titre
"Num√©ros pr√©sent√©s"

#### Datagrid

| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Num√©ro | 185px | Format international |
| Statut | 180px | Badge color√© |
| Action | 85px | üóëÔ∏è |

#### Statuts

| Statut | Couleur texte |
|--------|---------------|
| Activ√© | #16A34A (vert) |
| En attente | #92400E (orange) |
| Refus√© | #DC2626 (rouge) |

#### Exemples donn√©es

| Num√©ro | Statut |
|--------|--------|
| +33 6 12 34 56 78 | Activ√© |
| +33 7 98 76 54 32 | En attente |
| +33 1 23 45 67 89 | Refus√© |

#### Note limite
"Maximum 3 num√©ros externes (lignes simultan√©es)"

### Colonne droite - Formulaire (500x500px)

#### Titre
"Ajouter un num√©ro"

#### Banni√®re info (450x150px)
- Background: #EFF6FF
- Texte: "Les num√©ros externes vous permettent de pr√©senter un num√©ro externe comme appelant lors d'appels sortants."
- "Vous pouvez ajouter jusqu'√† 3 num√©ros (selon vos lignes simultan√©es)."
- "Chaque num√©ro doit √™tre valid√© par un appel de v√©rification."
- "Seuls les num√©ros avec le m√™me indicatif pays sont accept√©s."

#### Champ Num√©ro
- Label: "Num√©ro √† ajouter"
- Input: 350x45px
- Placeholder: "+33..."

#### Checkbox validation
- ‚òê "Validation automatique" (i)

#### Actions
- Bouton "Annuler" (btn-outline, 80x40px)
- Bouton "Ajouter" (btn-primary, 100x40px)

#### Banni√®re succ√®s (450x80px)
- Background: #DCFCE7
- Border: #16A34A
- Titre: "Num√©ro ajout√© avec succ√®s !"
- Texte: "Code de validation : 1234"
- Note: "Appelez le +33 1 XX XX XX XX et entrez ce code."

## 5. PROCESSUS DE VALIDATION

1. Ajout du num√©ro externe
2. G√©n√©ration d'un code de validation
3. Appel vers un num√©ro de validation OVH
4. Saisie du code par DTMF
5. Activation du num√©ro

## 6. APIS & ENDPOINTS

```
# Lister les num√©ros externes
GET /telephony/{billingAccount}/line/{serviceName}/externalNumber
‚Üí Liste des num√©ros avec statuts

# Ajouter un num√©ro externe
POST /telephony/{billingAccount}/line/{serviceName}/externalNumber
Body: {
  number: "+33612345678",
  autoValidate: false
}
‚Üí validationCode, validationNumber

# Supprimer un num√©ro externe
DELETE /telephony/{billingAccount}/line/{serviceName}/externalNumber/{number}

# Valider manuellement
POST /telephony/{billingAccount}/line/{serviceName}/externalNumber/{number}/validate
Body: { code: "1234" }
```

## 7. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| page_title | Num√©ros externes pr√©sent√©s |
| section_list | Num√©ros pr√©sent√©s |
| section_add | Ajouter un num√©ro |
| col_number | Num√©ro |
| col_status | Statut |
| col_action | Action |
| status_active | Activ√© |
| status_pending | En attente |
| status_refused | Refus√© |
| limit_note | Maximum 3 num√©ros externes (lignes simultan√©es) |
| info_line1 | Les num√©ros externes vous permettent de pr√©senter un num√©ro externe comme appelant lors d'appels sortants. |
| info_line2 | Vous pouvez ajouter jusqu'√† 3 num√©ros (selon vos lignes simultan√©es). |
| info_line3 | Chaque num√©ro doit √™tre valid√© par un appel de v√©rification. |
| info_line4 | Seuls les num√©ros avec le m√™me indicatif pays sont accept√©s. |
| field_number | Num√©ro √† ajouter |
| checkbox_auto | Validation automatique |
| btn_cancel | Annuler |
| btn_add | Ajouter |
| success_title | Num√©ro ajout√© avec succ√®s ! |
| success_code | Code de validation : {code} |
| success_call | Appelez le {number} et entrez ce code. |
