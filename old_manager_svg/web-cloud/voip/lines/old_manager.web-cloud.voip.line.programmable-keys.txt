# Cahier des Charges : web-cloud/voip/line - Programmable Keys

## 1. VUE D'ENSEMBLE

**Type:** Page datagrid éditable
**Fonction:** Configurer les touches programmables du téléphone
**Contexte:** Configuration du téléphone SIP de la ligne VoIP

## 2. NAVIGATION

### Breadcrumb
Télécom › Ligne VoIP

### Retour
< Téléphone

## 3. HEADER

- Titre: "Touches programmables - Cisco SPA504G"
- Note: Le modèle du téléphone est affiché dans le titre

## 4. LIEN BULK ACTION

"Appliquer à plusieurs lignes..." (text-link)

## 5. DATAGRID (1050x435px)

### Colonnes

| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Touche | 175px | Touche 1, Touche 2... |
| Fonction | 250px | Type de fonction |
| Paramètre | 250px | Numéro ou - |
| Label personnalisé | 250px | Texte affiché ou - |
| Actions | 125px | Bouton "Éditer" |

### Exemples données

| Touche | Fonction | Paramètre | Label |
|--------|----------|-----------|-------|
| Touche 1 | Ligne | - | - |
| Touche 2 | Appel rapide | +33 1 72 10 00 50 | Support |
| Touche 3 | BLF (Supervision) | 0033972101234 | Jean D. |
| Touche 4 | Transfert | - | Transfert |
| Touche 5 | Ne pas déranger | - | DND |
| Touche 6 | Non configuré | - | - |

### Pagination
- Texte: "1-6 sur 12 touches"
- Boutons: < [1] 2 >

## 6. FONCTIONS DISPONIBLES

| Fonction | Code | Description |
|----------|------|-------------|
| Ligne | line | Ligne principale |
| Appel rapide | speedDial | Numéro en composition rapide |
| BLF | blf | Supervision d'une ligne (LED) |
| Transfert | transfer | Bouton transfert d'appel |
| Ne pas déranger | dnd | Activer/désactiver DND |
| Intercom | intercom | Appel interphone |
| Parking | park | Parcage d'appel |
| Non configuré | none | Touche inactive |

## 7. APIS & ENDPOINTS

```
# Lister les touches programmables
GET /telephony/{billingAccount}/line/{serviceName}/phone/functionKey
→ Liste des touches avec leur configuration

# Détails touche
GET /telephony/{billingAccount}/line/{serviceName}/phone/functionKey/{keyNum}
→ keyNum, function, parameter, label

# Modifier une touche
PUT /telephony/{billingAccount}/line/{serviceName}/phone/functionKey/{keyNum}
Body: {
  function: "speedDial",
  parameter: "+33172100050",
  label: "Support"
}

# Réinitialiser une touche
DELETE /telephony/{billingAccount}/line/{serviceName}/phone/functionKey/{keyNum}

# Appliquer à plusieurs lignes
POST /telephony/{billingAccount}/line/batchFunctionKey
Body: {
  serviceNames: ["line1", "line2"],
  keyNum: 2,
  function: "speedDial",
  parameter: "+33172100050"
}
```

## 8. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Touches programmables - {phoneModel} |
| link_bulk | Appliquer à plusieurs lignes... |
| col_key | Touche |
| col_function | Fonction |
| col_parameter | Paramètre |
| col_label | Label personnalisé |
| col_actions | Actions |
| action_edit | Éditer |
| func_line | Ligne |
| func_speed_dial | Appel rapide |
| func_blf | BLF (Supervision) |
| func_transfer | Transfert |
| func_dnd | Ne pas déranger |
| func_intercom | Intercom |
| func_park | Parking |
| func_none | Non configuré |
| pagination | {start}-{end} sur {total} touches |
