# Cahier des Charges : telecom/telephony - Lignes du groupe

## 1. RESUME EXECUTIF

### Perimetre
Gestion des lignes rattachees au groupe VoIP.

### Objectif fonctionnel
- Visualiser les lignes du groupe
- Attacher des lignes depuis un autre groupe
- Selectionner les services a transferer

---

## 2. LAYOUT

### Structure avec carte info + tableau + selection

---

## 3. COMPOSANTS UI

### Lien retour
| Element | Description |
|---------|-------------|
| Link | Retour a l'administration |

### Titre
| Element | Description |
|---------|-------------|
| Titre | Lignes du groupe |

### Carte Informations
| Element | Description |
|---------|-------------|
| Message | Ce groupe contient X lignes et Y numeros alias |

### Section Selection groupe source
| Element | Description |
|---------|-------------|
| Titre | Selectionner un groupe source |
| Description | Choisissez le groupe depuis lequel... |

### Tableau groupes
| Colonne | Description |
|---------|-------------|
| Groupe de telephonie | Nom du groupe |
| Identifiant | ID du groupe |

### Note groupe actuel
| Element | Description |
|---------|-------------|
| Style | Grise, non cliquable |
| Label | (groupe actuel) |

### Section Services a attacher
| Element | Description |
|---------|-------------|
| Titre | Services a attacher depuis "Groupe" |
| Description | Selectionnez les services... |

### Liste checkboxes lignes
| Element | Description |
|---------|-------------|
| Checkbox | Selection de la ligne |
| Numero | +33 X XX XX XX XX |
| Description | Label de la ligne |

### Boutons
| Bouton | Type | Action |
|--------|------|--------|
| Attacher | Primary | Attache les lignes selectionnees |
| Choisir un autre | Default | Change de groupe source |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony
    Response: [billingAccount1, ...]

GET /telephony/{billingAccount}/line
    Response: [line1, line2, ...]

POST /telephony/{billingAccount}/line/{serviceName}/changeOfBillingAccount
    Body: { billingAccountDestination }
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "telephony_lines_group_title": "Lignes du groupe",
  "telephony_lines_group_info": "Ce groupe contient {{lines}} lignes et {{numbers}} numeros alias.",
  "telephony_lines_group_source": "Selectionner un groupe source",
  "telephony_lines_group_source_desc": "Choisissez le groupe depuis lequel vous souhaitez attacher des services.",
  "telephony_lines_group_attach": "Services a attacher depuis",
  "telephony_lines_group_select": "Selectionnez les services que vous souhaitez attacher a ce groupe.",
  "telephony_lines_group_submit": "Attacher",
  "telephony_lines_group_other": "Choisir un autre"
}
```

---

## 6. REGLES METIER

- Groupe actuel non selectionnable
- Transfert = changement de facturation
- Une ligne ne peut etre que dans un groupe
- Historique des transferts conserve
