# Cahier des Charges : telecom/alias - Numeros speciaux Configuration RSVA

## 1. RESUME EXECUTIF

### Perimetre
Configuration du service RSVA (Reversement sur Valeur Ajoutee).

### Objectif fonctionnel
- Configurer le code tarifaire
- Gerer la plage horaire
- Consulter les statistiques

---

## 2. LAYOUT

### Structure page avec configuration + stats

---

## 3. COMPOSANTS UI

### Header
| Element | Description |
|---------|-------------|
| Titre | Configuration RSVA |
| Numero | Numero surtaxe |
| Type | Typologie du numero |

### Code tarifaire
| Element | Description |
|---------|-------------|
| Actuel | Code tarifaire en cours |
| Planifie | Prochain changement |
| Liste | Codes disponibles |

### Types de codes
| Code | Description | Tarif/min |
|------|-------------|-----------|
| FR1 | Appel gratuit | 0.00 EUR |
| FR2 | Prix service | 0.06 EUR |
| FR3 | Prix service + | 0.15 EUR |
| FR4 | Premium | 0.50 EUR |

### Statistiques temps reel
| Metrique | Description |
|----------|-------------|
| Appels jour | Nombre aujourd'hui |
| Duree moyenne | Temps moyen/appel |
| CA journalier | Revenue du jour |

### Planification
| Champ | Description |
|-------|-------------|
| Date effet | Date changement |
| Nouveau code | Code a appliquer |

### Footer
| Bouton | Type | Action |
|--------|------|--------|
| Enregistrer | Primary | Applique |
| Annuler | Default | Annule |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/rsva/{serviceName}
GET /telephony/{billingAccount}/rsva/{serviceName}/currentRateCode
PUT /telephony/{billingAccount}/rsva/{serviceName}/currentRateCode
GET /telephony/{billingAccount}/rsva/{serviceName}/scheduledRateCode
POST /telephony/{billingAccount}/rsva/{serviceName}/scheduleRateCode
GET /telephony/{billingAccount}/rsva/{serviceName}/allowedRateCodes
```

### Modele RSVA
```typescript
interface TelephonyRsva {
  serviceName: string;
  typology: string;
  currentRateCode: string;
  scheduledRateCode?: string;
  scheduledRateDate?: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "alias_special_rsva_title": "Configuration RSVA",
  "alias_special_rsva_rate_code": "Code tarifaire",
  "alias_special_rsva_current": "Code actuel",
  "alias_special_rsva_scheduled": "Code planifie",
  "alias_special_rsva_typology": "Typologie",
  "alias_special_rsva_change": "Changer le code",
  "alias_special_rsva_schedule": "Planifier un changement"
}
```

---

## 6. REGLES METIER

- Changement de code: J+7 minimum
- Un seul changement planifie a la fois
- Code doit etre compatible avec typologie
- Verification ARCEP automatique
