# CAHIER DES CHARGES - old_manager.telecom.telephony.line-voicemail
# Module messagerie vocale (repondeur) d'une ligne

## 1. RESUME EXECUTIF

### Perimetre
Gestion de la messagerie vocale associee a une ligne SIP.

### Objectif fonctionnel
Configurer et gerer le repondeur: messages, annonces, options.

---

## 2. ARCHITECTURE

### Arborescence fichiers source
```
telecom/telephony/line/answer/
├── answer.module.js
├── default-voicemail/
├── management/
├── options/
├── password/
└── translations/
```

---

## 3. PAGES & NAVIGATION

### Route
- State: `telecom.telephony.billingAccount.line.dashboard.answer`
- URL: `/telephony/{billingAccount}/line/{serviceName}/answer`

### Actions disponibles
| Action | Description |
|--------|-------------|
| Messagerie par defaut | Choisir messagerie |
| Mot de passe | Modifier code acces |
| Configuration | Parametrer repondeur |
| Messages | Ecouter/gerer |

---

## 4. COMPOSANTS UI

### Datagrid Messages
| Colonne | Description |
|---------|-------------|
| Date | Date reception |
| Expediteur | Numero appelant |
| Duree | Duree message |
| Actions | Ecouter, telecharger, supprimer |

### Lecteur Audio
- Bouton lecture/pause
- Barre de progression

---

## 5. APIs & DONNEES

### Endpoints

```
GET /telephony/{billingAccount}/voicemail/{serviceName}/settings
PUT /telephony/{billingAccount}/voicemail/{serviceName}/settings
POST /telephony/{billingAccount}/voicemail/{serviceName}/settings/changePassword
```

```
GET /telephony/{billingAccount}/voicemail/{serviceName}/directories
GET /telephony/{billingAccount}/voicemail/{serviceName}/directories/{id}/download
DELETE /telephony/{billingAccount}/voicemail/{serviceName}/directories/{id}
```

---

## 6. TRADUCTIONS

### Cles i18n (FR)
| Cle | Valeur FR |
|-----|-----------|
| telephony_line_tab_answering_machine | Repondeur |
| telephony_line_answer_breadcrumb | Gestion du repondeur |
| telephony_line_answer_actions_line_voicemail_password | Mot de passe acces repondeur |
| telephony_line_answer_actions_line_voicemail_options | Configuration du repondeur |
| telephony_line_answer_actions_line_voicemail_management | Ecoute et gestion des messages |

---

## 7. REGLES METIER

### Mot de passe repondeur
- 4 chiffres minimum
- Requis pour acces telephonique

### Notification email
- Jusqu'a 5 adresses
- Format audio: WAV ou MP3
