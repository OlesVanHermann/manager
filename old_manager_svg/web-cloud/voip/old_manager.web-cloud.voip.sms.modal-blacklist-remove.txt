# Cahier des Charges : telecom/sms - Modal Retirer de la liste noire

## 1. RESUME EXECUTIF

### Perimetre
Modal de confirmation de retrait d'un numero de la liste noire.

### Objectif fonctionnel
- Retirer un numero de la liste noire
- Avertir des implications legales
- Confirmer le consentement

---

## 2. LAYOUT

### Structure modal avec warning + info

---

## 3. COMPOSANTS UI

### Modal Header
| Element | Description |
|---------|-------------|
| Titre | Retirer de la liste noire |
| Bouton fermer | X en haut a droite |

### Alerte Warning
| Type | Message |
|------|---------|
| Warning | Attention : en retirant ce numero de la liste noire, vous pourrez a nouveau lui envoyer des SMS. |
| Info | Assurez-vous d'avoir le consentement du destinataire. |

### Info numero
| Element | Description |
|---------|-------------|
| Label | Numero a retirer |
| Valeur | +33 6 98 76 54 32 (fond gris) |

### Historique
| Element | Description |
|---------|-------------|
| Date ajout | Ajoute a la liste noire le 15/11/2025 |
| Raison | Raison : Demande de desinscription (STOP) |

### Boutons
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondary | Ferme la modal |
| Retirer | Primary | Retire le numero |

---

## 4. APIS & DONNEES

### Raisons possibles
| Code | Label |
|------|-------|
| STOP | Demande de desinscription (STOP) |
| COMPLAINT | Signalement spam |
| MANUAL | Ajout manuel |
| BOUNCE | Numero invalide |

### Endpoint
```
DELETE /sms/{serviceName}/blacklist/{phoneNumber}
    Response: { success: true }

GET /sms/{serviceName}/blacklist/{phoneNumber}
    Response: {
      phoneNumber: "+33698765432",
      addedAt: "2025-11-15T10:30:00Z",
      reason: "STOP",
      source: "automatic"
    }
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "sms_blacklist_remove_title": "Retirer de la liste noire",
  "sms_blacklist_remove_warning": "Attention : en retirant ce numero de la liste noire, vous pourrez a nouveau lui envoyer des SMS.",
  "sms_blacklist_remove_consent": "Assurez-vous d'avoir le consentement du destinataire.",
  "sms_blacklist_remove_number": "Numero a retirer",
  "sms_blacklist_remove_added": "Ajoute a la liste noire le",
  "sms_blacklist_remove_reason": "Raison :",
  "sms_blacklist_remove_reason_stop": "Demande de desinscription (STOP)",
  "sms_blacklist_remove_reason_complaint": "Signalement spam",
  "sms_blacklist_remove_reason_manual": "Ajout manuel",
  "sms_blacklist_remove_reason_bounce": "Numero invalide",
  "sms_blacklist_remove_cancel": "Annuler",
  "sms_blacklist_remove_submit": "Retirer"
}
```

---

## 6. REGLES METIER

- STOP = desabonnement legal (RGPD)
- Retrait = re-autorisation d'envoi
- Consentement prealable necessaire
- Attention aux envois non sollicites
- Historique conserve pour audit
