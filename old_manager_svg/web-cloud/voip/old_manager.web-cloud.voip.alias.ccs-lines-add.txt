# Cahier des Charges : telecom/alias - CCS Ajouter une ligne

## 1. RESUME EXECUTIF

### Perimetre
Formulaire d'ajout de lignes au Contact Center Solution.

### Objectif fonctionnel
- Ajouter des lignes/numeros au CCS
- Configurer les parametres de debordement
- Definir le nombre de lignes simultanees

---

## 2. LAYOUT

### Structure formulaire vertical avec champs + info

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ← Ajouter une ligne |

### Champs numero
| Element | Description |
|---------|-------------|
| Label | Numero |
| Type | Input + boutons actions |
| Placeholder | +33 ... |

### Boutons ligne numero
| Bouton | Type | Action |
|--------|------|--------|
| Rechercher | Secondary | Recherche numero |
| Supprimer | Text rouge | Supprime la ligne |

### Bouton ajouter ligne
| Element | Description |
|---------|-------------|
| Type | Secondary |
| Texte | + Ajouter une ligne |

### Champ delai debordement
| Element | Description |
|---------|-------------|
| Label | Delai avant debordement |
| Helper | Temps d'attente avant de passer au suivant (en secondes) |
| Type | Number input avec +/- |
| Defaut | 20 |

### Champ temps repos
| Element | Description |
|---------|-------------|
| Label | Temps de repos |
| Helper | Temps avant de recevoir un nouvel appel |
| Type | Number input avec +/- |
| Defaut | 10 |

### Champ lignes simultanees
| Element | Description |
|---------|-------------|
| Label | Lignes simultanees |
| Type | Number input avec +/- |
| Defaut | 1 |

### Boutons actions
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondary | Retour |
| Ajouter | Primary | Ajoute les lignes |

### Zone information
| Element | Description |
|---------|-------------|
| Icone | ⓘ |
| Texte 1 | Vous pouvez ajouter des lignes SIP, des numeros ou des trunks. |
| Texte 2 | Les numeros externes peuvent entrainer des couts supplementaires. |
| Lien | Voir les tarifs → |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line
GET /telephony/{billingAccount}/number
POST /telephony/{billingAccount}/number/{serviceName}/ccs/agent
```

### Modele
```typescript
interface CCSLineToAdd {
  number: string;
  timeout: number;
  wrapUpTime: number;
  simultaneousCalls: number;
}

interface CCSAgent {
  id: string;
  number: string;
  description?: string;
  timeout: number;
  wrapUpTime: number;
  simultaneousCalls: number;
  status: 'available' | 'busy' | 'offline';
}

interface CCSLineConfig {
  overflowTimeout: number; // secondes
  wrapUpTime: number; // secondes
  simultaneousLines: number;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "alias_ccs_lines_add_title": "Ajouter une ligne",
  "alias_ccs_lines_add_number": "Numero",
  "alias_ccs_lines_add_search": "Rechercher",
  "alias_ccs_lines_add_remove": "Supprimer",
  "alias_ccs_lines_add_more": "Ajouter une ligne",
  "alias_ccs_lines_add_timeout": "Delai avant debordement",
  "alias_ccs_lines_add_timeout_help": "Temps d'attente avant de passer au suivant (en secondes)",
  "alias_ccs_lines_add_wrapup": "Temps de repos",
  "alias_ccs_lines_add_wrapup_help": "Temps avant de recevoir un nouvel appel",
  "alias_ccs_lines_add_simultaneous": "Lignes simultanees",
  "alias_ccs_lines_add_cancel": "Annuler",
  "alias_ccs_lines_add_submit": "Ajouter",
  "alias_ccs_lines_add_info_types": "Vous pouvez ajouter des lignes SIP, des numeros ou des trunks.",
  "alias_ccs_lines_add_info_cost": "Les numeros externes peuvent entrainer des couts supplementaires.",
  "alias_ccs_lines_add_rates": "Voir les tarifs"
}
```

---

## 6. REGLES METIER

- Minimum 1 ligne requise
- Timeout par defaut 20 secondes
- Wrap-up time par defaut 10 secondes
- Numeros externes = couts supplementaires
- Lignes SIP du compte = gratuit
