# Cahier des Charges : telecom/line - Changer d'offre

## 1. RESUME EXECUTIF

### Perimetre
Page de changement d'offre pour une ligne VoIP.

### Objectif fonctionnel
- Voir l'offre actuelle
- Comparer les offres disponibles
- Changer d'offre

---

## 2. LAYOUT

### Structure page avec offre actuelle + grille offres

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ← Retour a la gestion |
| Titre | Changer d'offre |

### Carte offre actuelle
| Element | Description |
|---------|-------------|
| Label | Offre actuelle |
| Nom | VoIP Business |
| Prix | 9,99 € HT/mois |
| Badge | Active (vert) |

### Grille offres disponibles
| Offre | Prix | Features |
|-------|------|----------|
| VoIP Business | 9,99 € HT/mois | Appels illimites France |
| VoIP Premium | 19,99 € HT/mois | Appels illimites Europe |
| VoIP Enterprise | 39,99 € HT/mois | Appels illimites monde |

### Carte offre
| Element | Description |
|---------|-------------|
| Badge actuelle | Fond bleu "Actuelle" |
| Badge populaire | Fond orange "Populaire" |
| Titre | Nom offre |
| Description | Type forfait |
| Prix | XX,XX € HT/mois |
| Features | Liste a puces |

### Radio selection
| Element | Description |
|---------|-------------|
| Type | Radio button |
| Label | Selectionner cette offre |

### Info message
| Element | Description |
|---------|-------------|
| Type | Info (fond bleu) |
| Message | Le changement sera effectif a la prochaine facturation |

### Boutons actions
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondary | Retour |
| Confirmer le changement | Primary | Valide changement |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}
GET /telephony/{billingAccount}/line/{serviceName}/availableOffers
POST /telephony/{billingAccount}/line/{serviceName}/changeOffer
```

### Modele
```typescript
interface CurrentOffer {
  name: string;
  price: number;
  status: 'active' | 'pending';
}

interface AvailableOffer {
  id: string;
  name: string;
  description: string;
  priceHT: number;
  features: string[];
  popular?: boolean;
}

interface ChangeOfferRequest {
  offerId: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "line_offer_title": "Changer d'offre",
  "line_offer_back": "Retour a la gestion",
  "line_offer_current": "Offre actuelle",
  "line_offer_active": "Active",
  "line_offer_available": "Offres disponibles",
  "line_offer_current_badge": "Actuelle",
  "line_offer_popular_badge": "Populaire",
  "line_offer_business": "VoIP Business",
  "line_offer_business_desc": "Forfait professionnel",
  "line_offer_premium": "VoIP Premium",
  "line_offer_premium_desc": "Forfait entreprise",
  "line_offer_enterprise": "VoIP Enterprise",
  "line_offer_enterprise_desc": "Forfait grands comptes",
  "line_offer_select": "Selectionner cette offre",
  "line_offer_info": "Le changement d'offre sera effectif a la prochaine facturation. Aucun frais de changement.",
  "line_offer_cancel": "Annuler",
  "line_offer_confirm": "Confirmer le changement"
}
```

---

## 6. REGLES METIER

- Changement effectif prochaine facturation
- Pas de frais de changement
- Upgrade ou downgrade possible
- Conservation du numero
