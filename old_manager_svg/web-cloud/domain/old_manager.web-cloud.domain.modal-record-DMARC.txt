# Cahier des Charges : web-cloud/domain - Modal Ajouter enregistrement DMARC

## 1. VUE D'ENSEMBLE
- **Modal** : Création d'un enregistrement DNS de type DMARC
- **Type** : Formulaire avancé de création
- **Objectif** : Ajouter un enregistrement DMARC (Domain-based Message Authentication)

## 2. STRUCTURE MODAL
- Header bleu OVH avec titre, badge DMARC et bouton fermer (✕)
- Champ sous-domaine (_dmarc)
- Champs TTL et Version
- Politique (p) et Pourcentage (pct)
- URI de rapport (rua)
- Politique sous-domaines (sp)
- Alignement SPF (aspf)
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (700x580)
- **OdsInput** : Sous-domaine, TTL, Pourcentage, URI rapport
- **OdsSelect** : Politique (p), Politique sous-domaines (sp)
- **OdsRadio** : Alignement SPF
- **OdsBadge** : Type DMARC (jaune)
- **OdsButton** : Annuler, Ajouter l'entrée

## 4. TITRE
"Ajouter une entrée DNS - DMARC" avec badge [DMARC]

## 5. CHAMP SOUS-DOMAINE
| Élément | Valeur |
|---------|--------|
| Label | "Sous-domaine" |
| Input | "_dmarc" |
| Suffixe (addon gris) | ".exemple.com" |

## 6. CHAMPS TTL ET VERSION
| Champ | Valeur |
|-------|--------|
| TTL | 3600 |
| Version | DMARC1 (fixe, lecture seule) |

## 7. POLITIQUE (P)
| Élément | Valeur |
|---------|--------|
| Label | "Politique (p)" |
| Obligatoire | Oui (*) |
| Type | Select dropdown |
| Valeur | "quarantine" |
| Options | none / quarantine / reject |

## 8. POURCENTAGE (PCT)
| Élément | Valeur |
|---------|--------|
| Label | "Pourcentage (pct)" |
| Input | 100 |
| Plage | 0-100 |

## 9. URI DE RAPPORT (RUA)
| Élément | Valeur |
|---------|--------|
| Label | "URI de rapport agrégé (rua)" |
| Input | "mailto:dmarc-reports@exemple.com" |

## 10. POLITIQUE SOUS-DOMAINES (SP)
| Élément | Valeur |
|---------|--------|
| Label | "Politique sous-domaines (sp)" |
| Type | Select dropdown |
| Valeur | "none" |

## 11. ALIGNEMENT SPF (ASPF)
| Option | État |
|--------|------|
| ● Relaxed (r) | Sélectionné |
| ○ Strict (s) | Non sélectionné |

## 12. BOUTONS FOOTER
- Annuler (secondaire)
- Ajouter l'entrée (primaire)

## 13. APIS & ENDPOINTS
- POST /domain/zone/{zoneName}/record : Créer enregistrement DMARC
  - fieldType: "TXT"
  - subDomain: "_dmarc"
  - target: "v=DMARC1; p=quarantine; pct=100; rua=mailto:..."
  - ttl: number

