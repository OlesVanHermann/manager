# Cahier des Charges : web-cloud/email - Dashboard

## 1. RESUME EXECUTIF

### Perimetre
Dashboard des emails avec vue d'ensemble du service.

### Objectif fonctionnel
- Voir les informations generales
- Consulter la configuration IMAP/POP3/SMTP
- Acceder au webmail
- Surveiller l'espace utilise
- Gerer l'abonnement

---

## 2. LAYOUT

### Structure page avec breadcrumb + 4 tuiles + acces rapide

---

## 3. COMPOSANTS UI

### Tuile Informations generales
| Champ | Exemple |
|-------|---------|
| Etat du service | Badge Actif (vert) |
| Offre | MX Plan |
| Comptes email | 5 / 10 |
| Redirections | 3 |
| Serveur entrant (IMAP/POP) | ssl0.ovh.net |
| Serveur sortant (SMTP) | ssl0.ovh.net |

### Tuile Acces Webmail
| Element | Description |
|---------|-------------|
| Icone | Email emoji sur fond bleu |
| Titre | Roundcube Webmail |
| Description | Accedez a vos e-mails depuis votre navigateur |
| Lien | Acceder au Webmail |
| Ports | IMAP: 993, POP: 995, SMTP: 465 (SSL) |

### Tuile Espace utilise
| Element | Description |
|---------|-------------|
| Espace total | Barre progression + 1.9 Go / 5 Go (38%) |
| Repartition | Liste comptes avec espace utilise |

### Tuile Abonnement
| Champ | Valeur |
|-------|--------|
| Date de creation | 15/03/2022 |
| Expire le | 15/03/2026 |
| Renouvellement | Automatique |
| Liens | Gerer le renouvellement, Changer d'offre |

### Acces rapide (3 cartes)
| Action | Description |
|--------|-------------|
| Creer un compte | Ajouter une adresse e-mail |
| Creer une redirection | Transferer vers une autre adresse |
| Configurer un filtre | Regles de tri automatique |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/domain/{domain}
GET /email/domain/{domain}/account
GET /email/domain/{domain}/redirection
GET /email/domain/{domain}/quota
```

### Modele
```typescript
interface EmailService {
  domain: string;
  offer: string;
  state: 'ok' | 'suspended';
  maxAccounts: number;
  currentAccounts: number;
  redirectionCount: number;
  quota: {
    used: number;
    total: number;
  };
  creation: string;
  expiration: string;
  renewal: 'automatic' | 'manual';
}

interface ServerConfiguration {
  imap: { server: string; port: number; ssl: boolean };
  pop3: { server: string; port: number; ssl: boolean };
  smtp: { server: string; port: number; ssl: boolean };
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "email_dashboard_general": "Informations generales",
  "email_dashboard_state": "Etat du service",
  "email_dashboard_offer": "Offre",
  "email_dashboard_accounts": "Comptes e-mail",
  "email_dashboard_redirections": "Redirections",
  "email_dashboard_imap": "Serveur entrant (IMAP/POP)",
  "email_dashboard_smtp": "Serveur sortant (SMTP)",
  "email_dashboard_webmail": "Acces Webmail",
  "email_dashboard_webmail_access": "Acceder au Webmail",
  "email_dashboard_ports": "Ports recommandes",
  "email_dashboard_quota": "Espace utilise",
  "email_dashboard_quota_total": "Espace total utilise",
  "email_dashboard_quota_breakdown": "Repartition par compte",
  "email_dashboard_subscription": "Abonnement",
  "email_dashboard_created": "Date de creation",
  "email_dashboard_expires": "Expire le",
  "email_dashboard_renewal": "Renouvellement",
  "email_dashboard_renewal_auto": "Automatique",
  "email_dashboard_manage_renewal": "Gerer le renouvellement",
  "email_dashboard_change_offer": "Changer d'offre",
  "email_dashboard_quicklinks": "Acces rapide",
  "email_dashboard_create_account": "Creer un compte",
  "email_dashboard_create_redirect": "Creer une redirection",
  "email_dashboard_create_filter": "Configurer un filtre"
}
```

---

## 6. REGLES METIER

- Webmail = Roundcube (interface web)
- Ports SSL recommandes (993, 995, 465)
- Quota global reparti entre comptes
- Renouvellement automatique par defaut
