# Cahier des Charges : web-cloud/hosting - Modal Ajouter règle de cache CDN

## 1. VUE D'ENSEMBLE
- **Modal** : Création d'une règle de cache personnalisée
- **Type** : Formulaire simple
- **Objectif** : Configurer le comportement du cache CDN

## 2. STRUCTURE MODAL
- Header avec titre et bouton fermer (✕)
- Description
- Formulaire avec champs
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur avec overlay sombre
- **OdsInput** : Nom règle, pattern, TTL
- **OdsRadio** : Type de ressource
- **OdsSelect** : Unité de temps (secondes, minutes, heures, jours)
- **OdsSpinner** : Incrémenteur pour priorité
- **OdsButton** : Annuler, Créer la règle

## 4. DESCRIPTION
"Définissez une règle personnalisée pour contrôler la mise en cache CDN."

## 5. FORMULAIRE
| Champ | Type | Obligatoire | Description |
|-------|------|-------------|-------------|
| Nom de la règle | Input | Oui | Ex: static-assets |
| Type de ressource | Radio | Oui | Comment identifier les ressources |
| Pattern / Extensions | Input | Oui | Motifs à matcher |
| Durée de cache (TTL) | Input + Select | Oui | Ex: 7 Jours |
| Priorité | Spinner | Non | Ordre d'application (1 = plus haute) |

## 6. TYPES DE RESSOURCE
| Option | Description | Exemple |
|--------|-------------|---------|
| Extension de fichier | (sélectionné) | .css, .js, .png, .jpg, .gif |
| URI / Chemin | | /api/*, /static/* |
| Dossier | | /images/, /assets/ |

## 7. VALEURS PAR DÉFAUT
- Type : Extension de fichier (sélectionné)
- Pattern : .css, .js, .png, .jpg, .gif, .woff2
- TTL : 7 Jours
- Priorité : 1

## 8. CONTRÔLE PRIORITÉ
- Bouton − (décrementer)
- Input numérique (valeur)
- Bouton + (incrementer)

## 9. BOUTONS FOOTER
- Annuler (secondaire)
- Créer la règle (primaire)

## 10. APIS & ENDPOINTS
- POST /hosting/web/{serviceName}/cdn/{domain}/cacheRules : Créer règle
- PUT /hosting/web/{serviceName}/cdn/{domain}/cacheRules/{ruleId} : Modifier
