# Cahier des Charges : web-cloud/hosting - Sauvegardes base de données

## 1. VUE D'ENSEMBLE
- **Écran** : Liste des sauvegardes (dumps) d'une base de données
- **Objectif** : Gérer les sauvegardes automatiques et manuelles
- **Contexte** : Backup et restauration de données

## 2. LAYOUT & STRUCTURE
- Breadcrumb : Hébergements > mon-hebergement > Bases de données > mydatabase_db1 > Sauvegardes
- Titre : "Sauvegardes de la base mydatabase_db1"
- Bandeau info (rétention 30 jours)
- Bouton créer sauvegarde
- Tableau des sauvegardes
- Pagination

## 3. COMPOSANTS UI
- **OdsMessage** : Bandeau info bleu
- **OdsButton** : "+ Créer une sauvegarde" (primaire)
- **OdsTable** : Liste des dumps
- **OdsBadge** : Type (Automatique bleu, Manuel jaune), Statut (Disponible vert)
- **OdsActionMenu** : Menu ⋮
- **OdsLink** : Restaurer, Télécharger
- **OdsPagination** : Navigation pages

## 4. BANDEAU INFO
- "ℹ️ Les sauvegardes automatiques sont conservées pendant 30 jours."
- "Vous pouvez également créer des sauvegardes manuelles à tout moment."

## 5. TABLEAU SAUVEGARDES
| Colonne | Description |
|---------|-------------|
| Date de création | Timestamp complet |
| Type | Badge Automatique (bleu) / Manuel (jaune) |
| Taille | En Mo |
| Statut | Badge Disponible (vert) |
| Expiration | Date ou "-" pour manuel |
| Actions | Liens ou Menu ⋮ |

## 6. EXEMPLES DONNÉES
| Date | Type | Taille | Statut | Expiration |
|------|------|--------|--------|------------|
| 27 déc. 2025 - 03:00 | Automatique | 45.2 Mo | Disponible | 26 janv. 2026 |
| 26 déc. 2025 - 03:00 | Automatique | 44.8 Mo | Disponible | 25 janv. 2026 |
| 24 déc. 2025 - 14:32 | Manuel | 44.5 Mo | Disponible | - |
| 23 déc. 2025 - 03:00 | Automatique | 43.9 Mo | Disponible | 22 janv. 2026 |

## 7. ACTIONS EN LIGNE
- Restaurer (lien bleu)
- Télécharger (lien bleu)

## 8. MENU ACTIONS (⋮)
- Restaurer
- Télécharger (.sql.gz)
- Supprimer (rouge)

## 9. PAGINATION
- "Affichage de 1 à 5 sur 30 sauvegardes"

## 10. APIS & ENDPOINTS
- GET /hosting/web/{serviceName}/database/{name}/dump : Liste dumps
- POST /hosting/web/{serviceName}/database/{name}/dump : Créer dump
- GET /hosting/web/{serviceName}/database/{name}/dump/{id} : Détails
- DELETE /hosting/web/{serviceName}/database/{name}/dump/{id} : Supprimer
- POST /hosting/web/{serviceName}/database/{name}/dump/{id}/restore : Restaurer
- GET /hosting/web/{serviceName}/database/{name}/dump/{id}/download : Télécharger
