# Cahier des Charges : web-cloud/private-database - Configuration

## 1. VUE D'ENSEMBLE
- **Écran** : Configuration des variables MySQL
- **Type** : Page formulaire avec variables
- **Objectif** : Personnaliser les paramètres du serveur MySQL/MariaDB

## 2. STRUCTURE DE LA PAGE
- Header OVHcloud avec navigation
- Sidebar Web Cloud Databases
- Breadcrumb de navigation
- Titre "Configuration"
- Onglets (Configuration actif)
- Carte variables MySQL
- Bandeau warning
- Boutons Réinitialiser / Appliquer

## 3. COMPOSANTS UI
- **OdsHeader** : Navigation principale
- **OdsSidebar** : Menu navigation
- **OdsTabs** : Onglets navigation
- **OdsCard** : Conteneur variables
- **OdsInput** : Champs de valeur
- **OdsSelect** : Choix ON/OFF
- **OdsMessage** : Warning orange
- **OdsButton** : Réinitialiser, Appliquer

## 4. ONGLETS
| Onglet | État |
|--------|------|
| Informations générales | - |
| Utilisateurs | - |
| Bases de données | - |
| Logs | - |
| Métriques | - |
| **Configuration** | Actif (bleu) |

## 5. VARIABLES MYSQL
| Variable | Description | Défaut | Exemple |
|----------|-------------|--------|---------|
| max_connections | Connexions max simultanées | 100 | 100 |
| max_allowed_packet | Taille max paquet (octets) | 16 Mo | 64 Mo |
| wait_timeout | Délai inactivité (secondes) | 600 | 600 |
| innodb_buffer_pool_size | Buffer pool InnoDB | 128 Mo | 256 Mo |
| slow_query_log | Log requêtes lentes | OFF | ON |
| long_query_time | Seuil requêtes lentes (sec) | 10 | 2 |

## 6. FORMAT CHAMPS
| Variable | Type input | Info complémentaire |
|----------|------------|---------------------|
| max_connections | Number | Défaut: 100 |
| max_allowed_packet | Number | 64 Mo (Défaut: 16 Mo) |
| wait_timeout | Number | Défaut: 600 |
| innodb_buffer_pool_size | Number | 256 Mo (Défaut: 128 Mo) |
| slow_query_log | Select (ON/OFF) | Défaut: OFF |
| long_query_time | Number | Défaut: 10 |

## 7. BANDEAU WARNING
Fond orange (#FEF3C7) :
"⚠️ La modification de ces paramètres nécessite un redémarrage du serveur. Les connexions actives seront interrompues."

## 8. BOUTONS
| Bouton | Style | Action |
|--------|-------|--------|
| Réinitialiser | Secondaire gris | Restaure valeurs défaut |
| Appliquer | Primaire bleu | Sauvegarde et redémarre |

## 9. APIS & ENDPOINTS
- GET /hosting/privateDatabase/{serviceName}/config : Récupérer configuration
- PUT /hosting/privateDatabase/{serviceName}/config : Modifier configuration
  - max_connections: number
  - max_allowed_packet: number
  - wait_timeout: number
  - innodb_buffer_pool_size: number
  - slow_query_log: boolean
  - long_query_time: number

