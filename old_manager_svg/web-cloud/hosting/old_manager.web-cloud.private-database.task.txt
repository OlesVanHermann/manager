# Cahier des Charges : web-cloud/private-database - Tâches

## 1. VUE D'ENSEMBLE
- **Écran** : Tâches en cours et historique
- **Type** : Page liste avec tableaux
- **Objectif** : Suivre les opérations en cours et passées

## 2. STRUCTURE DE LA PAGE
- Header OVHcloud avec navigation
- Sidebar Web Cloud Databases
- Titre "Tâches en cours et historique"
- Bandeau info bleu
- Section tâches en cours
- Section historique
- Pagination

## 3. COMPOSANTS UI
- **OdsHeader** : Navigation principale
- **OdsSidebar** : Menu navigation
- **OdsMessage** : Bandeau info bleu
- **OdsCard** : 2 sections (en cours, historique)
- **OdsTable** : Tableaux des tâches
- **OdsProgressBar** : Progression tâche
- **OdsBadge** : Statut (En cours, Succès, Échec)
- **OdsPagination** : Navigation pages

## 4. BANDEAU INFO
Fond bleu (#E8F0FE) :
"ℹ️ Cette page affiche les tâches planifiées et l'historique des opérations effectuées sur votre serveur."

## 5. SECTION TÂCHES EN COURS
### Colonnes
| Colonne | Description |
|---------|-------------|
| Type | Type d'opération |
| Progression | ProgressBar avec % |
| Démarrage | Date/heure début |
| Statut | Badge "En cours" (bleu) |

### Exemple
| Type | Progression | Démarrage | Statut |
|------|-------------|-----------|--------|
| Sauvegarde automatique | 70% | 27/12/2024 03:00 | En cours |

## 6. SECTION HISTORIQUE
### Colonnes
| Colonne | Description |
|---------|-------------|
| Type | Type d'opération |
| Date | Date/heure exécution |
| Durée | Temps total |
| Statut | Badge état |
| Détails | Lien ou info |

## 7. TYPES DE TÂCHES
| Type | Description |
|------|-------------|
| Sauvegarde automatique | Backup planifié |
| Sauvegarde manuelle | Backup déclenché |
| Redémarrage service | Restart serveur |
| Restauration base | Restore depuis dump |
| Modification config | Changement paramètres |

## 8. BADGES STATUT
| Statut | Couleur | Code |
|--------|---------|------|
| En cours | Bleu | #DBEAFE / #1E40AF |
| Succès | Vert | #DEF7EC / #03543F |
| Échec | Rouge | #FEE2E2 / #991B1B |

## 9. EXEMPLES HISTORIQUE
| Type | Date | Durée | Statut | Détails |
|------|------|-------|--------|---------|
| Sauvegarde automatique | 26/12/2024 03:00 | 4 min 32 sec | Succès | Voir le dump |
| Redémarrage service | 25/12/2024 14:30 | 12 sec | Succès | - |
| Restauration base | 24/12/2024 10:15 | 8 min 45 sec | Succès | wordpress_db |
| Sauvegarde manuelle | 23/12/2024 16:00 | - | Échec | Voir l'erreur |
| Modification config | 22/12/2024 09:30 | 3 sec | Succès | max_connections: 150 |

## 10. PAGINATION
"Affichage 1-6 sur 24 tâches"
Navigation: 1 2 3 ›

## 11. APIS & ENDPOINTS
- GET /hosting/privateDatabase/{serviceName}/tasks : Lister tâches
  - Params: status (pending, doing, done, error), type, page, limit
- GET /hosting/privateDatabase/{serviceName}/tasks/{id} : Détail tâche
- GET /hosting/privateDatabase/{serviceName}/dump : Liste dumps

