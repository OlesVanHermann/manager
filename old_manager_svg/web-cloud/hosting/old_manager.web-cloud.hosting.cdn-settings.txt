# Cahier des Charges : web-cloud/hosting - Paramètres CDN

## 1. VUE D'ENSEMBLE
- **Écran** : Configuration détaillée CDN par domaine
- **Objectif** : Paramétrer les options CDN pour un domaine spécifique
- **Contexte** : Optimisation performance et sécurité via CDN

## 2. LAYOUT & STRUCTURE
- Breadcrumb : Hébergements > mon-hebergement.cluster051 > CDN
- Titre : "Paramètres CDN - www.example.com"
- Sous-titre : "Configuration du CDN pour votre domaine"
- Bandeau info (propagation 5 min)
- Section Options de performance (4 cartes)
- Section Options de sécurité (2 cartes)
- Section Règles de cache (tableau)

## 3. COMPOSANTS UI
- **OdsMessage** : Bandeau info bleu (propagation)
- **OdsCard** : Cartes d'options avec toggle
- **OdsToggle** : Switch on/off pour chaque option
- **OdsButton** : "+ Ajouter une règle" (primaire)
- **OdsTable** : Tableau règles de cache
- **OdsLink** : Documentation, Modifier, Supprimer

## 4. BANDEAU INFO
- "ℹ️ Les modifications peuvent prendre jusqu'à 5 minutes pour être propagées sur le réseau CDN."
- Lien : "Documentation ↗"

## 5. OPTIONS DE PERFORMANCE
| Option | Description | État |
|--------|-------------|------|
| Always Online | Affiche une version en cache si votre serveur est indisponible | Activé |
| HTTP/2 | Améliore les performances avec le protocole HTTP/2 | Activé |
| Compression Brotli | Compresse les ressources pour un chargement plus rapide | Activé |
| En-têtes de géolocalisation | Ajoute des en-têtes HTTP avec la localisation du visiteur | Désactivé |

## 6. OPTIONS DE SÉCURITÉ
| Option | Description | État |
|--------|-------------|------|
| HSTS (HTTP Strict Transport Security) | Force les connexions HTTPS pour plus de sécurité | Activé |
| Mixed Content | Réécriture automatique des URLs HTTP en HTTPS | Désactivé |

## 7. TABLEAU RÈGLES DE CACHE
| Colonne | Description |
|---------|-------------|
| Nom | Identifiant de la règle |
| Type | Extension, URI |
| Pattern | Motif de correspondance |
| TTL | Durée de vie du cache |
| Actions | Modifier, Supprimer |

## 8. EXEMPLES RÈGLES
| Nom | Type | Pattern | TTL |
|-----|------|---------|-----|
| static-assets | Extension | .css, .js, .png, .jpg | 7 jours |
| api-cache | URI | /api/v1/* | 5 minutes |

## 9. APIS & ENDPOINTS
- GET /hosting/web/{serviceName}/cdn/{domain}/settings : Config complète
- PUT /hosting/web/{serviceName}/cdn/{domain}/settings : Modifier options
- GET /hosting/web/{serviceName}/cdn/{domain}/cacheRules : Liste règles
- POST /hosting/web/{serviceName}/cdn/{domain}/cacheRules : Ajouter règle
- PUT /hosting/web/{serviceName}/cdn/{domain}/cacheRules/{ruleId} : Modifier
- DELETE /hosting/web/{serviceName}/cdn/{domain}/cacheRules/{ruleId} : Supprimer
