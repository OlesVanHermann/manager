# Cahier des Charges : web-cloud/domain - Modal Ajouter enregistrement TLSA

## 1. VUE D'ENSEMBLE
- **Modal** : Création d'un enregistrement DNS de type TLSA
- **Type** : Formulaire avancé de création
- **Objectif** : Ajouter un enregistrement TLSA (certificat TLS pour DANE)

## 2. STRUCTURE MODAL
- Header bleu OVH avec titre, badge TLSA et bouton fermer (✕)
- Champ sous-domaine
- Champ TTL
- Champs Usage, Sélecteur, Type
- Champ données du certificat
- Aide contextuelle
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (700x550)
- **OdsInput** : Sous-domaine, TTL
- **OdsSelect** : Usage, Sélecteur, Type
- **OdsTextarea** : Données certificat
- **OdsBadge** : Type TLSA (rouge)
- **OdsButton** : Annuler, Ajouter l'entrée

## 4. TITRE
"Ajouter une entrée DNS - TLSA" avec badge [TLSA]

## 5. CHAMP SOUS-DOMAINE
| Élément | Valeur |
|---------|--------|
| Label | "Sous-domaine" |
| Input | "_443._tcp.www" |
| Suffixe (addon gris) | ".exemple.com" |

## 6. CHAMP TTL
| Élément | Valeur |
|---------|--------|
| Label | "TTL" |
| Input | 3600 |

## 7. CHAMP USAGE DU CERTIFICAT
| Élément | Valeur |
|---------|--------|
| Label | "Usage du certificat" |
| Obligatoire | Oui (*) |
| Type | Select dropdown |
| Valeur | "3 - DANE-EE (Domain-issued)" |
| Options | 0=PKIX-TA, 1=PKIX-EE, 2=DANE-TA, 3=DANE-EE |

## 8. CHAMP SÉLECTEUR
| Élément | Valeur |
|---------|--------|
| Label | "Sélecteur" |
| Obligatoire | Oui (*) |
| Type | Select dropdown |
| Valeur | "1 - SPKI" |
| Options | 0=Cert, 1=SPKI |

## 9. CHAMP TYPE (MATCHING TYPE)
| Élément | Valeur |
|---------|--------|
| Label | "Type" |
| Obligatoire | Oui (*) |
| Type | Select dropdown |
| Valeur | "1 - SHA256" |

## 10. CHAMP DONNÉES CERTIFICAT
| Élément | Valeur |
|---------|--------|
| Label | "Données d'association du certificat" |
| Obligatoire | Oui (*) |
| Type | Textarea |
| Valeur exemple | 0C72AC70B745AC19998811B131D662C9AC69DBDB0F3CB9DC51EBFA0F (SHA-256 hash en hexadécimal) |

## 11. AIDE CONTEXTUELLE
- "TLSA (Transport Layer Security Authentication) permet d'associer un certificat TLS"
- "à un nom de domaine pour la validation DANE (DNS-based Authentication)."

## 12. BOUTONS FOOTER
- Annuler (secondaire)
- Ajouter l'entrée (primaire)

## 13. APIS & ENDPOINTS
- POST /domain/zone/{zoneName}/record : Créer enregistrement TLSA
  - fieldType: "TLSA"
  - subDomain: "_port._protocol.host"
  - target: "usage selector matchingtype certdata"
  - ttl: number

