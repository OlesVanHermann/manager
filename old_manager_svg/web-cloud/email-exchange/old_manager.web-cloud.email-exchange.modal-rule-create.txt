# Cahier des Charges : web-cloud/email-exchange - Modal Créer une règle

## 1. VUE D'ENSEMBLE
- **Modal** : Créer une règle de messagerie
- **Type** : Formulaire de création
- **Objectif** : Définir des actions automatiques sur les emails

## 2. STRUCTURE MODAL
- Header avec titre et bouton fermer (×)
- Nom de la règle
- Condition (si/alors)
- Action à exécuter
- Options supplémentaires
- Boutons Annuler / Créer

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (550x490)
- **OdsInput** : Nom de la règle, valeur condition
- **OdsSelect** : Type de condition, type d'action, dossier cible
- **OdsCheckbox** : Options
- **OdsButton** : Annuler, Créer

## 4. TITRE
"Créer une règle de messagerie"

## 5. CHAMPS DU FORMULAIRE
| Champ | Type | Placeholder | Obligatoire |
|-------|------|-------------|-------------|
| Nom de la règle * | Input text | Ex: Déplacer les newsletters | Oui |

## 6. CONDITION
| Élément | Type | Valeur exemple |
|---------|------|----------------|
| Si l'email | Label | - |
| Type condition | Select | contient dans l'objet |
| Valeur | Input text | [Newsletter] |

### Types de conditions
| Condition | Description |
|-----------|-------------|
| contient dans l'objet | Texte dans le sujet |
| vient de | Expéditeur spécifique |
| est envoyé à | Destinataire spécifique |
| contient pièce jointe | Présence de fichiers |

## 7. ACTION
| Élément | Type | Valeur exemple |
|---------|------|----------------|
| Alors | Label | - |
| Type action | Select | Déplacer vers dossier |
| Dossier cible | Select | Newsletters |

### Types d'actions
| Action | Description |
|--------|-------------|
| Déplacer vers dossier | Change de dossier |
| Supprimer | Supprime l'email |
| Transférer à | Redirige vers une adresse |
| Marquer comme lu | Change le statut |

## 8. OPTIONS
| Option | État | Description |
|--------|------|-------------|
| Appliquer aux messages existants | ☐ | Rétroactif |
| Arrêter le traitement des autres règles | ☑ | Priorité exclusive |
| Activer la règle | ☐ | Active immédiatement |

## 9. BOUTONS
| Bouton | Type | Action |
|--------|------|--------|
| Annuler | Secondaire | Ferme sans sauvegarder |
| Créer | Primaire bleu | Crée la règle |

## 10. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/account/{email}/folder : Liste dossiers
- POST /email/exchange/{org}/service/{service}/account/{email}/rule : Créer règle

