# Cahier des Charges : web-cloud/email-exchange - Modal Diagnostic SPF

## 1. VUE D'ENSEMBLE
- **Modal** : Résultat diagnostic enregistrement SPF
- **Type** : Modal informative avec action
- **Objectif** : Afficher les erreurs SPF et proposer une correction

## 2. STRUCTURE MODAL
- Header rouge (erreur)
- Domaine concerné
- Message d'erreur
- SPF actuel vs recommandé
- Boutons Fermer / Configurer auto

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (500x340)
- **OdsMessage** : Erreur rouge
- **OdsInput** : SPF actuel / recommandé (readonly)
- **OdsButton** : Fermer, Configurer auto

## 4. TITRE
"Enregistrement SPF invalide"
- Header fond rouge (#FEF2F2)
- Texte rouge (#DC2626)

## 5. DOMAINE
Affiché en gras : "example.com"

## 6. MESSAGE D'ERREUR
Fond rouge (#FEF2F2) avec icône :
| Élément | Valeur |
|---------|--------|
| Icône | ! (cercle rouge) |
| Titre | "SPF non configuré pour Exchange" |
| Message | "Vos emails risquent d'être classés comme spam par les destinataires." |

## 7. SPF ACTUEL
| Champ | Style | Valeur exemple |
|-------|-------|----------------|
| Label | "SPF actuel" | |
| Valeur | Fond gris (#F3F4F6) | v=spf1 include:_spf.google.com ~all |

## 8. SPF RECOMMANDÉ
| Champ | Style | Valeur exemple |
|-------|-------|----------------|
| Label | "SPF recommandé" | |
| Valeur | Fond vert (#DCFCE7) | v=spf1 include:spf.mail.ovh.net ~all |

## 9. BOUTONS
| Bouton | Type | Action |
|--------|------|--------|
| Fermer | Secondaire | Ferme la modal |
| Configurer auto | Primaire bleu | Corrige automatiquement le SPF |

## 10. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/domain/{domain}/dnsDiagnostic : Récupérer diagnostic
- POST /email/exchange/{org}/service/{service}/domain/{domain}/updateDns : Corriger DNS automatiquement

