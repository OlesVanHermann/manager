# Cahier des Charges : network/ip - Firewall Rules

## 1. VUE D'ENSEMBLE

**Type:** Page configuration avec datagrid
**Fonction:** G√©rer les r√®gles du firewall IP
**Contexte:** Configuration firewall d'une IP

## 2. DIMENSIONS

- Container: 1200x550px
- Tableau: 1120x220px

## 3. NAVIGATION

### Bouton retour
- Style: btn-outline (100x32px)
- Label: "‚Üê IP"

### Titre
"Configuration du firewall" (20px, #1F2937, bold)

### Dropdown
"Guides ‚ñº" (btn-outline, 100x32px)

## 4. DESCRIPTION

3 lignes d'explication (12px, muted) :
- "La configuration permet d'activer ou de d√©sactiver le firewall."
- "Il est possible de configurer jusqu'√† 20 r√®gles."
- "Chaque r√®gle est √©valu√©e s√©quentiellement. La derni√®re r√®gle est un Deny All implicite."

## 5. MESSAGE WARNING

- Background: #FEF3C7
- Border: 1px solid #FDE68A
- Icon: Cercle orange avec "!"
- Texte: "Une r√®gle 'deny all' est absente. Cliquez [ici pour l'ajouter] automatiquement..."

## 6. BARRE ACTIONS

### Bouton ajouter
- Label: "+ Ajouter une r√®gle" (150x36px, btn-outline)

### Toggle statut
- Label: "R√®gles activ√©es"
- Switch: ON (#0050D7)

## 7. TABLEAU R√àGLES

### Colonnes

| Colonne | Largeur |
|---------|---------|
| Position | 70px |
| Mode | 90px |
| Protocole | 110px |
| IP source | 160px |
| Port source | 120px |
| Port dest. | 110px |
| Options | 170px |
| Statut | 150px |
| Actions | 120px |

### Donn√©es exemple

| Position | Mode | Protocole | IP source | Port src | Port dest | Options | Statut |
|----------|------|-----------|-----------|----------|-----------|---------|--------|
| 0 | permit | TCP | any | any | 443 | established | Actif |
| 1 | permit | TCP | any | any | 80 | - | Actif |
| 2 | permit | TCP | 192.168.1.0/24 | any | 22 | - | Actif |
| 19 | deny | any | any | any | any | - | Actif |

### Badges statut
- Actif: Background #DCFCE7, texte #16A34A

### Actions
- Ic√¥ne: üóë (supprimer)

## 8. PAGINATION

"4 r√®gles sur 20" (12px, muted)

## 9. APIS & ENDPOINTS

```
# Liste r√®gles firewall
GET /ip/{ip}/firewall/{ipOnFirewall}/rules
‚Üí [{
  position: 0,
  action: "permit",
  protocol: "tcp",
  source: "any",
  sourcePort: "any",
  destinationPort: 443,
  tcpOption: "established",
  state: "ok"
}]

# Ajouter r√®gle
POST /ip/{ip}/firewall/{ipOnFirewall}/rules
Body: {
  action: "permit",
  protocol: "tcp",
  source: "any",
  destinationPort: 443
}

# Supprimer r√®gle
DELETE /ip/{ip}/firewall/{ipOnFirewall}/rules/{sequence}

# Activer/D√©sactiver firewall
PUT /ip/{ip}/firewall/{ipOnFirewall}
Body: { enabled: true }
```

## 10. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| page_title | Configuration du firewall |
| description_line1 | La configuration permet d'activer ou de d√©sactiver le firewall |
| description_line2 | Il est possible de configurer jusqu'√† 20 r√®gles |
| description_line3 | Chaque r√®gle est √©valu√©e s√©quentiellement |
| warning_deny_all | Une r√®gle 'deny all' est absente |
| click_to_add | ici pour l'ajouter |
| btn_add_rule | Ajouter une r√®gle |
| rules_enabled | R√®gles activ√©es |
| col_position | Position |
| col_mode | Mode |
| col_protocol | Protocole |
| col_source | IP source |
| col_source_port | Port source |
| col_dest_port | Port dest. |
| col_options | Options |
| col_status | Statut |
| col_actions | Actions |
| status_active | Actif |
| rules_count | {count} r√®gles sur {max} |
