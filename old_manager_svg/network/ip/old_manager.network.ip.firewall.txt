# Cahier des Charges : network/ip - Edge Network Firewall

## 1. VUE D'ENSEMBLE

**Type:** Page de configuration avec tableau inline edit
**Fonction:** G√©rer les r√®gles du Edge Network Firewall
**Contexte:** Protection DDoS et filtrage r√©seau en p√©riph√©rie

## 2. DIMENSIONS

- Container principal: 1200x850px

## 3. LAYOUT & STRUCTURE

### Breadcrumb
- Network > IP > **Edge Network Firewall**

### Lien retour
- "‚Üê G√©rer les IPs"

### Titre page
- "G√©rer des r√®gles de Edge Network Firewall"
- Dropdown Guides √† droite

### Description (2 lignes)
- "Configurez la protection Edge de votre adresse IP. Vos r√®gles de pare-feu seront appliqu√©es en p√©riph√©rie du r√©seau OVHcloud."
- "Cette fonction doit √™tre utilis√©e en ad√©quation avec le pare-feu r√©seau sur votre serveur. Maximum 20 r√®gles par IP."

### Message warning
- Background: #FEF3C7
- Texte: "Nous n'avons d√©tect√© que des r√®gles 'Accepter'. Cliquez ici [cr√©er une r√®gle de refus] pour ajouter une r√®gle."

## 4. BARRE D'ACTIONS

### Bouton Ajouter une r√®gle
- Style: btn-secondary (180x40px)
- Texte: "+ Ajouter une r√®gle"

### Toggle Firewall activ√©
- Label: "Activ√©"
- Toggle: On (bleu)
- Ic√¥ne aide: ?

## 5. COLONNES DATAGRID

| Colonne | Largeur | Type |
|---------|---------|------|
| Priorit√© | 90px | Select 0-19 |
| Mode | 100px | Select (Autoriser/Refuser) |
| Protocole | 120px | Select (TCP/UDP/ICMP/IPv4) |
| IP source | 160px | Input CIDR |
| Port source | 150px | Input (Any/port) |
| Port dest. | 130px | Input |
| √âtat TCP | 120px | Select |
| Statut | 120px | Badge |
| Actions | 100px | Ic√¥nes |

### Ligne d'ajout inline
- Background: #EFF6FF
- Tous les champs en mode √©dition
- Actions: ‚úï (annuler) ‚úì (valider)

### Badges Statut
| Statut | Couleur |
|--------|---------|
| Actif | bg-success #DCFCE7 |
| En cr√©ation | bg-info #DBEAFE |

### Donn√©es exemple
| Prio | Mode | Proto | Source | Port src | Port dst | TCP | Statut |
|------|------|-------|--------|----------|----------|-----|--------|
| 0 | Autoriser | TCP | tous | tous | 80 | - | Actif |
| 1 | Autoriser | TCP | tous | tous | 443 | - | Actif |
| 2 | Autoriser | UDP | tous | tous | 53 | - | Actif |
| 3 | Autoriser | ICMP | tous | - | - | - | En cr√©ation |
| 19 | Refuser | IPv4 | tous | tous | tous | - | Actif |

## 6. ACTIONS & INTERACTIONS

### Toggle Firewall
- Active/d√©sactive le firewall globalement

### Ajouter une r√®gle
- Affiche une ligne en mode √©dition
- Validation: ‚úì
- Annulation: ‚úï

### Supprimer r√®gle (üóë)
- Supprime la r√®gle apr√®s confirmation

## 7. APIS & ENDPOINTS

```
GET /ip/{ip}/firewall/{ipOnFirewall}/rule
‚Üí Liste les r√®gles

POST /ip/{ip}/firewall/{ipOnFirewall}/rule
Body: {
  sequence: 0,
  action: "permit",
  protocol: "tcp",
  source: "0.0.0.0/0",
  sourcePort: "any",
  destinationPort: 443
}
‚Üí Cr√©e une r√®gle

DELETE /ip/{ip}/firewall/{ipOnFirewall}/rule/{sequence}
‚Üí Supprime une r√®gle

PUT /ip/{ip}/firewall/{ipOnFirewall}
Body: { enabled: true }
‚Üí Active/d√©sactive le firewall
```

## 8. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| firewall_title | G√©rer des r√®gles de Edge Network Firewall |
| firewall_desc_1 | Configurez la protection Edge de votre adresse IP. |
| firewall_desc_2 | Maximum 20 r√®gles par IP. |
| firewall_warning_accept_only | Nous n'avons d√©tect√© que des r√®gles "Accepter". |
| firewall_add_rule | Ajouter une r√®gle |
| firewall_enabled | Activ√© |
| column_priority | Priorit√© |
| column_mode | Mode |
| column_protocol | Protocole |
| column_source_ip | IP source |
| column_source_port | Port source |
| column_dest_port | Port dest. |
| column_tcp_state | √âtat TCP |
| mode_permit | Autoriser |
| mode_deny | Refuser |
| status_active | Actif |
| status_creating | En cr√©ation |
