# Cahier des Charges : network/security - Modal Ajouter Règle

## 1. VUE D'ENSEMBLE
- **Type** : Modal formulaire
- **Déclencheur** : Bouton "+ Ajouter une règle"
- **Objectif** : Créer une nouvelle règle de firewall

## 2. STRUCTURE MODAL
- Overlay sombre (40% opacité)
- Modal centrée (700x660px)
- Header avec titre et bouton fermer
- Formulaire complet
- Message d'information
- Footer avec boutons action

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur modal
- **OdsInput** : Séquence, Source IP, Port source, Destination IP, Port destination
- **OdsSelect** : Action, Protocole
- **OdsCheckbox** : Options TCP (Fragments, Established)
- **OdsMessage** : Information (info bleu)
- **OdsButton** : Annuler/Ajouter

## 4. HEADER MODAL
| Élément | Valeur |
|---------|--------|
| Titre | "Ajouter une règle firewall" |
| Bouton fermer | ✕ (coin droit) |
| Séparateur | Ligne grise |

## 5. CHAMPS FORMULAIRE

### Ligne 1
| Champ | Type | Largeur | Exemple |
|-------|------|---------|---------|
| Séquence * | Input number | 150px | 5 |
| Action * | Select | 200px | permit |

### Ligne 2
| Champ | Type | Largeur | Exemple |
|-------|------|---------|---------|
| Protocole * | Select | 200px | TCP |

### Ligne 3
| Champ | Type | Largeur | Placeholder |
|-------|------|---------|-------------|
| Source IP | Input | 300px | Toutes (laisser vide) |
| Port source | Input | 150px | Tous |

### Ligne 4
| Champ | Type | Largeur | Exemple |
|-------|------|---------|---------|
| Destination IP | Input | 300px | Toutes (laisser vide) |
| Port destination * | Input | 150px | 443 |

### Options TCP
| Option | État | Description |
|--------|------|-------------|
| Fragments | Unchecked | Paquets fragmentés |
| Established | Checked | Connexions établies |

## 6. MESSAGE INFORMATION
| Propriété | Valeur |
|-----------|--------|
| Type | Info (bleu clair) |
| Texte | "Les règles sont appliquées dans l'ordre de leur séquence (1 = priorité haute)." |

## 7. FOOTER MODAL
| Bouton | Style | Position |
|--------|-------|----------|
| Annuler | Outline gris | Gauche |
| Ajouter | Primary bleu | Droite |

## 8. OPTIONS ACTION
| Action | Description |
|--------|-------------|
| permit | Autoriser le trafic |
| deny | Bloquer le trafic |

## 9. OPTIONS PROTOCOLE
| Protocole | Description |
|-----------|-------------|
| TCP | Transmission Control Protocol |
| UDP | User Datagram Protocol |
| ICMP | Internet Control Message Protocol |
| * | Tous les protocoles |

## 10. APIS & ENDPOINTS
- POST /ip/{ip}/firewall/{ipOnFirewall}/rule - Créer règle


