# Cahier des Charges : network/cdn - Rules

## 1. VUE D'ENSEMBLE

**Type:** Page liste avec datagrid et actions
**Fonction:** Gérer les règles de cache CDN
**Contexte:** Page accessible depuis l'onglet règles

## 2. NAVIGATION

### NAV1 (Header)
OVHcloud (logo)

## 3. LAYOUT

- Background page: #F9FAFB
- Dimensions: 1200x600px

## 4. HEADER PAGE

### Titre
"Regles de cache" (22px, bold)

### Sous-titre
"Gerez les regles de mise en cache pour votre domaine CDN" (13px, muted)

## 5. DATAGRID (850x420px)

### Barre de recherche
- Input: 300x36px
- Placeholder: "Rechercher une regle..."

### Colonnes

| Colonne | Largeur | Description |
|---------|---------|-------------|
| Type de fichier | 160px | Extension, Dossier, URI |
| Regle | 220px | Pattern de matching |
| Type de cache | 160px | Force Cache, No Cache |
| TTL | 100px | Durée en secondes |
| Statut | 100px | Badge ON/OFF |
| Actions | 50px | Menu ⋮ |

### Badges statut
- ON: #DCFCE7, texte #16A34A
- OFF: #FEF3C7, texte #92400E

### Pagination
"Affichage 1-3 sur 3 regles"

## 6. PANEL ACTIONS (250x200px)

### Boutons

| Bouton | Action |
|--------|--------|
| + Creer une regle | Ouvre wizard création |
| Desactiver toutes | Modal confirmation |
| Activer toutes | Modal confirmation |
| Purger le cache | Modal purge |

## 7. APIS & ENDPOINTS

```
# Liste des règles
GET /cdn/dedicated/{serviceName}/domains/{domain}/rules
→ [{
  ruleId: "rule-1",
  type: "extension",
  pattern: ".jpg, .png, .gif",
  cacheType: "forceCache",
  ttl: 86400,
  status: "on"
}]

# Créer une règle
POST /cdn/dedicated/{serviceName}/domains/{domain}/rules
Body: {
  type: "extension",
  pattern: ".css, .js",
  cacheType: "forceCache",
  ttl: 3600
}

# Activer/Désactiver une règle
PUT /cdn/dedicated/{serviceName}/domains/{domain}/rules/{ruleId}
Body: { status: "on|off" }

# Supprimer une règle
DELETE /cdn/dedicated/{serviceName}/domains/{domain}/rules/{ruleId}
```

## 8. TRADUCTIONS (i18n)

| Clé | FR |
|-----|-----|
| page_title | Regles de cache |
| page_subtitle | Gerez les regles de mise en cache pour votre domaine CDN |
| search_placeholder | Rechercher une regle... |
| col_type | Type de fichier |
| col_rule | Regle |
| col_cache_type | Type de cache |
| col_ttl | TTL |
| col_status | Statut |
| col_actions | Actions |
| btn_create | Creer une regle |
| btn_deactivate_all | Desactiver toutes |
| btn_activate_all | Activer toutes |
| btn_flush_cache | Purger le cache |
| type_extension | Extension |
| type_folder | Dossier |
| type_uri | URI |
| cache_force | Force Cache |
| cache_no | No Cache |
| pagination | Affichage {start}-{end} sur {total} regles |
