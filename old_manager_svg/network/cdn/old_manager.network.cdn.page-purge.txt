# Cahier des Charges : network/cdn - Page Purge

## 1. VUE D'ENSEMBLE
- **Type** : Page purge cache CDN
- **Contexte** : Network CDN
- **Objectif** : Invalider le cache CDN

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1100px |
| Page hauteur | 500px |
| Background | #F9FAFB |

## 3. COMPOSANTS UI
- **OdsText** : Titres et descriptions
- **OdsCard** : Cartes formulaire et historique
- **Cards sélection** : Type de purge
- **OdsTextarea** : URLs à purger
- **OdsMessage** : Avertissement délai
- **OdsButton** : Lancer purge
- **OdsBadge** : État purge

## 4. HEADER
| Propriété | Valeur |
|-----------|--------|
| Titre | "Purge du cache" |
| Description | "cdn.example.com - Invalidation du cache CDN." |

## 5. CARTE NOUVELLE PURGE
| Propriété | Valeur |
|-----------|--------|
| Largeur | 510px |
| Hauteur | 380px |
| Titre | "Nouvelle purge" |

### Sélection type de purge
| Option | Largeur | Description |
|--------|---------|-------------|
| URL spécifique | 150px | Fichier exact |
| Préfixe (wildcard) | 150px | Pattern /* |
| Tout purger | 150px | Cache complet |

### Textarea URLs
| Propriété | Valeur |
|-----------|--------|
| Label | "URLs à purger (une par ligne)" |
| Largeur | 470px |
| Hauteur | 120px |
| Police | Monospace 11px |

### Message avertissement
| Propriété | Valeur |
|-----------|--------|
| Type | Warning (#FEF3C7) |
| Icône | ⚠️ |
| Texte | "La purge peut prendre jusqu'à 5 minutes pour se propager sur tous les PoP." |

### Bouton action
| Propriété | Valeur |
|-----------|--------|
| Texte | "Lancer purge" |
| Style | Primary #0050D7 |
| Largeur | 140px |

## 6. CARTE HISTORIQUE
| Propriété | Valeur |
|-----------|--------|
| Largeur | 510px |
| Hauteur | 380px |
| Titre | "Historique des purges" |

### Ligne historique
| Propriété | Valeur |
|-----------|--------|
| Hauteur | 55px |
| Border radius | 4px |
| Fond succès | #DCFCE7 |
| Fond en cours | #FEF3C7 |

### Contenu ligne
| Élément | Description |
|---------|-------------|
| Date/heure | "29/12/2024 15:30" |
| Type | URL, Wildcard, Full |
| Détail | Pattern ou fichiers concernés |
| Badge état | En coin droit |

## 7. BADGES ÉTAT PURGE
| État | Fond | Texte |
|------|------|-------|
| Terminé | #16A34A | white |
| En cours... | #F59E0B | white |
| Échec | #DC2626 | white |

## 8. EXEMPLES HISTORIQUE
| Date | Type | Détail | État |
|------|------|--------|------|
| 29/12 15:30 | URL | /static/css/main.css (3 fichiers) | Terminé |
| 29/12 15:28 | Wildcard | /images/* (45 fichiers) | En cours |
| 29/12 14:00 | Full | Cache complet (1,234 fichiers) | Terminé |

## 9. APIS & ENDPOINTS
- POST /cdn/{serviceName}/domain/{domain}/purge - Lancer purge
- GET /cdn/{serviceName}/domain/{domain}/purge - Historique purges
- GET /cdn/{serviceName}/domain/{domain}/purge/{taskId} - État purge

