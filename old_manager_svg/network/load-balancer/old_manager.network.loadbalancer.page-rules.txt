# Cahier des Charges : network/loadbalancer - Page Rules

## 1. VUE D'ENSEMBLE
- **Type** : Page règles de routage Load Balancer
- **Contexte** : Network Load Balancer
- **Objectif** : Configurer les règles L7

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1100px |
| Page hauteur | 550px |
| Background | #F9FAFB |

## 3. COMPOSANTS UI
- **OdsText** : Titres et descriptions
- **OdsButton** : Ajouter règle
- **OdsDatagrid** : Liste règles
- **OdsBadge** : Type action
- **OdsCode** : Conditions

## 4. HEADER
| Propriété | Valeur |
|-----------|--------|
| Titre | "Règles de routage" |
| Sous-titre | "lb-production-web - Configuration des règles L7." |

## 5. BOUTON ACTION
| Propriété | Valeur |
|-----------|--------|
| Texte | "+ Ajouter règle" |
| Style | Primary #0050D7 |

## 6. COLONNES TABLEAU
| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Priorité | 70px | Numéro (bold) |
| Condition | 290px | Code monospace |
| Action | 100px | Badge type |
| Backend cible | 180px | Nom backend |
| Hits | 110px | Nombre |
| État | 90px | Dot |
| Actions | 60px | Menu ⋮ |

## 7. BADGES ACTION
| Action | Fond | Texte |
|--------|------|-------|
| Route to | #DBEAFE | #1E40AF |
| Redirect | #FEF3C7 | #92400E |
| Deny | #FEE2E2 | #DC2626 |

## 8. CONDITIONS EXEMPLE
| Type | Pattern |
|------|---------|
| path_beg | /api/v2, /static |
| hdr(Host) | -i admin.example.com |
| path_beg | /health |
| default | (règle par défaut) |

## 9. MENU ACTIONS (⋮)
| Action | Style |
|--------|-------|
| Éditer | Normal |
| Monter/Descendre | Normal |
| Dupliquer | Normal |
| --- | Séparateur |
| Supprimer | Danger (#DC2626) |

## 10. APIS & ENDPOINTS
- GET /ipLoadbalancing/{serviceName}/http/route - Liste règles
- POST /ipLoadbalancing/{serviceName}/http/route - Créer
- PUT /ipLoadbalancing/{serviceName}/http/route/{id} - Modifier
- DELETE /ipLoadbalancing/{serviceName}/http/route/{id} - Supprimer

