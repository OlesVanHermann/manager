# Cahier des Charges : network/load-balancer - Onglet Fermes de serveurs

## 1. VUE D'ENSEMBLE
- **Page** : Liste des fermes de serveurs
- **URL** : /network/load-balancer/{serviceName}/farms
- **Objectif** : Gérer les fermes et serveurs du Load Balancer

## 2. STRUCTURE PAGE
- Sidebar Network
- Breadcrumb
- Onglets navigation
- Description explicative
- Bouton d'ajout
- Liste accordéons des fermes

## 3. COMPOSANTS UI
- **OdsBreadcrumb** : Navigation
- **OdsTabs** : Accueil/Frontends/Fermes de serveurs (actif)/Certificats SSL
- **OdsText** : Titre et description
- **OdsButton** : "Ajouter une ferme de serveurs" (outline)
- **OdsAccordion** : Liste des fermes
- **OdsDatagrid** : Serveurs dans chaque ferme
- **OdsToggle** : Active/Inactive serveur
- **OdsBadge** : Statut UP/DOWN
- **OdsActionMenu** : Actions par serveur

## 4. EN-TÊTE SECTION
| Élément | Contenu |
|---------|---------|
| Titre | "Fermes de serveurs" |
| Description | "La ferme de serveurs est la partie de votre Load Balancer qui sert à répartir le trafic sur les serveurs." |
| Bouton | "+ Ajouter une ferme de serveurs" (200x36px, outline) |

## 5. ACCORDÉON FERME
| Champ | Valeur exemple |
|-------|----------------|
| Icône toggle | ▼ (ouvert) / ▶ (fermé) |
| ID | Ferme 78901 |
| Nom | farm-web-prod |
| Compteur | 4 serveurs |
| Actions | ⋮ |

### États accordéon
| État | Affichage |
|------|-----------|
| Ouvert | Contenu visible avec tableau serveurs |
| Fermé | Ligne résumée uniquement |

## 6. TABLEAU SERVEURS (dans accordéon ouvert)
| Colonne | Type | Description |
|---------|------|-------------|
| Serveur | Text | Nom du serveur |
| IPv4 | Text | Adresse IP |
| Active | Toggle | Activer/désactiver |
| Status | Badge | UP (vert) / DOWN (rouge) |
| Actions | Menu ⋮ | Actions contextuelles |

### Données exemple
| Serveur | IPv4 | Active | Status |
|---------|------|--------|--------|
| server-web-01 | 10.0.0.1 | ✓ ON | UP (vert) |
| server-web-02 | 10.0.0.2 | ✓ ON | DOWN (rouge) |

## 7. BOUTON AJOUT SERVEUR
Dans chaque accordéon ouvert :
- **Label** : "+ Ajouter un serveur"
- **Style** : Outline, 150x32px
- **Position** : Haut du contenu accordéon

## 8. ACTION MENU SERVEUR (ouvert)
| Action | Style |
|--------|-------|
| Voir l'aperçu | Normal |
| Voir le statut | Normal |
| --- | Séparateur |
| Modifier | Normal |
| --- | Séparateur |
| Supprimer | Danger (rouge) |

## 9. LISTE DES FERMES EXEMPLE
| Ferme | Nom | Serveurs | État |
|-------|-----|----------|------|
| 78901 | farm-web-prod | 4 | Ouvert |
| 78902 | farm-api | 2 | Fermé |
| 78903 | farm-static | 1 | Fermé |

## 10. APIS & ENDPOINTS
- GET /ipLoadbalancing/{serviceName}/http/farm - Liste fermes HTTP
- GET /ipLoadbalancing/{serviceName}/tcp/farm - Liste fermes TCP
- GET /ipLoadbalancing/{serviceName}/http/farm/{farmId} - Détails ferme HTTP
- GET /ipLoadbalancing/{serviceName}/http/farm/{farmId}/server - Serveurs d'une ferme
- POST /ipLoadbalancing/{serviceName}/http/farm - Créer ferme
- POST /ipLoadbalancing/{serviceName}/http/farm/{farmId}/server - Ajouter serveur
- PUT /ipLoadbalancing/{serviceName}/http/farm/{farmId}/server/{serverId} - Modifier serveur
- DELETE /ipLoadbalancing/{serviceName}/http/farm/{farmId}/server/{serverId} - Supprimer serveur


