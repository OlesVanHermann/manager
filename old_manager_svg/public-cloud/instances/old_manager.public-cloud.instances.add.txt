# Cahier des Charges : public-cloud/instances/add

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.public-cloud.instances.add.svg |
| **NAV1** | public-cloud |
| **NAV2** | instances |
| **Type** | Wizard / Stepper |
| **Description** | Assistant de création d'une nouvelle instance Public Cloud |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page pleine largeur (sans LEFT PANEL) |
| Breadcrumb | mon-projet / Instances / Créer une instance |

---

## 3. HEADER

| Titre | Créer une instance |
| Font-size | 22px |
| Font-weight | 600 |

---

## 4. STEPPER

| Étape | Label | État |
|-------|-------|------|
| 1 | Modèle | Actif |
| 2 | Région | Pending |
| 3 | Image | Pending |
| 4 | Configuration | Pending |
| 5 | Réseau | Pending |
| 6 | Facturation | Pending |

### Style stepper

| Élément | Style |
|---------|-------|
| Cercle actif | #0050D7, texte blanc |
| Cercle inactif | #FFFFFF, bordure #E5E7EB, texte gris |
| Cercle complété | #059669 |
| Ligne | #E5E7EB, 2px |

---

## 5. ÉTAPE 1 : SÉLECTION DU MODÈLE

### 5.1 Titre section

| Texte | Sélectionnez un modèle |
| Font-size | 16px |
| Font-weight | 600 |

### 5.2 Tabs catégories

| Tab | Dimensions |
|-----|------------|
| Général | 100×36px, actif (primary) |
| CPU | 100×36px, outline |
| RAM | 100×36px, outline |
| GPU | 100×36px, outline |
| Discovery | 100×36px, outline |
| IOPS | 100×36px, outline |

### 5.3 Cartes de flavors

| Dimensions carte | 220×180px |
| Carte sélectionnée | Bordure #0050D7 (2px) + checkmark |

### 5.4 Contenu carte

| Élément | Exemple |
|---------|---------|
| Nom | b2-7 |
| vCPU | 2 vCPU |
| RAM | 7 Go RAM |
| Stockage | 50 Go SSD NVMe |
| Séparateur | Ligne #E5E7EB |
| Prix horaire | 0,0186€ HT/heure |
| Prix mensuel | ~13,39€ HT/mois |

---

## 6. FOOTER

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Suivant | Primary | 120×40px |

---

## 7. APIS & ENDPOINTS

### 7.1 Lister les flavors

```
GET /cloud/project/{projectId}/flavor
```

Response:
```json
[
  {
    "id": "flavor-id",
    "name": "b2-7",
    "vcpus": 2,
    "ram": 7168,
    "disk": 50,
    "type": "general",
    "hourly": "0.0186",
    "monthly": "13.39"
  }
]
```

### 7.2 Lister les régions

```
GET /cloud/project/{projectId}/region
```

### 7.3 Lister les images

```
GET /cloud/project/{projectId}/image
```

### 7.4 Créer l'instance

```
POST /cloud/project/{projectId}/instance
```

Body:
```json
{
  "name": "string",
  "flavorId": "flavor-id",
  "imageId": "image-id",
  "region": "GRA11",
  "sshKeyId": "ssh-key-id",
  "monthlyBilling": false,
  "networks": [...]
}
```

---

## 8. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `pci_instances_add_title` | Créer une instance |
| `pci_instances_add_step_1` | Modèle |
| `pci_instances_add_step_2` | Région |
| `pci_instances_add_step_3` | Image |
| `pci_instances_add_step_4` | Configuration |
| `pci_instances_add_step_5` | Réseau |
| `pci_instances_add_step_6` | Facturation |
| `pci_instances_add_flavor_title` | Sélectionnez un modèle |
| `pci_instances_add_flavor_general` | Général |
| `pci_instances_add_flavor_cpu` | CPU |
| `pci_instances_add_flavor_ram` | RAM |
| `pci_instances_add_flavor_gpu` | GPU |
| `pci_instances_add_flavor_discovery` | Discovery |
| `pci_instances_add_flavor_iops` | IOPS |
| `pci_instances_add_flavor_vcpu` | vCPU |
| `pci_instances_add_flavor_ram_unit` | Go RAM |
| `pci_instances_add_flavor_disk` | SSD NVMe |
| `pci_instances_add_flavor_hourly` | HT/heure |
| `pci_instances_add_flavor_monthly` | HT/mois |
| `pci_instances_add_next` | Suivant |
