# Cahier des Charges : public/databases - Page Metrics

## 1. VUE D'ENSEMBLE
- **Type** : Page métriques database
- **Contexte** : Public Cloud Databases
- **Objectif** : Surveiller les performances d'une base de données

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1100px |
| Page hauteur | 600px |
| Background | #F9FAFB |

## 3. COMPOSANTS UI
- **OdsText** : Titres et descriptions
- **OdsSelect** : Période de temps
- **OdsButton** : Rafraîchir
- **OdsCard** : KPI cards
- **OdsChart** : Graphiques (line, bar)
- **OdsDatagrid** : Requêtes lentes

## 4. HEADER
| Propriété | Valeur |
|-----------|--------|
| Titre | "Métriques Base de Données" |
| Sous-titre | "db-postgresql-prod | PostgreSQL 15" |

## 5. FILTRES HEADER
| Élément | Largeur | Contenu |
|---------|---------|---------|
| Période | 180px | Select (1h, 24h, 7j, 30j) |
| Rafraîchir | 100px | Bouton primary |

## 6. KPI CARDS
| KPI | Valeur | Format |
|-----|--------|--------|
| Connexions actives | 47/100 | Nombre/Max |
| Requêtes/sec | 1,234 | Nombre |
| Latence moyenne | 12ms | Durée |
| Cache hit ratio | 98.5% | Pourcentage (vert) |
| Stockage utilisé | 45 GB/100 GB | Taille/Max |

## 7. GRAPHIQUE CPU & MÉMOIRE
| Propriété | Valeur |
|-----------|--------|
| Type | Line chart |
| Largeur | 510px |
| Hauteur | 180px |
| Série 1 | CPU (#0050D7) |
| Série 2 | RAM (#F59E0B) |
| Axe Y | 0-100% |

## 8. GRAPHIQUE REQUÊTES/SEC
| Propriété | Valeur |
|-----------|--------|
| Type | Bar chart |
| Largeur | 510px |
| Hauteur | 180px |
| Couleur barres | #16A34A |
| Axe Y | 0-2000 |

## 9. TABLEAU REQUÊTES LENTES
| Colonne | Largeur | Contenu |
|---------|---------|---------|
| Requête | 580px | SQL query (monospace) |
| Durée | 120px | Temps (couleur selon seuil) |
| Appels | 100px | Nombre exécutions |
| Dernière exécution | 200px | Temps relatif |

### Seuils durée
| Durée | Couleur |
|-------|---------|
| > 500ms | #DC2626 (rouge) |
| 100-500ms | #F59E0B (orange) |
| < 100ms | #16A34A (vert) |

## 10. APIS & ENDPOINTS
- GET /cloud/project/{id}/database/{dbId}/metrics - Métriques
- GET /cloud/project/{id}/database/{dbId}/metrics/queries - Requêtes lentes
- GET /cloud/project/{id}/database/{dbId}/metrics/connections - Connexions

