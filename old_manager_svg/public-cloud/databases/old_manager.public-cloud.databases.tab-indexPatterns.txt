# Cahier des Charges : public-cloud/databases - Onglet Index Patterns (OpenSearch)

## 1. VUE D'ENSEMBLE
- **Page** : Databases - Onglet Index Patterns (OpenSearch)
- **Type** : Page onglet listing
- **Objectif** : Gérer les patterns d'index et les index OpenSearch

## 2. STRUCTURE PAGE
- Header OVH
- Sidebar avec service OpenSearch actif
- Breadcrumb avec "Index patterns"
- Onglets (Index patterns actif)
- Section "Patterns"
- Section "Index"
- ActionMenu ouvert

## 3. COMPOSANTS UI
- **OdsBreadcrumb** : Navigation
- **OdsTabs** : Onglets avec Index patterns actif
- **OdsButton** : "+ Ajouter un pattern" (outline)
- **OdsTable** : 2 tableaux (Patterns, Index)
- **OdsActionMenu** : Actions

## 4. TITRE
"Patterns"

## 5. TABLEAU PATTERNS
### Colonnes
| Colonne | Type | Description |
|---------|------|-------------|
| Pattern | Texte | Pattern (avec wildcard *) |
| Nombre maximal d'index | Nombre | Limite d'index |
| Actions | Menu ⋮ | ActionMenu |

### Données exemple
| Pattern | Max index |
|---------|-----------|
| logs_* | 30 |
| metrics_* | 15 |

## 6. SECTION "INDEX"
### Colonnes
| Colonne | Type | Description |
|---------|------|-------------|
| Index | Texte | Nom de l'index |
| Shards | Nombre | Nombre de shards |
| Réplicas | Nombre | Nombre de réplicas |
| Taille | Texte | Taille en GB |
| Documents | Nombre formaté | Nombre de documents |
| Date de création | Date | Date création |
| Actions | Menu ⋮ | ActionMenu |

### Données exemple
| Index | Shards | Réplicas | Taille | Documents | Date |
|-------|--------|----------|--------|-----------|------|
| logs_2024-01-15 | 5 | 1 | 2.3 GB | 1,245,678 | 15 janv. 2024 |
| logs_2024-01-14 | 5 | 1 | 1.8 GB | 982,341 | 14 janv. 2024 |

## 7. ACTION MENU (ouvert)
| Action | Type |
|--------|------|
| Supprimer | Danger (rouge) |

## 8. APIS & ENDPOINTS
- GET /cloud/project/{projectId}/database/opensearch/{serviceId}/pattern
  - Liste des patterns
- POST /cloud/project/{projectId}/database/opensearch/{serviceId}/pattern
  - Body: { pattern, maxIndexCount }
  - Créer un pattern
- DELETE /cloud/project/{projectId}/database/opensearch/{serviceId}/pattern/{patternId}
  - Supprimer un pattern
- GET /cloud/project/{projectId}/database/opensearch/{serviceId}/index
  - Liste des index
- DELETE /cloud/project/{projectId}/database/opensearch/{serviceId}/index/{indexId}
  - Supprimer un index
