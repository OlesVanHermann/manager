# Cahier des Charges : public-cloud/other/workflow/success

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.public-cloud.workflow.success.svg |
| **NAV1** | public-cloud |
| **NAV2** | workflow |
| **Type** | Page listing avec notification succès |
| **Description** | Liste des workflows après création réussie avec notification de succès |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Deux colonnes (LEFT PANEL + RIGHT PANEL) |
| LEFT PANEL | 280px - Liste des projets |
| RIGHT PANEL | flex:1 - Datagrid workflows |

---

## 3. NOTIFICATION SUCCÈS

| Élément | Valeur |
|---------|--------|
| Dimensions | 1440×50px (pleine largeur) |
| Background | #059669 (success) |
| Position | Sous le NAV2 |
| Icône | ✓ |
| Message | Workflow schedule 'backup-daily-web' créé avec succès |
| Bouton fermer | × |
| Couleur texte | #FFFFFF |

---

## 4. HEADER RIGHT PANEL

| Élément | Valeur |
|---------|--------|
| Titre | Gestion du workflow |
| Font-size | 18px |
| Font-weight | 600 |

---

## 5. TOOLBAR

| Bouton | Style | Dimensions |
|--------|-------|------------|
| + Créer une planification | Outline primary | 180×36px |

---

## 6. DATAGRID

### 6.1 Colonnes

| Colonne | Description |
|---------|-------------|
| Nom | Nom du workflow |
| ID | Identifiant unique |
| Backup | Type de sauvegarde (Local, Local distant) |
| Localisation | Région (GRA11, SBG5) |
| Workflow | Type (Sauvegarde auto.) |
| Ressource | Instance liée (lien cliquable) |
| Cron | Expression cron |
| Dernière exec. | Date dernière exécution |
| Statut | Badge statut |
| Actions | Menu ⋮ |

### 6.2 Données exemple

| Nom | ID | Backup | Localisation | Cron | Statut |
|-----|----|--------|--------------|------|--------|
| backup-daily-web | wf-new123 | Local | GRA11 | 0 2 * * * | Inactif (highlight vert) |
| backup-daily | wf-abc123 | Local | GRA11 | 0 2 * * * | Succès |
| backup-weekly | wf-def456 | Local, distant | SBG5 | 0 3 * * 0 | Succès |

### 6.3 Style ligne nouvellement créée

| Propriété | Valeur |
|-----------|--------|
| Background | #F0FDF4 (success light) |
| Font-weight | 600 pour le nom |

### 6.4 Badges statut

| Statut | Background | Couleur texte |
|--------|------------|---------------|
| Succès | #DEF7EC | #059669 |
| Inactif | #FEF3C7 | #D97706 |

---

## 7. PAGINATION

| Texte | 3 résultats |

---

## 8. APIS & ENDPOINTS

### 8.1 Lister les workflows

```
GET /cloud/project/{projectId}/workflow/backup
```

### 8.2 Obtenir le statut d'exécution

```
GET /cloud/project/{projectId}/workflow/backup/{workflowId}/execution
```

---

## 9. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `pci_workflow_success_notification` | Workflow schedule '{name}' créé avec succès |
| `pci_workflow_title` | Gestion du workflow |
| `pci_workflow_create` | Créer une planification |
| `pci_workflow_col_name` | Nom |
| `pci_workflow_col_id` | ID |
| `pci_workflow_col_backup` | Backup |
| `pci_workflow_col_region` | Localisation |
| `pci_workflow_col_type` | Workflow |
| `pci_workflow_col_resource` | Ressource |
| `pci_workflow_col_cron` | Cron |
| `pci_workflow_col_last_exec` | Dernière exec. |
| `pci_workflow_col_status` | Statut |
| `pci_workflow_status_success` | Succès |
| `pci_workflow_status_inactive` | Inactif |
| `pci_workflow_backup_local` | Local |
| `pci_workflow_backup_both` | Local, distant |
| `pci_workflow_type_auto` | Sauvegarde auto. |
| `pci_workflow_results` | {count} résultats |
