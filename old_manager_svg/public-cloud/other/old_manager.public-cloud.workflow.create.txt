# Cahier des Charges : public-cloud/other/workflow/create

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.public-cloud.workflow.create.svg |
| **NAV1** | public-cloud |
| **NAV2** | workflow |
| **Type** | Wizard formulaire |
| **Description** | Assistant de création d'un plan de workflow |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Deux colonnes (LEFT PANEL + RIGHT PANEL) |
| LEFT PANEL | 280px - Liste des projets |
| RIGHT PANEL | flex:1 - Formulaire wizard |
| Breadcrumb | my-project-123456 > Workflow > Créer |
| Titre | Création d'un plan de workflow |

---

## 3. ÉTAPE 1 - SÉLECTIONNER UN WORKFLOW

### 3.1 Header

| Titre | Sélectionnez un Workflow |
| Info | Un Workflow décrit une ou plusieurs actions. |

### 3.2 Options workflow

| Option | Description | Sélectionné |
|--------|-------------|-------------|
| Sauvegarde automatisée des instances | Ce Workflow générera des sauvegardes d'Instance utilisables pour démarrer de nouvelles Instances. | Oui (bordure bleue + ✓) |

---

## 4. ÉTAPE 2 - SÉLECTIONNER UNE RESSOURCE

### 4.1 Header

| Titre | Sélectionnez une ressource ciblée |

### 4.2 Select ressource

| Type | Select dropdown |
| Dimensions | 400×40px |
| Valeur exemple | web-server-01 (GRA11) |

---

## 5. ÉTAPE 3 - DÉFINIR L'ORDONNANCEMENT

### 5.1 Header

| Titre | Définir l'ordonnancement |

### 5.2 Cards planning

| Option | Description | Sélectionné |
|--------|-------------|-------------|
| Rotation 7 | Sauvegarde quotidienne, 7 dernières entrées conservées | Oui (bordure bleue) |
| Rotation 14 | Sauvegarde quotidienne, 14 dernières entrées conservées | Non |
| Personnalisé | Format UNIX Cron, Configuration libre | Non |

---

## 6. ÉTAPE 4 - NOM DU WORKFLOW

### 6.1 Header

| Titre | Donnez un nom à votre horaire |

### 6.2 Input nom

| Type | Input text |
| Dimensions | 400×40px |
| Valeur exemple | backup-daily-web |
| Info | Peut contenir des chiffres, lettres, soulignés, tirets et points. |

---

## 7. BANDEAU PRIX

| Dimensions | 1056×40px |
| Background | #DBEAFE (info) |
| Texte | Chaque sauvegarde sera facturée : 0,01 € HT/mois/Go |

---

## 8. ACTIONS

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Annuler | Outline primary | 100×40px |
| Créer | Primary | 100×40px |

---

## 9. APIS & ENDPOINTS

### 9.1 Lister les instances disponibles

```
GET /cloud/project/{projectId}/instance
```

### 9.2 Créer un workflow

```
POST /cloud/project/{projectId}/workflow
{
  "name": "backup-daily-web",
  "instanceId": "instance-uuid",
  "cron": "0 2 * * *",
  "rotation": 7
}
```

---

## 10. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `pci_workflow_create_title` | Création d'un plan de workflow |
| `pci_workflow_create_step1_title` | Sélectionnez un Workflow |
| `pci_workflow_create_step1_info` | Un Workflow décrit une ou plusieurs actions. |
| `pci_workflow_create_backup_title` | Sauvegarde automatisée des instances |
| `pci_workflow_create_backup_desc` | Ce Workflow générera des sauvegardes d'Instance utilisables pour démarrer de nouvelles Instances. |
| `pci_workflow_create_step2_title` | Sélectionnez une ressource ciblée |
| `pci_workflow_create_step3_title` | Définir l'ordonnancement |
| `pci_workflow_create_rotation_7` | Rotation 7 |
| `pci_workflow_create_rotation_7_desc` | Sauvegarde quotidienne, 7 dernières entrées conservées |
| `pci_workflow_create_rotation_14` | Rotation 14 |
| `pci_workflow_create_rotation_14_desc` | Sauvegarde quotidienne, 14 dernières entrées conservées |
| `pci_workflow_create_custom` | Personnalisé |
| `pci_workflow_create_custom_desc` | Format UNIX Cron, Configuration libre |
| `pci_workflow_create_step4_title` | Donnez un nom à votre horaire |
| `pci_workflow_create_name_info` | Peut contenir des chiffres, lettres, soulignés, tirets et points. |
| `pci_workflow_create_price` | Chaque sauvegarde sera facturée : 0,01 € HT/mois/Go |
| `pci_workflow_create_cancel` | Annuler |
| `pci_workflow_create_submit` | Créer |
