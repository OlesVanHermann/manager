# Cahier des Charges : public-cloud/other/workflow/filter

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.public-cloud.workflow.filter.svg |
| **NAV1** | public-cloud |
| **NAV2** | workflow |
| **Type** | Page listing avec panneau de filtres |
| **Description** | Liste des workflows avec panneau de filtrage ouvert |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Deux colonnes (LEFT PANEL + RIGHT PANEL) |
| LEFT PANEL | 280px - Liste des projets |
| RIGHT PANEL | flex:1 - Datagrid + panneau filtres |

---

## 3. TOOLBAR

| Élément | Position | Description |
|---------|----------|-------------|
| + Créer une planification | Gauche | Bouton outline primary |
| Rechercher... | Droite | Input search |
| Filtrer | Droite | Bouton primary (actif) |

---

## 4. PANNEAU DE FILTRES

| Dimensions | 270×220px |
| Position | Dropdown sous le bouton Filtrer |
| Background | #FFFFFF |
| Shadow | drop-shadow |

### 4.1 Header

| Background | #F9FAFB |
| Titre | Filtrer |
| Bouton fermer | × |

### 4.2 Filtre - Dernier état d'exécution

| Label | Dernier état d'exécution |
| Type | Select dropdown |
| Dimensions | 238×32px |
| Options | Tous, Succès, Erreur, En cours |
| Valeur par défaut | Tous |

### 4.3 Filtre - Localisation

| Label | Localisation |
| Type | Select dropdown |
| Dimensions | 238×32px |
| Options | Toutes les régions, GRA11, SBG5, DE1, ... |
| Valeur par défaut | Toutes les régions |

### 4.4 Actions filtres

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Réinitialiser | Outline primary | 110×30px |
| Appliquer | Primary | 118×30px |

---

## 5. DATAGRID

| Colonnes | 10 |

### 5.1 Colonnes

| Colonne | Description |
|---------|-------------|
| Nom | Nom du workflow |
| ID | Identifiant court |
| Backup | Type (Local, distant) |
| Localisation | Région |
| Workflow | Type de workflow |
| Ressource | Lien vers la ressource |
| Cron | Expression cron |
| Dernière exec. | Date/heure dernière exécution |
| Statut | Badge succès/erreur |
| Actions | Menu ⋮ |

### 5.2 Données exemple

| Nom | ID | Backup | Localisation | Workflow | Ressource | Cron | Dernière exec. | Statut |
|-----|----|----|--------------|----------|-----------|------|----------------|--------|
| backup-daily | wf-abc123 | Local | GRA11 | Sauvegarde auto. | web-server-01 | 0 2 * * * | 02/01 02:00 | Succès |
| backup-weekly | wf-def456 | Local, distant | SBG5 | Sauvegarde auto. | db-server-prod | 0 3 * * 0 | 29/12 03:00 | Succès |
| backup-monthly | wf-ghi789 | Local | DE1 | Sauvegarde auto. | app-server-01 | 0 4 1 * * | 01/01 04:00 | Erreur |

---

## 6. APIS & ENDPOINTS

### 6.1 Lister les workflows

```
GET /cloud/project/{projectId}/workflow
```

### 6.2 Lister les workflows avec filtres

```
GET /cloud/project/{projectId}/workflow?status=SUCCESS&region=GRA11
```

---

## 7. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `pci_workflow_list_title` | Gestion du workflow |
| `pci_workflow_list_create` | Créer une planification |
| `pci_workflow_list_search` | Rechercher... |
| `pci_workflow_list_filter` | Filtrer |
| `pci_workflow_filter_title` | Filtrer |
| `pci_workflow_filter_status` | Dernier état d'exécution |
| `pci_workflow_filter_status_all` | Tous |
| `pci_workflow_filter_region` | Localisation |
| `pci_workflow_filter_region_all` | Toutes les régions |
| `pci_workflow_filter_reset` | Réinitialiser |
| `pci_workflow_filter_apply` | Appliquer |
| `pci_workflow_col_name` | Nom |
| `pci_workflow_col_id` | ID |
| `pci_workflow_col_backup` | Backup |
| `pci_workflow_col_region` | Localisation |
| `pci_workflow_col_type` | Workflow |
| `pci_workflow_col_resource` | Ressource |
| `pci_workflow_col_cron` | Cron |
| `pci_workflow_col_last` | Dernière exec. |
| `pci_workflow_col_status` | Statut |
| `pci_workflow_results` | {count} résultats |
