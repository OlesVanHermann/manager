# Cahier des Charges : license/listing-loading

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.license.listing-loading.svg |
| **NAV1** | license (Licences) |
| **NAV2** | - |
| **Type** | État de chargement (skeleton) |
| **Description** | Page de listing des licences en cours de chargement |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page pleine largeur (sans LEFT PANEL) |
| RIGHT PANEL | 1392×765px |

---

## 3. HEADER

### 3.1 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Licences |
| Font-size | 18px |
| Font-weight | 600 |

### 3.2 Boutons action

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Commander | Primary (#0050D7) | 120×36px |
| Ajouter SPLA | Outline | 140×36px |

### 3.3 Recherche

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 300×36px |
| Placeholder | Rechercher... |

---

## 4. INDICATEUR DE CHARGEMENT

### 4.1 Animation

| Propriété | Valeur |
|-----------|--------|
| Type | Cercle pulsant |
| Couleur | #0050D7 |
| Rayon | 8px |
| Animation | opacity 0.3→1→0.3, durée 1.2s |

### 4.2 Message

| Propriété | Valeur |
|-----------|--------|
| Texte | Chargement des licences... |
| Couleur | #6B7280 |
| Font-size | 12px |

---

## 5. DATAGRID SKELETON

### 5.1 Header tableau

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 1340×40px |
| Background | #F9FAFB |
| Border radius | 4px |

### 5.2 Colonnes header

| Colonne | Position |
|---------|----------|
| Type | x: 20 |
| Nom | x: 150 |
| ID licence | x: 420 |
| IP | x: 620 |
| Service | x: 780 |
| Expiration | x: 1000 |
| Statut | x: 1150 |
| Actions | x: 1280 |

### 5.3 Skeleton rows

| Propriété | Valeur |
|-----------|--------|
| Nombre de lignes | 5 |
| Hauteur ligne | 45px |
| Séparateur | Ligne 1px #E5E7EB |

### 5.4 Skeleton blocks

| Type | Couleur |
|------|---------|
| Principal | #E5E7EB |
| Secondaire | #F3F4F6 |
| Border radius | 4px |
| Hauteur | 14px (texte), 20px (badge) |

### 5.5 Pattern par ligne

| Colonne | Largeur skeleton | Style |
|---------|------------------|-------|
| Type | 70-90px | Alternance |
| Nom | 180-220px | Alternance |
| ID licence | 120-140px | Alternance |
| IP | 110-130px | Alternance |
| Service | 150-180px | Alternance |
| Expiration | 85-100px | Alternance |
| Statut | 55-65px | Badge arrondi |
| Actions | 30px | - |

---

## 6. PAGINATION SKELETON

| Propriété | Valeur |
|-----------|--------|
| Position Y | 420px |
| Skeleton gauche | 80×14px |
| Skeleton droite | 100×14px |

---

## 7. APIS & ENDPOINTS

### 7.1 Lister les licences

```
GET /license
```

Response:
```json
{
  "licenses": [
    {
      "type": "plesk",
      "name": "ns123.ip-1-2-3.eu",
      "licenseId": "PLESK-123456",
      "ip": "1.2.3.4",
      "serviceName": "ns123.ip-1-2-3.eu",
      "expiration": "2025-06-20",
      "status": "active"
    }
  ],
  "pagination": {
    "page": 1,
    "pageSize": 20,
    "total": 150
  }
}
```

---

## 8. COMPORTEMENT

### 8.1 Affichage skeleton

| Déclencheur | Durée |
|-------------|-------|
| Chargement initial | Jusqu'à réponse API |
| Changement de page | Pendant requête |
| Recherche | Pendant requête (debounce 300ms) |

### 8.2 Transitions

| État | Transition |
|------|------------|
| Skeleton → Data | Fade in 200ms |
| Data → Skeleton | Immédiat |

---

## 9. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `license_listing_title` | Licences |
| `license_listing_loading` | Chargement des licences... |
| `license_listing_search` | Rechercher... |
| `license_listing_order` | Commander |
| `license_listing_add_spla` | Ajouter SPLA |
| `license_listing_col_type` | Type |
| `license_listing_col_name` | Nom |
| `license_listing_col_id` | ID licence |
| `license_listing_col_ip` | IP |
| `license_listing_col_service` | Service |
| `license_listing_col_expiration` | Expiration |
| `license_listing_col_status` | Statut |
| `license_listing_col_actions` | Actions |
