# Cahier des Charges : license/detail-spla

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.license.detail-spla.svg |
| **NAV1** | license (Licences) |
| **NAV2** | - |
| **Type** | Page détail avec ActionMenu |
| **Description** | Page de détail d'une licence SPLA avec informations et actions |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page pleine largeur (sans LEFT PANEL) |
| RIGHT PANEL | 1392×765px |

---

## 3. HEADER

### 3.1 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Détails de la licence - SPLA (Windows Server) |
| Font-size | 18px |
| Font-weight | 600 |

### 3.2 Lien retour

| Propriété | Valeur |
|-----------|--------|
| Texte | ← Retour à la gestion des licenses |
| Couleur | #0050D7 |

### 3.3 ActionMenu (ouvert)

| Propriété | Valeur |
|-----------|--------|
| Bouton | ⋮ (36×36px) |
| Position | Droite du header |

---

## 4. ACTIONMENU (OUVERT)

### 4.1 Container

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 150×90px |
| Background | #FFFFFF |
| Border | 1px #E5E7EB |

### 4.2 Options

| Option | Couleur | Séparateur |
|--------|---------|------------|
| Ajouter une licence | #1F2937 | Oui |
| Révoquer | #DC2626 (danger) | Oui |
| Résilier | #DC2626 (danger) | Non |

---

## 5. BLOC INFORMATIONS LICENCE SPLA

### 5.1 Container

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 600×340px |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 5.2 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Informations de la licence SPLA |
| Font-weight | 600 |

### 5.3 Informations affichées

| Label | Valeur exemple |
|-------|----------------|
| Type | SPLA (Service Provider License Agreement) |
| Produit | Windows Server |
| Adresse IP | 192.168.1.107 |
| ID de licence | SPLA-555666 |
| Nom de service | ns5432109.ip-192-168-1.eu |
| Date de création | 10 janvier 2024 |
| Dernier usage reporté | 31 décembre 2025 |
| Statut | Actif (badge vert) |

---

## 6. BLOC MODE DE FACTURATION

### 6.1 Container

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 400×180px |
| Background | #DBEAFE |
| Border radius | 8px |

### 6.2 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Mode de facturation SPLA |
| Font-weight | 600 |
| Couleur | #1E40AF |

### 6.3 Informations

| Label | Valeur exemple |
|-------|----------------|
| Type de facturation | Usage mensuel |
| Période en cours | Janvier 2026 |
| Prochaine déclaration | 1er février 2026 |

### 6.4 Lien

| Propriété | Valeur |
|-----------|--------|
| Texte | Voir l'historique des déclarations → |
| Couleur | #0050D7 |

---

## 7. BLOC LICENCES ASSOCIÉES

### 7.1 Container

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 400×140px |
| Border | 1px #E5E7EB |
| Border radius | 8px |

### 7.2 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Licences SPLA associées |
| Font-weight | 600 |

### 7.3 Licences

| Produit | Quantité |
|---------|----------|
| Windows Server 2022 | 3 licences |
| SQL Server 2019 | 2 licences |

---

## 8. APIS & ENDPOINTS

### 8.1 Obtenir les détails SPLA

```
GET /license/spla/{serviceName}
```

Response:
```json
{
  "type": "spla",
  "product": "windows-server",
  "ip": "192.168.1.107",
  "licenseId": "SPLA-555666",
  "serviceName": "ns5432109.ip-192-168-1.eu",
  "creationDate": "2024-01-10",
  "lastUsageDate": "2025-12-31",
  "status": "active",
  "billing": {
    "type": "monthly-usage",
    "currentPeriod": "2026-01",
    "nextDeclaration": "2026-02-01"
  },
  "associatedLicenses": [
    {"product": "Windows Server 2022", "quantity": 3},
    {"product": "SQL Server 2019", "quantity": 2}
  ]
}
```

### 8.2 Révoquer une licence SPLA

```
POST /license/spla/{serviceName}/revoke
```

### 8.3 Résilier une licence SPLA

```
DELETE /license/spla/{serviceName}
```

---

## 9. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `license_spla_detail_title` | Détails de la licence - SPLA |
| `license_spla_info_title` | Informations de la licence SPLA |
| `license_spla_type` | Type |
| `license_spla_product` | Produit |
| `license_spla_id` | ID de licence |
| `license_spla_creation` | Date de création |
| `license_spla_last_usage` | Dernier usage reporté |
| `license_spla_billing_title` | Mode de facturation SPLA |
| `license_spla_billing_type` | Type de facturation |
| `license_spla_billing_monthly` | Usage mensuel |
| `license_spla_current_period` | Période en cours |
| `license_spla_next_declaration` | Prochaine déclaration |
| `license_spla_history_link` | Voir l'historique des déclarations |
| `license_spla_associated` | Licences SPLA associées |
| `license_spla_action_add` | Ajouter une licence |
| `license_spla_action_revoke` | Révoquer |
| `license_spla_action_terminate` | Résilier |
