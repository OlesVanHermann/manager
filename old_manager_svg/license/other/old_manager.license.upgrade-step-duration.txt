# Cahier des Charges : license/upgrade-step-duration

## 1. VUE D'ENSEMBLE

| Champ | Valeur |
|-------|--------|
| **Fichier SVG** | old_manager.license.upgrade-step-duration.svg |
| **NAV1** | license (Licences) |
| **NAV2** | - |
| **Type** | Page wizard étape 2/3 |
| **Description** | Étape de sélection de durée dans le wizard d'upgrade avec stepper |

---

## 2. LAYOUT

| Zone | Valeur |
|------|--------|
| Type | Page pleine largeur (sans LEFT PANEL) |
| RIGHT PANEL | 1392×765px |

---

## 3. HEADER

### 3.1 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Upgrader ma licence - cPanel |
| Font-size | 18px |
| Font-weight | 600 |

### 3.2 Lien retour

| Propriété | Valeur |
|-----------|--------|
| Texte | ← Retour à la gestion des licenses |
| Couleur | #0050D7 |

---

## 4. STEPPER

### 4.1 Structure

| Étape | Numéro | Label | État |
|-------|--------|-------|------|
| Étape 1 | ✓ | Options | Complétée (bg #0050D7, check blanc) |
| Étape 2 | 2 | Durée | Active (bg #0050D7, font-weight 600) |
| Étape 3 | 3 | Validation | En attente (border #E5E7EB, texte gris) |

### 4.2 Connecteurs

| Entre | Style |
|-------|-------|
| Étape 1 → 2 | Ligne 2px #0050D7 (complétée) |
| Étape 2 → 3 | Ligne 2px #E5E7EB (en attente) |

---

## 5. CONTENU ÉTAPE 2 : DURÉE

### 5.1 Titre

| Propriété | Valeur |
|-----------|--------|
| Texte | Choisissez une durée d'engagement |
| Font-weight | 600 |

### 5.2 Description

| Propriété | Valeur |
|-----------|--------|
| Texte | Sélectionnez la durée souhaitée pour votre upgrade : |

### 5.3 Options de durée (Cards)

| Option | Dimensions | Prix | Description | État |
|--------|------------|------|-------------|------|
| 1 mois | 400×70px | 9,99 € HT/mois | Engagement minimum, renouvelé automatiquement | Normal |
| 6 mois | 400×70px | 53,99 € HT | Économisez 10% sur le prix mensuel | Normal |
| 12 mois | 400×70px | 95,99 € HT | Économisez 20% - Meilleure offre | Sélectionné (bg #E8F0FE, border #0050D7) |

### 5.4 Badge promo

| Propriété | Valeur |
|-----------|--------|
| Texte | -20% |
| Background | #0050D7 |
| Dimensions | 60×18px |
| Position | Option 12 mois |

---

## 6. RÉCAPITULATIF

### 6.1 Container

| Propriété | Valeur |
|-----------|--------|
| Dimensions | 350×180px |
| Background | #DBEAFE (info) |
| Border radius | 8px |

### 6.2 Contenu

| Label | Valeur |
|-------|--------|
| Titre | Récapitulatif |
| Produit | cPanel Pro Cloud |
| Durée | 12 mois |
| Prix unitaire | 7,99 €/mois |
| **Total** | **95,99 € HT** |

---

## 7. NAVIGATION

### 7.1 Boutons

| Bouton | Style | Dimensions | Position |
|--------|-------|------------|----------|
| Précédent | Outline | 120×44px | Gauche |
| Suivant | Primary (#0050D7) | 120×44px | Droite |

---

## 8. COMPORTEMENT

| Action | Résultat |
|--------|----------|
| Clic option durée | Sélectionner l'option, mettre à jour récapitulatif |
| Clic Précédent | Retour étape 1 (Options) |
| Clic Suivant | Aller étape 3 (Validation) |

---

## 9. APIS & ENDPOINTS

### 9.1 Calculer le prix selon la durée

```
GET /license/{type}/{serviceName}/upgrade/price?version={version}&duration={duration}
```

Response:
```json
{
  "duration": "P12M",
  "pricePerMonth": 7.99,
  "totalPrice": 95.99,
  "discount": 20
}
```

---

## 10. TRADUCTIONS (i18n)

| Clé | Valeur FR |
|-----|-----------|
| `license_upgrade_step_options` | Options |
| `license_upgrade_step_duration` | Durée |
| `license_upgrade_step_validation` | Validation |
| `license_upgrade_duration_title` | Choisissez une durée d'engagement |
| `license_upgrade_duration_desc` | Sélectionnez la durée souhaitée pour votre upgrade : |
| `license_upgrade_1month` | 1 mois |
| `license_upgrade_6months` | 6 mois |
| `license_upgrade_12months` | 12 mois |
| `license_upgrade_1month_desc` | Engagement minimum, renouvelé automatiquement |
| `license_upgrade_6months_desc` | Économisez 10% sur le prix mensuel |
| `license_upgrade_12months_desc` | Économisez 20% - Meilleure offre |
| `license_upgrade_summary` | Récapitulatif |
| `license_upgrade_product` | Produit |
| `license_upgrade_unit_price` | Prix unitaire |
| `license_upgrade_total` | Total |
| `license_upgrade_previous` | Précédent |
| `license_upgrade_next` | Suivant |
