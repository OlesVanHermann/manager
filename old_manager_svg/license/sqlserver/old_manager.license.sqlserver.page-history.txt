# Cahier des Charges : licence/sqlserver - Page History

## 1. VUE D'ENSEMBLE
- **Type** : Page historique licence SQL Server
- **Contexte** : Licences SQL Server
- **Objectif** : Consulter l'historique des événements et facturation

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1100px |
| Page hauteur | 550px |
| Background | #F9FAFB |

## 3. COMPOSANTS UI
- **OdsText** : Titres et breadcrumb
- **OdsLink** : Retour au détail
- **OdsDatagrid** : Liste événements
- **OdsBadge** : Type événement

## 4. HEADER
| Propriété | Valeur |
|-----------|--------|
| Retour | "← Retour au détail de la licence" |
| Titre | "Historique SQL Server" |
| Sous-titre | Service name (monospace) |

## 5. DATAGRID ÉVÉNEMENTS
| Colonne | Description |
|---------|-------------|
| Date | Format "DD MMM YYYY HH:MM" |
| Événement | Badge coloré |
| Détails | Description événement |
| Montant | Prix ou "-" si gratuit |

## 6. TYPES ÉVÉNEMENTS (BADGES)
| Type | Fond | Texte |
|------|------|-------|
| Renouvellement | #DCFCE7 | #16A34A |
| Ajout de cores | #F3E8FF | #7C3AED |
| Régénération clé | #EFF6FF | #0050D7 |
| Création | #0050D7 | white |

## 7. ÉVÉNEMENTS TRACÉS
| Événement | Détails affichés |
|-----------|------------------|
| Création | "{Version} {Édition} - {cores} cores" |
| Renouvellement | "Facturation mensuelle automatique" |
| Ajout de cores | "{old} cores → {new} cores (prorata)" |
| Régénération clé | "Nouvelle clé de produit générée" |

## 8. TOTAL FACTURÉ
| Propriété | Valeur |
|-----------|--------|
| Fond | #F9FAFB |
| Format | "Total facturé : € XXX.XX HT" |
| Position | Bas du tableau |

## 9. APIS & ENDPOINTS
- GET /license/sqlserver/{serviceName}/tasks - Historique tâches
- GET /license/sqlserver/{serviceName}/serviceInfos - Infos service
- GET /me/bill - Factures associées


