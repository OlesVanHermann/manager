# ============================================================================
# PROMPT TARGET - IAM / Settings
# Version: 3.0 (2026-01-03)
# NAV1: iam | NAV2: settings
# ============================================================================

## 1. VUE D'ENSEMBLE

| Propriete    | Valeur                                    |
|--------------|-------------------------------------------|
| NAV1         | IAM / Securite                            |
| NAV2         | Settings                                  |
| NAV3         | SSO, API Keys, Tags, Service Accounts, Conditions |
| NAV4         | Varie selon NAV3 selectionne              |
| Description  | Configuration IAM: SSO, API Keys, Tags, etc. |
| URL          | /iam/settings                             |

---

## 2. REGLE STRICTE: SIDECAR TYPE A AVEC NAV3 MULTIPLES

**NAV2=Settings a un sidecar (Type A) avec plusieurs options NAV3.**

Structure du sidecar (de haut en bas):
1. **NAV3 dropdown** : [SSO] / [API Keys] / [Tags] / [Service Accounts] / [Conditions]
2. **Recherche** : [Rechercher...]
3. **Tous (All)** : Premier element, selectionne par defaut = vue agregee
4. **Liste des items** : Liste des elements du type selectionne

---

## 3. LAYOUT AVEC SIDECAR

```
+--------------------------------------------------------------------------------+
|                              NAV1: IAM / Securite (50px)                       |
+--------------------------------------------------------------------------------+
| [General][Identities][Policies][Secrets][Keys][Logs][Settings *]      (40px)   |
+---------------------------+----------------------------------------------------+
| LEFT PANEL (280px)        | RIGHT PANEL (1096px)                   (15px gap)  |
|                           |                                                    |
| +---------------------+   | +------------------------------------------------+ |
| | NAV3: [SSO    v]    |   | | Titre + Description            [+ Action]      | |
| +---------------------+   | +------------------------------------------------+ |
|                           | | [Tab1 *][Tab2][Tab3]                           | |
| +---------------------+   | +------------------------------------------------+ |
| | Rechercher...       |   | |                                                | |
| +---------------------+   | |                                                | |
|                           | |              CONTENU PAGE                      | |
| * All Providers       v   | |                                                | |
| -----------------------   | |                                                | |
| SSO PROVIDERS             | |                                                | |
|   Azure AD           G    | |                                                | |
|   Okta               G    | +------------------------------------------------+ |
|   Google Workspace   G    |                                                    |
+---------------------------+----------------------------------------------------+
```

---

## 4. NAV3: OPTIONS DISPONIBLES

| NAV3 | Label FR | Description | Icone |
|------|----------|-------------|-------|
| sso | SSO | Providers Single Sign-On | lock |
| api-keys | Cles API | Tokens d'acces API | key |
| tags | Tags | Etiquettes ressources | tag |
| service-accounts | Comptes Service | Identites machines | robot |
| conditions | Conditions | Restrictions contextuelles | shield |

---

## 5. NAV3: SSO

### 5.1 URL
`/iam/settings/sso`

### 5.2 Sidecar SSO

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [SSO           v]   |
+---------------------------+
| Rechercher...             |
+---------------------------+
| * All Providers        v  |  <-- Premier = vue agregee
| -----------------------   |
| SSO PROVIDERS             |
|   Azure AD            G   |  <-- G = vert (actif)
|   SAML 2.0                |
|   Okta                G   |
|   SAML 2.0                |
|   Google Workspace    G   |
|   OIDC                    |
| -----------------------   |
|                           |
| 3 providers               |
| 65 federated users        |
+---------------------------+
```

### 5.3 NAV4: SSO (Onglets vue All)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Vue d'ensemble providers | * OUI |
| saml | SAML | Providers SAML | |
| oidc | OIDC | Providers OpenID Connect | |

### 5.4 NAV4: SSO (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Configuration provider | * OUI |
| users | Utilisateurs | Utilisateurs federes | |
| logs | Logs | Historique connexions | |

### 5.5 Page SSO - All Providers (Defaut)

```
+----------------------------------------------------+
| SSO Providers                    [+ Add Provider]  |
| Single Sign-On configuration                       |
+----------------------------------------------------+
| [General *][SAML][OIDC]                            |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+             |
| | Providers| | SAML     | | OIDC     |             |
| |     3    | |    2     | |    1     |             |
| +----------+ +----------+ +----------+             |
|                                                    |
| ALL PROVIDERS                                      |
| +------------------------------------------------+ |
| | Provider  | Type | Status | Users  | [menu]   | |
| +-----------+------+--------+--------+----------+ |
| | Azure AD  | SAML |   G    |   45   | [menu]   | |
| | Okta      | SAML |   G    |   12   | [menu]   | |
| | Google WS | OIDC |   G    |    8   | [menu]   | |
| +------------------------------------------------+ |
|                                                    |
| 3 providers | 65 federated users                   |
+----------------------------------------------------+
```

### 5.6 Page SSO - Provider Detail

```
+----------------------------------------------------+
| Azure AD                                   [menu]  |
| G Actif | SAML 2.0 | 45 utilisateurs               |
+----------------------------------------------------+
| [General *][Users][Logs]                           |
+----------------------------------------------------+
|                                                    |
| CONFIGURATION                                      |
| +------------------------------------------------+ |
| | Entity ID           https://sts.windows.net... | |
| | SSO URL             https://login.microsoft... | |
| | Certificate         ******** (valide)          | |
| | Attribute Mapping                              | |
| |   email -> urn:oid:1.2.840...                  | |
| |   name -> urn:oid:2.5.4.3                      | |
| +------------------------------------------------+ |
|                                                    |
| PARAMETRES                                         |
| +------------------------------------------------+ |
| | Auto-provisionning    [* On]                   | |
| | Default role          [Viewer v]               | |
| | Require MFA           [* On]                   | |
| +------------------------------------------------+ |
|                                                    |
|            [Test Connection]  [Edit]  [Disable]    |
+----------------------------------------------------+
```

---

## 6. NAV3: API KEYS

### 6.1 URL
`/iam/settings/api-keys`

### 6.2 Sidecar API Keys

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [API Keys      v]   |
+---------------------------+
| Rechercher...             |
+---------------------------+
| * Toutes (All)         v  |  <-- Premier = vue agregee
| -----------------------   |
| MES CLES API              |
|   CI/CD Pipeline      G   |  <-- G = vert (actif)
|   ak_7f2e...              |
|   Terraform           G   |
|   ak_9a1b...              |
|   Monitoring          G   |
|   ak_c3d4...              |
|   Old Integration     R   |  <-- R = rouge (expire)
|   ak_e5f6...              |
| -----------------------   |
|                           |
| 4 cles API                |
| 3 actives, 1 expiree      |
+---------------------------+
```

### 6.3 NAV4: API Keys (Onglets vue All)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Vue d'ensemble cles | * OUI |
| permissions | Permissions | Matrice permissions | |
| statistiques | Statistiques | Usage API | |

### 6.4 NAV4: API Keys (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Informations cle | * OUI |
| permissions | Permissions | Droits accordes | |
| statistiques | Statistiques | Usage de cette cle | |

### 6.5 Page API Keys - All (Defaut)

```
+----------------------------------------------------+
| Cles API                            [+ Creer cle]  |
| Gestion des tokens d'acces a l'API OVHcloud        |
+----------------------------------------------------+
| [General *][Permissions][Statistiques]             |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+             |
| | Cles     | | Actives  | | Expirees |             |
| |    4     | |    3     | |    1     |             |
| +----------+ +----------+ +----------+             |
|                                                    |
| TOUTES LES CLES                                    |
| +------------------------------------------------+ |
| | Nom          | Permissions | Cree  | Exp | [m] | |
| +--------------+-------------+-------+-----+-----+ |
| | CI/CD Pipel. | GET,POST,PUT| 15/10 |  -  | [m] | |
| | Terraform    | Full access | 20/11 |  oo | [m] | |
| | Monitoring   | GET only    | 01/12 |20/05| [m] | |
| | Old Integr.  | GET,POST    | 05/09 |  R  | [m] | |
| +------------------------------------------------+ |
|                                                    |
| ACTIVITE RECENTE                                   |
| +------------------------------------------------+ |
| | 14:30 CI/CD Pipeline   GET /cloud/project/...  | |
| | 14:25 Terraform        PUT /domain/zone/...    | |
| +------------------------------------------------+ |
+----------------------------------------------------+
```

### 6.6 Page API Keys - Detail

```
+----------------------------------------------------+
| CI/CD Pipeline                             [menu]  |
| G Actif | ak_7f2e...a1b2 | Cree 15/10/2024         |
+----------------------------------------------------+
| [General *][Permissions][Statistiques]             |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Nom              CI/CD Pipeline                | |
| | Application Key  ak_7f2e3d4c5b6a7890...        | |
| | Description      Pipeline GitLab CI/CD         | |
| | Creee le         15 octobre 2024               | |
| | Expiration       Illimitee                     | |
| | Derniere util.   Il y a 5 minutes              | |
| +------------------------------------------------+ |
|                                                    |
| PERMISSIONS                       [Modifier]       |
| +------------------------------------------------+ |
| | v GET    v POST    v PUT    x DELETE           | |
| |                                                | |
| | Endpoints autorises:                           | |
| | - /cloud/project/*                             | |
| | - /domain/zone/*                               | |
| | - /hosting/web/*                               | |
| +------------------------------------------------+ |
|                                                    |
|    [Renouveler]  [Regenerer secret]  [Revoquer]    |
+----------------------------------------------------+
```

---

## 7. NAV3: TAGS

### 7.1 URL
`/iam/settings/tags`

### 7.2 Sidecar Tags

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [Tags          v]   |
+---------------------------+
| Rechercher tags...        |
+---------------------------+
| > Tous les tags        v  |  <-- Premier = vue agregee
| -----------------------   |
| TAGS                      |
|   environment          T  |  <-- T = tag icon
|   team                 T  |
|   project              T  |
|   cost-center          T  |
|   region               T  |
|   compliance           T  |
|   backup-policy        T  |
|   deprecated           T  |
| -----------------------   |
| PAR TYPE                  |
|   Environment (3)      W  |  <-- W = world icon
|   Team (2)             U  |  <-- U = users icon
| -----------------------   |
| 8 tags total              |
+---------------------------+
```

### 7.3 NAV4: Tags (Onglets vue All)

Tags n'a pas d'onglets NAV4 pour la vue All - affichage direct de la liste.

### 7.4 NAV4: Tags (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Informations tag | * OUI |
| resources | Resources | Ressources assignees | |
| policies | Policies | Policies utilisant ce tag | |

### 7.5 Page Tags - All (Defaut)

```
+----------------------------------------------------+
| Tag Manager                        [+ Create Tag]  |
| Organize and classify your resources               |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+             |
| | Tags     | | Resources| | Unused   |             |
| |    8     | |    45    | |    2     |             |
| +----------+ +----------+ +----------+             |
|                                                    |
| +------------------------------------------------+ |
| | Tag          | Resources | Created    | [menu] | |
| +--------------+-----------+------------+--------+ |
| | environment  |    15     | 01 nov 2024| [menu] | |
| | team         |    12     | 15 nov 2024| [menu] | |
| | project      |    10     | 20 nov 2024| [menu] | |
| | cost-center  |     8     | 01 dec 2024| [menu] | |
| | region       |     6     | 05 dec 2024| [menu] | |
| | compliance   |     4     | 10 dec 2024| [menu] | |
| +------------------------------------------------+ |
|                                                    |
| 8 tags | 45 resources tagged                       |
+----------------------------------------------------+
```

### 7.6 Page Tags - Detail

```
+----------------------------------------------------+
| production                                 [menu]  |
| T Environment | #E74C3C | 15 resources             |
+----------------------------------------------------+
| [General *][Resources][Policies]                   |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Nom              production                    | |
| | Type             Environment                   | |
| | Couleur          #E74C3C (Rouge)               | |
| | Cree le          01 oct 2024                   | |
| | Description      Ressources de production      | |
| +------------------------------------------------+ |
|                                                    |
| RESOURCES ASSIGNEES (15)                           |
| +------------------------------------------------+ |
| | - secret/prod-db-credentials                   | |
| | - kms/my-kms-production                        | |
| | - user/admin@company.com                       | |
| | ... et 12 autres                               | |
| +------------------------------------------------+ |
|                                                    |
| POLICIES UTILISANT CE TAG (3)                      |
| +------------------------------------------------+ |
| | admin-full-access | compute-admin | prod-ro    | |
| +------------------------------------------------+ |
|                                                    |
|          [Edit Tag]  [Assign]  [Delete]            |
+----------------------------------------------------+
```

---

## 8. NAV3: SERVICE ACCOUNTS

### 8.1 URL
`/iam/settings/service-accounts`

### 8.2 Sidecar Service Accounts

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [Svc Accounts  v]   |
+---------------------------+
| Rechercher...             |
+---------------------------+
| * All                  v  |  <-- Premier = vue agregee
| -----------------------   |
| SERVICE ACCOUNTS          |
|   terraform-prod      G   |  <-- G = vert (actif)
|   sa_a1b2...              |
|   ci-cd-runner        G   |
|   sa_c3d4...              |
|   monitoring-agent    G   |
|   sa_e5f6...              |
|   legacy-backup       R   |  <-- R = rouge (desactive)
|   sa_g7h8...              |
| -----------------------   |
|                           |
| 4 service accounts        |
| 3 active, 1 disabled      |
+---------------------------+
```

### 8.3 NAV4: Service Accounts (Onglets vue All)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Vue d'ensemble comptes | * OUI |
| credentials | Credentials | Gestion credentials | |
| activity | Activite | Historique d'activite | |

### 8.4 NAV4: Service Accounts (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Informations compte | * OUI |
| credentials | Credentials | Credentials du compte | |
| policies | Policies | Policies attachees | |
| activity | Activite | Logs d'activite | |

### 8.5 Page Service Accounts - All (Defaut)

```
+----------------------------------------------------+
| Service Accounts             [+ Create Account]    |
| Machine identities for automated access            |
+----------------------------------------------------+
| [General *][Credentials][Activity]                 |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+             |
| | Accounts | | Active   | | Disabled |             |
| |     4    | |    3     | |    1     |             |
| +----------+ +----------+ +----------+             |
|                                                    |
| ALL SERVICE ACCOUNTS                               |
| +------------------------------------------------+ |
| | Name         | Created   | Status | [menu]     | |
| +--------------+-----------+--------+------------+ |
| | terraform    | 01/10/24  |   G    | [menu]     | |
| | ci-cd-runner | 15/10/24  |   G    | [menu]     | |
| | monitoring   | 01/11/24  |   G    | [menu]     | |
| | legacy-backup| 05/06/24  |   R    | [menu]     | |
| +------------------------------------------------+ |
|                                                    |
| 4 accounts | 3 active                              |
+----------------------------------------------------+
```

### 8.6 Page Service Accounts - Detail

```
+----------------------------------------------------+
| terraform-prod                             [menu]  |
| G Actif | sa_a1b2...c3d4 | Cree 01/10/2024         |
+----------------------------------------------------+
| [General *][Credentials][Policies][Activity]       |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Nom              terraform-prod                | |
| | Service ID       sa_a1b2c3d4e5f67890...        | |
| | Description      Terraform IaC deployments     | |
| | Cree le          01 octobre 2024               | |
| | Derniere activite Il y a 2 heures              | |
| +------------------------------------------------+ |
|                                                    |
| CREDENTIALS                                        |
| +------------------------------------------------+ |
| | Type             Client credentials (OAuth2)   | |
| | Client ID        tf-prod-****                  | |
| | Secret           ************** [Regenerer]    | |
| | Expire           15 janvier 2025               | |
| +------------------------------------------------+ |
|                                                    |
| POLICIES ATTACHEES (2)                             |
| +------------------------------------------------+ |
| | compute-admin | network-admin                  | |
| +------------------------------------------------+ |
|                                                    |
|        [Edit]  [Rotate Credentials]  [Disable]     |
+----------------------------------------------------+
```

---

## 9. NAV3: CONDITIONS

### 9.1 URL
`/iam/settings/conditions`

### 9.2 Sidecar Conditions

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [Conditions    v]   |
+---------------------------+
| Rechercher...             |
+---------------------------+
| > Toutes             v    |  <-- Premier = vue agregee
| -----------------------   |
| CONDITIONS                |
|   ip-whitelist        S   |  <-- S = shield icon
|   office-hours        S   |
|   mfa-required        S   |
|   geo-restriction     S   |
|   sensitive-action    S   |
| -----------------------   |
|                           |
| 5 conditions              |
+---------------------------+
```

### 9.3 NAV4: Conditions

Conditions n'a pas d'onglets NAV4 - affichage direct de la liste.

### 9.4 Page Conditions - All (Defaut)

```
+----------------------------------------------------+
| Policy Conditions                [+ Create Cond.]  |
| Add contextual restrictions to policies            |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+             |
| | Conditions| | Policies | | Active  |             |
| |     5    | |     8    | |    4    |             |
| +----------+ +----------+ +----------+             |
|                                                    |
| +------------------------------------------------+ |
| | Condition      | Type     | Policies | [menu] | |
| +----------------+----------+----------+--------+ |
| | ip-whitelist   | IP Range |    3     | [menu] | |
| | office-hours   | Time     |    2     | [menu] | |
| | mfa-required   | MFA      |    5     | [menu] | |
| | geo-restrict.  | Location |    1     | [menu] | |
| | sensitive-act. | Action   |    2     | [menu] | |
| +------------------------------------------------+ |
|                                                    |
| i Conditions add context-aware restrictions        |
|   to your access policies.                         |
|                                                    |
| 5 conditions | 8 policies using conditions         |
+----------------------------------------------------+
```

### 9.5 Page Conditions - Detail (ip-whitelist)

```
+----------------------------------------------------+
| ip-whitelist                               [menu]  |
| S IP Range | 3 policies                            |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Nom              ip-whitelist                  | |
| | Type             IP Range                      | |
| | Description      Restrict access to office IPs | |
| | Cree le          15 septembre 2024             | |
| +------------------------------------------------+ |
|                                                    |
| REGLES                                             |
| +------------------------------------------------+ |
| | Allowed IP Ranges:                             | |
| |   - 192.168.1.0/24 (Office Paris)              | |
| |   - 10.0.0.0/8 (VPN)                           | |
| |   - 203.0.113.50 (Admin home)                  | |
| +------------------------------------------------+ |
|                                                    |
| POLICIES UTILISANT CETTE CONDITION (3)             |
| +------------------------------------------------+ |
| | admin-full-access | sensitive-ops | prod-write | |
| +------------------------------------------------+ |
|                                                    |
|                  [Edit]  [Delete]                  |
+----------------------------------------------------+
```

---

## 10. MODALES

### 10.1 Modal: Add SSO Provider

```
+----------------------------------------------+
| Add SSO Provider                        [x]  |
+----------------------------------------------+
|                                              |
| Provider Type                                |
| +------------------------------------------+ |
| | [SAML 2.0]  [OpenID Connect]             | |
| +------------------------------------------+ |
|                                              |
| Provider Name *                              |
| +------------------------------------------+ |
| | Azure AD                                 | |
| +------------------------------------------+ |
|                                              |
| Entity ID *                                  |
| +------------------------------------------+ |
| | https://sts.windows.net/...              | |
| +------------------------------------------+ |
|                                              |
| SSO URL *                                    |
| +------------------------------------------+ |
| | https://login.microsoftonline.com/...    | |
| +------------------------------------------+ |
|                                              |
| Certificate *                                |
| +------------------------------------------+ |
| | [Upload Certificate] ou [Paste PEM]      | |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                    [Cancel]  [Add Provider]  |
+----------------------------------------------+
```

### 10.2 Modal: Create API Key

```
+----------------------------------------------+
| Creer une cle API                       [x]  |
+----------------------------------------------+
|                                              |
| Nom de la cle *                              |
| +------------------------------------------+ |
| | CI/CD Pipeline                           | |
| +------------------------------------------+ |
|                                              |
| Description                                  |
| +------------------------------------------+ |
| | Cle pour le pipeline GitLab              | |
| +------------------------------------------+ |
|                                              |
| Permissions *                                |
| +------------------------------------------+ |
| | [v] GET   [v] POST   [v] PUT   [ ] DELETE| |
| +------------------------------------------+ |
|                                              |
| Endpoints autorises                          |
| +------------------------------------------+ |
| | /cloud/project/*                         | |
| | /domain/zone/*                           | |
| | [+ Ajouter endpoint]                     | |
| +------------------------------------------+ |
|                                              |
| Expiration                                   |
| +------------------------------------------+ |
| | [Never v]  ou  [ ] Expire le [__/__/____]| |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                     [Annuler]  [Creer la cle]|
+----------------------------------------------+
```

### 10.3 Modal: Create Tag

```
+----------------------------------------------+
| Creer un tag                            [x]  |
+----------------------------------------------+
|                                              |
| Nom du tag *                                 |
| +------------------------------------------+ |
| | production                               | |
| +------------------------------------------+ |
|                                              |
| Type                                         |
| +------------------------------------------+ |
| | [Environment v]                          | |
| +------------------------------------------+ |
|                                              |
| Couleur                                      |
| +------------------------------------------+ |
| | [R][O][J][V][B][I][V] #E74C3C            | |
| +------------------------------------------+ |
|                                              |
| Description                                  |
| +------------------------------------------+ |
| | Ressources de l'environnement production | |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                       [Annuler]  [Creer tag] |
+----------------------------------------------+
```

### 10.4 Modal: Create Service Account

```
+----------------------------------------------+
| Creer un compte service                 [x]  |
+----------------------------------------------+
|                                              |
| Nom *                                        |
| +------------------------------------------+ |
| | terraform-prod                           | |
| +------------------------------------------+ |
|                                              |
| Description                                  |
| +------------------------------------------+ |
| | Compte pour deployements Terraform       | |
| +------------------------------------------+ |
|                                              |
| Type de credentials                          |
| +------------------------------------------+ |
| | (*) Client credentials (OAuth2)          | |
| | ( ) API Key                              | |
| +------------------------------------------+ |
|                                              |
| Policies a attacher                          |
| +------------------------------------------+ |
| | [v] compute-admin                        | |
| | [v] network-admin                        | |
| | [ ] storage-admin                        | |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                    [Annuler]  [Creer compte] |
+----------------------------------------------+
```

### 10.5 Modal: Create Condition

```
+----------------------------------------------+
| Creer une condition                     [x]  |
+----------------------------------------------+
|                                              |
| Nom *                                        |
| +------------------------------------------+ |
| | office-hours                             | |
| +------------------------------------------+ |
|                                              |
| Type de condition *                          |
| +------------------------------------------+ |
| | [IP Range v]                             | |
| |  - IP Range                              | |
| |  - Time Window                           | |
| |  - MFA Required                          | |
| |  - Geographic Location                   | |
| |  - Action Type                           | |
| +------------------------------------------+ |
|                                              |
| Configuration (selon type)                   |
| +------------------------------------------+ |
| | Allowed IPs:                             | |
| | [192.168.1.0/24         ] [+ Add]        | |
| +------------------------------------------+ |
|                                              |
| Description                                  |
| +------------------------------------------+ |
| | Restreindre aux heures de bureau         | |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                  [Annuler]  [Creer condition]|
+----------------------------------------------+
```

### 10.6 Modal: Revoke API Key

```
+----------------------------------------------+
| Revoquer la cle API                     [x]  |
+----------------------------------------------+
|                                              |
| Revoquer cette cle API ?                     |
|                                              |
| +------------------------------------------+ |
| | Cle: CI/CD Pipeline                      | |
| |                                          | |
| | Key ID: ak_7f2e3d4c5b6a7890...           | |
| | Creee le: 15 octobre 2024                | |
| | Derniere utilisation: Il y a 5 minutes   | |
| +------------------------------------------+ |
|                                              |
| ! Cette action est irreversible.             |
|   Les applications utilisant cette cle       |
|   perdront immediatement l'acces.            |
|                                              |
+----------------------------------------------+
|                     [Annuler]  [Revoquer]    |
+----------------------------------------------+
```

### 10.7 Modal: Assign Tag

```
+----------------------------------------------+
| Assigner un tag                         [x]  |
+----------------------------------------------+
|                                              |
| Tag selectionne                              |
| +------------------------------------------+ |
| | T production                             | |
| +------------------------------------------+ |
|                                              |
| Assigner a des ressources                    |
| +------------------------------------------+ |
| | Rechercher des ressources...             | |
| +------------------------------------------+ |
|                                              |
| Ressources disponibles                       |
| +------------------------------------------+ |
| | [v] secret/staging-db-credentials        | |
| | [v] kms/my-kms-staging                   | |
| | [ ] user/dev@company.com                 | |
| | [ ] policy/staging-readonly              | |
| +------------------------------------------+ |
|                                              |
| 2 ressources selectionnees                   |
|                                              |
+----------------------------------------------+
|                      [Annuler]  [Assigner]   |
+----------------------------------------------+
```

### 10.8 Modal: Remove Tag Assignment

```
+----------------------------------------------+
| Remove Tag Assignment                   [x]  |
+----------------------------------------------+
|                                              |
| Remove the tag from this resource?           |
|                                              |
| +------------------------------------------+ |
| | Tag: T production                        | |
| |                                          | |
| | Resource: secret/prod-db-credentials     | |
| | Type: Secret                             | |
| | Assigned since: 01 oct 2024              | |
| +------------------------------------------+ |
|                                              |
| i This will remove the tag from the resource.|
|   Policies using this tag will no longer     |
|   apply to this resource.                    |
|                                              |
+----------------------------------------------+
|                     [Cancel]  [Remove Tag]   |
+----------------------------------------------+
```

---

## 11. EMPTY STATES

### 11.1 SSO - No Providers

```
+----------------------------------------------------+
| SSO Providers                    [+ Add Provider]  |
+----------------------------------------------------+
|                                                    |
|                      [lock icon]                   |
|                                                    |
|              Aucun provider SSO configure          |
|                                                    |
|      Configurez Single Sign-On pour permettre      |
|      a vos utilisateurs de se connecter avec       |
|      leur identite d'entreprise.                   |
|                                                    |
|              [+ Ajouter un provider SSO]           |
|                                                    |
|      Providers supportes:                          |
|      [Azure AD]  [Okta]  [Google WS]  [Generic]    |
|                                                    |
+----------------------------------------------------+
```

### 11.2 API Keys - No Keys

```
+----------------------------------------------------+
| Cles API                            [+ Creer cle]  |
+----------------------------------------------------+
|                                                    |
|                      [key icon]                    |
|                                                    |
|              Aucune cle API creee                  |
|                                                    |
|      Creez des cles API pour acceder              |
|      programmatiquement a l'API OVHcloud.         |
|                                                    |
|              [+ Creer ma premiere cle]             |
|                                                    |
|                  Doc API OVHcloud                  |
|                                                    |
+----------------------------------------------------+
```

---

## 12. DIMENSIONS (TOLERANCE: 0px)

| Element | Valeur |
|---------|--------|
| NAV1 height | 50px |
| NAV2 height | 40px |
| Gap NAV2->Content | 15px |
| Sidebar width | 280px |
| Gap panels | 16px |
| Content width | 1096px (avec margins) |
| Margins | 24px |
| Border radius cards | 8px |
| Table row height | 48px |
| KPI card width | ~150px |
| KPI card height | 80px |

---

## 13. APIs PRINCIPALES

| Endpoint | Methode | Description |
|----------|---------|-------------|
| GET /iam/sso | GET | Liste providers SSO |
| POST /iam/sso | POST | Ajouter provider SSO |
| GET /iam/sso/{id} | GET | Details provider |
| PUT /iam/sso/{id} | PUT | Modifier provider |
| DELETE /iam/sso/{id} | DELETE | Supprimer provider |
| GET /iam/api-keys | GET | Liste cles API |
| POST /iam/api-keys | POST | Creer cle API |
| GET /iam/api-keys/{id} | GET | Details cle |
| DELETE /iam/api-keys/{id} | DELETE | Revoquer cle |
| GET /iam/tags | GET | Liste tags |
| POST /iam/tags | POST | Creer tag |
| PUT /iam/tags/{id} | PUT | Modifier tag |
| DELETE /iam/tags/{id} | DELETE | Supprimer tag |
| POST /iam/tags/{id}/assign | POST | Assigner tag |
| DELETE /iam/tags/{id}/unassign | DELETE | Retirer tag |
| GET /iam/service-accounts | GET | Liste comptes service |
| POST /iam/service-accounts | POST | Creer compte |
| GET /iam/service-accounts/{id} | GET | Details compte |
| POST /iam/service-accounts/{id}/rotate | POST | Rotation credentials |
| GET /iam/conditions | GET | Liste conditions |
| POST /iam/conditions | POST | Creer condition |
| PUT /iam/conditions/{id} | PUT | Modifier condition |
| DELETE /iam/conditions/{id} | DELETE | Supprimer condition |

---

## 14. LIENS ENTRE PAGES

| Depuis | Action | Vers |
|--------|--------|------|
| SSO All | Click provider | SSO Detail |
| SSO Detail tab Users | Click user | /iam/identities/{user} |
| API Keys All | Click cle | API Keys Detail |
| Tags All | Click tag | Tags Detail |
| Tags Detail tab Resources | Click resource | Page ressource |
| Tags Detail tab Policies | Click policy | /iam/policies/{policy} |
| Service Accounts All | Click account | Service Accounts Detail |
| Service Accounts Detail tab Policies | Click policy | /iam/policies/{policy} |
| Conditions All | Click condition | Conditions Detail |
| Conditions Detail | Click policy | /iam/policies/{policy} |

---

## 15. FICHIERS .ss ASSOCIES

| Fichier | Description |
|---------|-------------|
| target_.iam.sso.ss | SSO providers list |
| target_.iam.sso.onboarding.ss | SSO empty state |
| target_.iam.api-keys.ss | API Keys list |
| target_.iam.api-keys.detail.ss | API Key detail |
| target_.iam.api-keys.permissions.ss | API Key permissions tab |
| target_.iam.api-keys.datagrid.ss | API Keys datagrid |
| target_.iam.api-keys.onboarding.ss | API Keys empty state |
| target_.iam.api-keys.modal-create.ss | Create API Key modal |
| target_.iam.api-keys.modal-edit.ss | Edit API Key modal |
| target_.iam.api-keys.modal-revoke.ss | Revoke API Key modal |
| target_.iam.api-keys.modal-delete.ss | Delete API Key modal |
| target_.iam.tag-manager.ss | Tags list |
| target_.iam.tag-manager.tag-detail.ss | Tag detail |
| target_.iam.tag-manager.assign-tag.ss | Assign tag modal |
| target_.iam.tag-manager.modal-unassign.ss | Unassign tag modal |
| target_.iam.service-accounts.ss | Service accounts list |
| target_.iam.service-accounts.onboarding.ss | Service accounts empty state |
| target_.iam.service-accounts.modal-create.ss | Create service account modal |
| target_.iam.conditions.ss | Conditions list |
| target_.iam.conditions.datagrid.ss | Conditions datagrid |
| target_.iam.conditions.modal-create.ss | Create condition modal |
| target_.iam.conditions.modal-edit.ss | Edit condition modal |
| target_.iam.conditions.modal-delete.ss | Delete condition modal |

Localisation: `/home/ubuntu/target_manager_svg/iam/other/`

---

## 16. VOIR AUSSI

- prompt_target.iam.txt (design system parent)
- prompt_target.iam.general.txt
- prompt_target.iam.identities.txt
- prompt_target.iam.policies.txt
- prompt_target.iam.secrets.txt
- prompt_target.iam.keys.txt
- prompt_target.iam.logs.txt
