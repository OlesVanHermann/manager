# Cahier des Charges : public-cloud/load-balancer - Onglet Listeners

## 1. VUE D'ENSEMBLE
- **Page** : Liste des listeners d'un Load Balancer
- **Type** : Datagrid avec ActionMenu
- **Objectif** : Gérer les listeners du LB

## 2. STRUCTURE PAGE
- Header OVHcloud
- Sidebar
- Breadcrumb
- Header LB (nom + badge statut)
- Barre d'onglets (Listeners actif)
- Description
- Bouton ajouter
- Datagrid avec données

## 3. COMPOSANTS UI
- **OdsBreadcrumb** : Navigation
- **OdsText** : Titre, description
- **OdsBadge** : Statut LB, Protocole, Statut listener
- **OdsTabs** : Navigation onglets
- **OdsButton** : Ajouter un listener
- **OdsDatagrid** : Liste des listeners
- **OdsActionMenu** : Menu contextuel

## 4. HEADER
- **Nom** : "lb-prod-web"
- **Badge** : "online" (vert)

## 5. ONGLETS
| Onglet | Actif |
|--------|-------|
| Aperçu | - |
| Listeners | ✓ (souligné bleu) |
| Pools | - |
| Statistiques | - |
| Certificats | - |
| Logs | - |

## 6. DESCRIPTION
- "Chaque Load Balancer reçoit du traffic sur un ou plusieurs listeners."
- "Chaque listener est caractérisé par un couple port / protocole unique."

## 7. BOUTON AJOUTER
- **Label** : "+ Ajouter un listener"
- **Style** : Primary bleu

## 8. COLONNES DATAGRID

| Colonne | Type | Description |
|---------|------|-------------|
| Nom | Link bleu | Lien vers détail |
| Protocole | Badge info | HTTP, TERMINATED_HTTPS... |
| Port | Number | Port d'écoute |
| Pool par défaut | Link bleu | Lien vers pool |
| Certificat | Text | Nom du cert ou "-" |
| Statut | Badge success | online |
| Actions | ActionMenu | ⋮ |

## 9. DONNÉES EXEMPLE

| Nom | Protocole | Port | Pool | Certificat | Statut |
|-----|-----------|------|------|------------|--------|
| https-listener | TERMINATED_HTTPS | 443 | pool-web-servers | *.example.com | online |
| http-redirect | HTTP | 80 | - | - | online |

## 10. ACTION MENU
| Action | Style | Navigation |
|--------|-------|------------|
| Editer | Normal | Open edit modal |
| Voir les L7 policies | Normal | Navigate to L7 policies |
| Supprimer | Rouge | Open delete modal |

## 11. APIS & ENDPOINTS
- GET /cloud/project/{projectId}/region/{regionName}/loadbalancing/listener?loadbalancerId={loadBalancerId}
  - Liste des listeners
- POST /cloud/project/{projectId}/region/{regionName}/loadbalancing/listener
  - Créer un listener
- DELETE /cloud/project/{projectId}/region/{regionName}/loadbalancing/listener/{listenerId}
  - Supprimer un listener
