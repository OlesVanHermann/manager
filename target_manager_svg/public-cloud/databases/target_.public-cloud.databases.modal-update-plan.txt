# Cahier des Charges : public-cloud/databases - Modal Modifier le plan

## 1. VUE D'ENSEMBLE
- **Modal** : Modifier le plan
- **Type** : Modal sélection cards
- **Objectif** : Changer le plan de service (Essential, Business, Enterprise)

## 2. STRUCTURE MODAL
- Overlay sombre avec fond page visible
- Conteneur blanc 900x770px
- Header avec titre et bouton fermer
- Description
- 3 cartes de plans côte à côte
- Info box bleue
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur large
- **OdsCard** : 3 cartes de plans
- **OdsBadge** : "Actuel", "Populaire"
- **OdsMessage** : Info changement
- **OdsButton** : Annuler, Changer de plan

## 4. TITRE
"Modifier le plan"

## 5. DESCRIPTION
"Choisissez le plan qui correspond à vos besoins. Chaque plan offre différentes fonctionnalités et niveaux de service."

## 6. CARTES DE PLANS

### Essential (plan actuel)
- Badge: "Actuel" (vert)
- Titre: Essential
- Sous-titre: Pour démarrer
- Fonctionnalités:
  - ✓ 1 nœud
  - ✓ Sauvegardes manuelles
  - ✓ De 4 à 60 Go RAM
  - ✓ De 50 à 640 Go stockage
  - ✗ Réseau privé
  - ✗ Haute disponibilité
- Prix: À partir de **30,00 € HT/mois**

### Business (sélectionné)
- Badge: "Populaire" (bleu)
- Titre: Business
- Sous-titre: ✓ Sélectionné
- Bordure: Bleue, fond bleu clair
- Fonctionnalités:
  - ✓ 2 nœuds (réplication)
  - ✓ Sauvegardes auto + manuelles
  - ✓ De 4 à 60 Go RAM
  - ✓ De 50 à 640 Go stockage
  - ✓ Réseau privé (vRack)
  - ✗ Haute disponibilité
- Prix: À partir de **90,00 € HT/mois**

### Enterprise
- Titre: Enterprise
- Sous-titre: Production critique
- Fonctionnalités:
  - ✓ 3 nœuds (HA)
  - ✓ Sauvegardes auto + manuelles
  - ✓ De 4 à 120 Go RAM
  - ✓ De 50 à 1280 Go stockage
  - ✓ Réseau privé (vRack)
  - ✓ Haute disponibilité
- Prix: À partir de **180,00 € HT/mois**

## 7. INFO BOX
- Fond: Bleu clair (#E8F0FE)
- Titre: "ℹ️ Changement de plan"
- Points:
  - "Le passage à un plan supérieur sera effectué sans interruption de service."
  - "Vos données et configurations seront conservées."
  - "Différence de prix estimée: +45,00 € HT/mois (prorata appliqué)"

## 8. BOUTONS
| Bouton | Style | Position | Action |
|--------|-------|----------|--------|
| Annuler | Outline | Gauche | Fermer modal |
| Changer de plan | Primary bleu | Droite | PUT update plan |

## 9. RÈGLES DE CHANGEMENT
- Upgrade: Sans interruption
- Downgrade: Possible sous conditions (nombre de nœuds, fonctionnalités utilisées)

## 10. APIS & ENDPOINTS
- GET /cloud/project/{projectId}/database/capabilities/plan
  - Liste des plans disponibles
- PUT /cloud/project/{projectId}/database/service/{serviceId}
  - Body: { plan }
  - Changer le plan
