# Cahier des Charges : public-cloud/object-storage - Créer Règle Réplication

## 1. VUE D'ENSEMBLE
- **Modal** : Créer une règle de réplication
- **Type** : Modal formulaire complet
- **Objectif** : Configurer la réplication cross-région

## 2. STRUCTURE MODAL
- Overlay sombre
- Modal blanche (800x720px)
- Barre bleue à gauche
- Icône refresh
- Titre + bouton fermer
- Sections formulaire
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur
- **OdsIcon** : ↻ dans cercle bleu
- **OdsInput** : Identifiant, priorité
- **OdsSelect** : Conteneur destination, classe stockage
- **OdsTile** : Radio cards (scope réplication)
- **OdsRadio** : Sélection unique
- **OdsToggle** : Activé/Désactivé, Delete markers
- **OdsCheckbox** : Option marqueurs suppression
- **OdsButton** : Annuler (secondary), Créer (primary)

## 4. HEADER
- **Icône** : ↻ dans cercle bleu
- **Titre** : "Créer une règle de réplication"
- **Bouton fermer** : ✕

## 5. FORMULAIRE

### Section : Configuration de la réplication

#### Identifiant de la règle *
- **Input** : Champ texte
- **Placeholder** : "replication-dr-sbg"
- **Helper** : "Un identifiant unique (3-255 caractères)"

#### Conteneur de destination *
- **Select** : Liste des conteneurs
- **Placeholder** : "Sélectionner un conteneur"

#### Priorité
- **Input** : Champ numérique (120px)
- **Valeur** : 100
- **Helper** : "1-999, plus haut = prioritaire"

### Section : Application de la réplication
| Option | Sélectionné |
|--------|-------------|
| Appliquer pour tous les objets | ✅ |
| Limiter l'application de cette règle | - |

### Section : Options de réplication supplémentaires

#### Classe de stockage en destination
- **Select** : "Standard - Accès peu fréquent"

#### Statut
| Option | Sélectionné |
|--------|-------------|
| Activé | ✅ |
| Désactivé | - |

#### Réplication des marqueurs de suppression
- **Checkbox** : ☐
- **Helper** : "Répliquer également les marqueurs de suppression vers la destination"

## 6. BOUTONS
- Annuler (secondary)
- Créer (primary)

## 7. APIS & ENDPOINTS
- POST /cloud/project/{projectId}/storage/{containerId}/replication
  - Body: { id, destination, priority, scope, storageClass, status, deleteMarkerReplication }
  - Crée une règle de réplication
- GET /cloud/project/{projectId}/storage
  - Liste des conteneurs pour la destination
