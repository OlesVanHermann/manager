# Cahier des Charges : public-cloud/object-storage - Liste Utilisateurs S3

## 1. VUE D'ENSEMBLE
- **Page** : Object Storage - Liste Utilisateurs S3
- **Type** : Page liste globale des utilisateurs
- **Objectif** : Gérer tous les utilisateurs S3 du projet

## 2. STRUCTURE PAGE
- Header OVHcloud
- Sidebar (Object Storage actif)
- Breadcrumb
- Titre page + description
- Onglets (Mes conteneurs, Utilisateurs actif)
- Bouton créer
- Barre de recherche
- Tableau utilisateurs
- Compteur

## 3. COMPOSANTS UI
- **OdsBreadcrumb** : Navigation
- **OdsText** : Titre, description
- **OdsTabs** : Mes conteneurs | Utilisateurs
- **OdsButton** : "+ Créer un utilisateur" (primary)
- **OdsInput** : Recherche
- **OdsDatagrid** : Liste utilisateurs
- **OdsText** : Access Key (monospace tronqué)
- **OdsActionMenu** : Actions (⋮)

## 4. HEADER PAGE
- **Titre** : "Object Storage"
- **Description** : "Gérez les utilisateurs S3 et leurs accès aux conteneurs."

## 5. ONGLETS
| Onglet | Actif |
|--------|-------|
| Mes conteneurs | - |
| Utilisateurs | ✅ (souligné bleu) |

## 6. ACTIONS
- **Bouton** : "+ Créer un utilisateur" (primary, 200px)

## 7. RECHERCHE
- **Input** : "Rechercher..." (300px)

## 8. TABLEAU UTILISATEURS

### Colonnes
| Colonne | Description |
|---------|-------------|
| NOM D'UTILISATEUR | Nom unique |
| DESCRIPTION | Description libre |
| ACCESS KEY | Clé d'accès tronquée (monospace) |
| CRÉÉ LE | Date création |
| ACTIONS | Menu ⋮ |

### Données exemple
| Nom | Description | Access Key | Créé le |
|-----|-------------|------------|---------|
| backup-service | Service de backup automatique | AKIAIOSFODNN7... | 15 déc. 2024 |
| media-uploader | Upload des médias | AKIAZ9B8C7D6E... | 10 déc. 2024 |
| ci-pipeline | Pipeline CI/CD | AKIAM1N2O3P4Q... | 5 déc. 2024 |

## 9. ACTION MENU
Options (menu ouvert) :
- Voir les credentials
- Régénérer secret
- Gérer les accès
- ---
- Supprimer (rouge)

## 10. COMPTEUR
"3 utilisateurs S3"

## 11. APIS & ENDPOINTS
- GET /cloud/project/{projectId}/storage/user
  - Liste de tous les utilisateurs S3 du projet
- POST /cloud/project/{projectId}/storage/user
  - Crée un utilisateur S3
- GET /cloud/project/{projectId}/storage/user/{userId}/credentials
  - Affiche les credentials (access key + secret)
- POST /cloud/project/{projectId}/storage/user/{userId}/secret
  - Régénère le secret key
- PUT /cloud/project/{projectId}/storage/user/{userId}/access
  - Modifie les accès aux conteneurs
- DELETE /cloud/project/{projectId}/storage/user/{userId}
  - Supprime l'utilisateur
