# Cahier des Charges : web-cloud/hebergement - Tab Database

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des bases de données MySQL.

### Objectif fonctionnel
- Lister les bases de données
- Créer/supprimer des bases
- Gérer les accès et sauvegardes

---

## 2. LAYOUT

### Structure message info + toolbar + tableau

---

## 3. COMPOSANTS UI

### Message info
| Element | Description |
|---------|-------------|
| Type | Info (bleu) |
| Texte | Astuce pour optimiser les performances... |
| Lien | Consulter le guide |

### Toolbar
| Element | Description |
|---------|-------------|
| Bouton Actions | Dropdown primary |
| Recherche | Champ de recherche |

### Menu Actions
| Option | Description |
|--------|-------------|
| Créer une base de données | Formulaire création |
| Commander une base de données | Commande |
| Activer SQL Privé inclus | Activation option |
| Commander Web Cloud Database | Commande externe |

### Tableau bases de données
| Colonne | Description |
|---------|-------------|
| Nom | Nom de la base (link) |
| Serveur | URL du serveur MySQL |
| Type | MySQL/PostgreSQL |
| Version | 5.7/8.0 |
| Quota | Progress bar + Mo/Go |
| État | Badge Actif |
| Date création | Date |
| Actions | Menu ⋮ |

### Menu actions (⋮)
| Option | Description |
|--------|-------------|
| Changer le mot de passe | Reset |
| Gérer les droits | Permissions |
| Accéder à phpMyAdmin | Lien externe |
| Créer un dump | Export |
| Restaurer une sauvegarde | Import |
| Vérifier le quota | Analyse |
| Supprimer | Destructif (rouge) |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /hosting/web/{serviceName}/database
POST /hosting/web/{serviceName}/database
DELETE /hosting/web/{serviceName}/database/{name}
POST /hosting/web/{serviceName}/database/{name}/changePassword
GET /hosting/web/{serviceName}/database/{name}/dump
POST /hosting/web/{serviceName}/database/{name}/dump
POST /hosting/web/{serviceName}/database/{name}/restore
```

### Modele
```typescript
interface HostingDatabase {
  name: string;
  server: string;
  type: 'mysql' | 'postgresql' | 'redis';
  version: string;
  quotaUsed: number;
  quotaSize: number;
  state: 'ok' | 'suspended';
  creationDate: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "hosting_db_title": "Bases de données",
  "hosting_db_actions": "Actions",
  "hosting_db_create": "Créer une base de données",
  "hosting_db_order": "Commander une base de données",
  "hosting_db_private": "Activer SQL Privé inclus",
  "hosting_db_wcdb": "Commander Web Cloud Database",
  "hosting_db_col_name": "Nom",
  "hosting_db_col_server": "Serveur",
  "hosting_db_col_type": "Type",
  "hosting_db_col_version": "Version",
  "hosting_db_col_quota": "Quota",
  "hosting_db_col_state": "État",
  "hosting_db_col_created": "Date création",
  "hosting_db_action_password": "Changer le mot de passe",
  "hosting_db_action_rights": "Gérer les droits",
  "hosting_db_action_phpmyadmin": "Accéder à phpMyAdmin",
  "hosting_db_action_dump": "Créer un dump",
  "hosting_db_action_restore": "Restaurer une sauvegarde",
  "hosting_db_action_quota": "Vérifier le quota",
  "hosting_db_action_delete": "Supprimer"
}
```

---

## 6. REGLES METIER

- Nombre de BDD selon offre
- MySQL 8.0 recommandé
- Quota par base (1 Go standard)
- phpMyAdmin pour gestion visuelle
- Dumps quotidiens automatiques
