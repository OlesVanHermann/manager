# Cahier des Charges : web-cloud/hebergement - Tab Statistiques BDD

## 1. RESUME EXECUTIF

### Perimetre
Onglet de statistiques des bases de données.

### Objectif fonctionnel
- Sélectionner une base de données
- Voir les métriques clés
- Visualiser l'évolution de l'espace

---

## 2. LAYOUT

### Structure sélecteur BDD + 4 KPI cards + graphique

---

## 3. COMPOSANTS UI

### Sélecteur base de données
| Element | Description |
|---------|-------------|
| Label | Sélectionner une base de données |
| Type | Select dropdown |
| Valeur | Nom de la base |

### Cartes KPI (4 colonnes)
| KPI | Description |
|-----|-------------|
| Espace utilisé | XXX Mo / Y Go + barre progression |
| Nombre de tables | Nombre entier |
| Requêtes (24h) | Nombre de requêtes |
| Connexions actives | Nombre actuel |

### Barre de progression espace
| Element | Description |
|---------|-------------|
| Background | Gris (#F3F4F6) |
| Remplissage | Vert (#10B981) |
| Hauteur | 8px avec border-radius |

### Graphique évolution
| Element | Description |
|---------|-------------|
| Titre | Évolution de l'espace disque (30 jours) |
| Type | Line chart |
| Axes X | Dates (1 Dec, 7 Dec, 14 Dec...) |
| Axes Y | Mo (0, 250, 500, 750, 1000) |
| Couleur ligne | Bleu (#0050D7) |
| Points | Cercles sur données clés |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /hosting/web/{serviceName}/database
GET /hosting/web/{serviceName}/database/{name}/statistics
GET /hosting/web/{serviceName}/database/{name}/statistics/chart
```

### Modele
```typescript
interface DatabaseStatistics {
  name: string;
  usedSpace: number;
  quotaSpace: number;
  tablesCount: number;
  queries24h: number;
  activeConnections: number;
}

interface DatabaseChart {
  labels: string[];
  values: number[];
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "hosting_db_stats_title": "Statistiques des bases de données",
  "hosting_db_stats_select": "Sélectionner une base de données",
  "hosting_db_stats_space": "Espace utilisé",
  "hosting_db_stats_tables": "Nombre de tables",
  "hosting_db_stats_queries": "Requêtes (24h)",
  "hosting_db_stats_connections": "Connexions actives",
  "hosting_db_stats_chart": "Évolution de l'espace disque (30 jours)"
}
```

---

## 6. REGLES METIER

- Statistiques mises à jour en temps réel
- Historique conservé 30 jours
- Alerte si espace > 80% du quota
- Connexions = sessions MySQL actives
