================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.number.stats.svg
Route:   /web-cloud/voip/groups/{billingAccount}/numbers/{serviceName}/stats
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Statistiques d'appels d'un numéro VoIP. KPIs, graphiques de volume
et répartition horaire des appels.

================================================================================

## STRUCTURE PAGE

### NAV4 Tabs
- Général | Configuration | [Statistiques] | Options

### Contenu
- Sélecteur période + export
- Cards KPIs (5)
- Graphique Volume d'appels
- Heatmap Répartition horaire

================================================================================

## DONNÉES DYNAMIQUES

| Élément SVG          | Source API                                 |
|----------------------|--------------------------------------------|
| Total appels         | GET /telephony/{ba}/number/{sn}/statistics → totalCalls |
| Appels répondus      | statistics.answeredCalls                   |
| Appels manqués       | statistics.missedCalls                     |
| Temps attente moyen  | statistics.averageWaitTime                 |
| Durée moyenne        | statistics.averageDuration                 |
| Volume par jour      | statistics.dailyBreakdown[]                |
| Répartition horaire  | statistics.hourlyBreakdown[]               |

================================================================================

## KPIs

| KPI               | Calcul                   | Couleur  |
|-------------------|--------------------------|----------|
| Total appels      | answeredCalls + missed   | Bleu     |
| Appels répondus   | answeredCalls + %        | Vert     |
| Appels manqués    | missedCalls + %          | Rouge    |
| Temps attente moy | averageWaitTime (mm:ss)  | Jaune    |
| Durée moyenne     | averageDuration (mm:ss)  | Gris     |

### Comparaison période
- Afficher variation vs période précédente (↑ +X% ou ↓ -X%)

================================================================================

## GRAPHIQUE VOLUME

- Type: Bar chart empilé
- Axe X: Jours du mois (1-31)
- Axe Y: Nombre d'appels
- Barres: Vert (répondus) + Rouge (manqués)
- Légende: En haut à droite

================================================================================

## HEATMAP RÉPARTITION

- Type: Heatmap
- Axe X: Heures (8h-18h)
- Axe Y: Jours de la semaine (Lun-Ven)
- Couleurs: Dégradé vert (faible→fort)
- Utile pour identifier les pics d'activité

================================================================================

## FILTRES PÉRIODE

| Période        | Description              |
|----------------|--------------------------|
| Ce mois        | Mois calendaire en cours |
| 7 derniers j.  | J-7 à aujourd'hui        |
| Aujourd'hui    | Journée en cours         |
| Personnalisé   | Sélecteur date (dropdown)|

================================================================================

## API

| Action       | Méthode | Endpoint                              |
|--------------|---------|---------------------------------------|
| Statistiques | GET     | /telephony/{ba}/number/{sn}/statistics?from=YYYY-MM-DD&to=YYYY-MM-DD |
| Export CSV   | GET     | .../statistics?format=csv             |

================================================================================

## EXPORT

Format CSV avec colonnes:
- Date
- Heure
- Type (entrant/sortant)
- Durée
- Statut (répondu/manqué)
- Numéro appelant

================================================================================
