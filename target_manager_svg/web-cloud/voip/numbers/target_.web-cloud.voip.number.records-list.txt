# Cahier des Charges : telecom/alias - Liste enregistrements

## 1. RESUME EXECUTIF

### Perimetre
Page de gestion des enregistrements d'appels.

### Objectif fonctionnel
- Activer/desactiver l'enregistrement
- Configurer les options d'enregistrement
- Consulter la liste des enregistrements
- Telecharger/supprimer les enregistrements

---

## 2. LAYOUT

### Structure page avec 2 sections principales

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Titre | Enregistrements des appels |
| Sous-titre | Parametrez et consultez les enregistrements |
| Lien guide | Consultez notre guide |

### Section Activation
| Element | Description |
|---------|-------------|
| Separateur | Ligne horizontale |
| Titre | Activation |

### Toggle activation
| Element | Description |
|---------|-------------|
| Label | Activer l'enregistrement |
| Etat Active | Fond bleu, texte bleu |
| Etat Inactif | Fond blanc, bordure grise |
| Help | Conservation 30 jours |

### Toggle refus appelant
| Element | Description |
|---------|-------------|
| Label | Permettre a l'appelant de refuser |
| Help | Touche pour desactiver |
| Etats | Active/Inactif |

### Select langue
| Element | Description |
|---------|-------------|
| Label | Langue de l'annonce |
| Type | Dropdown |
| Options | Francais, Anglais, etc. |

### Select touche
| Element | Description |
|---------|-------------|
| Label | Touche pour refuser |
| Type | Dropdown |
| Options | 0-9 |

### Boutons action config
| Bouton | Type | Action |
|--------|------|--------|
| Appliquer | Primary | Sauvegarde |
| Annuler | Link | Reinitialise |

### Section Enregistrements
| Element | Description |
|---------|-------------|
| Separateur | Ligne horizontale |
| Titre | Enregistrements |

### Menu Actions
| Element | Description |
|---------|-------------|
| Type | Dropdown |
| Label | Actions |
| Badge | X elements selectionnes |

### Options menu
| Action | Description |
|--------|-------------|
| Supprimer | ðŸ—‘ Supprimer la selection |
| Telecharger | â¬‡ Telecharger la selection |

### Tableau enregistrements
| Colonne | Description |
|---------|-------------|
| Checkbox | Selection |
| Debut d'appel | Date/heure debut â–¼ |
| Fin d'appel | Date/heure fin |
| Numero | Numero appelant |
| Agent | Nom agent |

### Ligne tableau
| Element | Description |
|---------|-------------|
| Checkbox | Case a cocher |
| Fond pair | Blanc |
| Fond impair | Gris clair |

### Pagination
| Element | Description |
|---------|-------------|
| Texte | Page X sur Y |
| Bouton â—€ | Page precedente |
| Bouton â–¶ | Page suivante |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/easyHunting/{serviceName}/records
GET /telephony/{billingAccount}/easyHunting/{serviceName}/records/{id}
DELETE /telephony/{billingAccount}/easyHunting/{serviceName}/records/{id}
PUT /telephony/{billingAccount}/easyHunting/{serviceName}/records/settings
```

### Modele Record
```typescript
interface CallRecord {
  id: string;
  callStart: string;
  callEnd: string;
  callerNumber: string;
  agentName: string;
  duration: number;
  fileUrl: string;
}

interface RecordSettings {
  enabled: boolean;
  allowRefusal: boolean;
  language: string;
  refusalDigit: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "alias_records_title": "Enregistrements des appels",
  "alias_records_subtitle": "Parametrez et consultez les enregistrements",
  "alias_records_guide": "Consultez notre guide",
  "alias_records_activation": "Activation",
  "alias_records_enable": "Activer l'enregistrement",
  "alias_records_enable_help": "Les enregistrements seront conserves pendant 30 jours.",
  "alias_records_allow_refusal": "Permettre a l'appelant de refuser l'enregistrement",
  "alias_records_allow_refusal_help": "L'appelant pourra appuyer sur une touche pour desactiver.",
  "alias_records_language": "Langue de l'annonce",
  "alias_records_digit": "Touche pour refuser",
  "alias_records_apply": "Appliquer",
  "alias_records_cancel": "Annuler",
  "alias_records_list": "Enregistrements",
  "alias_records_actions": "Actions",
  "alias_records_selected": "{{count}} elements selectionnes",
  "alias_records_delete": "Supprimer la selection",
  "alias_records_download": "Telecharger la selection",
  "alias_records_col_start": "Debut d'appel",
  "alias_records_col_end": "Fin d'appel",
  "alias_records_col_number": "Numero",
  "alias_records_col_agent": "Agent",
  "alias_records_page": "Page {{current}} sur {{total}}"
}
```

---

## 6. REGLES METIER

- Conservation 30 jours
- RGPD: possibilite de refuser
- Langues disponibles: fr, en, de, es, it
- Touches: 0-9
- Tri par date decroissant
- Pagination 10 elements
