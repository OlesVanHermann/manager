================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.number.agents.svg
Route:   /web-cloud/voip/groups/{billingAccount}/numbers/{serviceName}/queue/agents
NAV:     NAV1=Web Cloud | NAV2=VoIP | NAV3=Numéros | NAV4=File d'attente | NAV5=Agents
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Gestion des agents de la file d'attente. Configuration des lignes qui reçoivent
les appels avec priorités, statuts temps réel et statistiques.

================================================================================

## DONNEES DYNAMIQUES

| Exemple SVG              | Source API                                              |
|--------------------------|---------------------------------------------------------|
| 0033972100000            | GET /telephony/{ba}/number/{sn} → serviceName           |
| Jean Dupont              | GET /telephony/{ba}/number/{sn}/queue/agents → name     |
| 0033972123456            | agents[].line                                           |
| Disponible               | agents[].status (realtime)                              |
| 1                        | agents[].priority                                       |
| 12 appels                | agents[].callsToday                                     |
| 4:32                     | agents[].avgDuration                                    |
| 4 / 6                    | count(available) / count(total)                         |
| 2                        | count(inCall)                                           |
| Moins d'appels           | queue.strategy                                          |

================================================================================

## STRUCTURE PAGE

1. LEFT PANEL (280px)
   - NAV3 tabs: Lignes | [Numéros] | Fax | Abrégés
   - Liste des numéros

2. RIGHT PANEL (1096px)
   - Header: Numéro + Description
   - NAV4 tabs: Général | Redirection | [File d'attente] | SVI | Planification | Sons
   - NAV5 sub-tabs: Configuration | [Agents] | Statistiques

   - STATS TEMPS RÉEL (4 cards):
     * Agents disponibles (vert)
     * En communication (jaune)
     * Hors ligne (rouge)
     * En pause (gris)

   - TOOLBAR:
     * Refresh
     * Recherche
     * + Ajouter un agent

   - TABLE AGENTS (1040x290):
     * Colonnes: Agent | Ligne | Statut | Appels aujourd'hui | Temps moyen | Actions
     * Avatar avec initiales
     * Priorité affichée
     * Ligne en appel: fond jaune
     * Actions: Modifier, Supprimer

   - INFO BANNER: Stratégie de distribution

================================================================================

## API ENDPOINTS

### Liste agents
GET /telephony/{billingAccount}/number/{serviceName}/queue/agents
Response: [{
  id, name, line, status, priority, callsToday, avgDuration, currentCallDuration
}]

### Statuts temps réel
GET /telephony/{billingAccount}/number/{serviceName}/queue/agents/status
Response: {
  available: number, inCall: number, offline: number, paused: number
}

### Ajouter agent
POST /telephony/{billingAccount}/number/{serviceName}/queue/agents
Body: { line, name, priority }

### Modifier agent
PUT /telephony/{billingAccount}/number/{serviceName}/queue/agents/{id}
Body: { name, priority }

### Supprimer agent
DELETE /telephony/{billingAccount}/number/{serviceName}/queue/agents/{id}

### Modifier stratégie
PUT /telephony/{billingAccount}/number/{serviceName}/queue/strategy
Body: { strategy }

================================================================================

## STATUTS AGENT

| Statut       | Couleur | Description                    |
|--------------|---------|--------------------------------|
| Disponible   | Vert    | Prêt à recevoir des appels     |
| En appel     | Jaune   | Communication en cours         |
| Hors ligne   | Rouge   | Téléphone non connecté         |
| En pause     | Gris    | Pause manuelle (repas, etc.)   |
| Wrap-up      | Bleu    | Post-traitement appel          |

================================================================================

## STRATEGIES DISTRIBUTION

| Stratégie       | Description                              |
|-----------------|------------------------------------------|
| ringAll         | Sonne tous les agents disponibles        |
| leastCalls      | Agent avec le moins d'appels             |
| longestIdle     | Agent inactif le plus longtemps          |
| roundRobin      | Distribution circulaire                  |
| random          | Aléatoire parmi les disponibles          |
| priority        | Selon priorité configurée                |

================================================================================

## REGLES METIER

- Maximum 20 agents par file d'attente
- Priorité de 1 (haute) à 5 (basse)
- Rafraîchissement statuts temps réel (5s)
- Agent en appel ne reçoit pas de nouvel appel
- Historique appels conservé 90 jours

================================================================================

## COMPOSANTS REACT

- NumberQueueAgentsTab (container)
- AgentStatusCards (stats temps réel)
- AgentsTable (tableau)
- AgentStatusBadge
- AgentAvatar
- AddAgentModal
- EditAgentModal
- QueueStrategyCard
- EditStrategyModal

================================================================================
FIN DOCUMENTATION
================================================================================
