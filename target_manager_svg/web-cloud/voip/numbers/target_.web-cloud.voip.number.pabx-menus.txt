# Cahier des Charges : telecom/alias - PABX Menus IVR

## 1. RESUME EXECUTIF

### Perimetre
Gestion des menus interactifs (IVR) du PABX.

### Objectif fonctionnel
- Creer des menus vocaux interactifs
- Configurer les touches DTMF
- Definir les actions par touche

---

## 2. LAYOUT

### Structure page avec liste menus + configuration

---

## 3. COMPOSANTS UI

### Header
| Element | Description |
|---------|-------------|
| Titre | Menus interactifs |
| Bouton | + Creer un menu |

### Liste menus
| Colonne | Description |
|---------|-------------|
| Nom | Identifiant du menu |
| Annonce | Son d'accueil |
| Touches | Nombre de touches configurees |
| Actions | Modifier / Supprimer |

### Configuration menu
| Element | Description |
|---------|-------------|
| Nom | Identifiant du menu |
| Annonce | Selection du son d'accueil |
| Grille touches | Configuration par touche |

### Grille DTMF
| Touche | Configuration |
|--------|---------------|
| 1-9 | Action configurable |
| 0 | Souvent "Parler a un conseiller" |
| * | Action speciale |
| # | Repetition menu |

### Action par touche
| Type | Description |
|------|-------------|
| Transfer | Transferer vers numero |
| Menu | Aller vers autre menu |
| Playback | Jouer un son |
| Voicemail | Messagerie vocale |
| Hangup | Raccrocher |

### Footer
| Bouton | Type | Action |
|--------|------|--------|
| Enregistrer | Primary | Sauvegarde |
| Annuler | Default | Annule |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/ovhPabx/{serviceName}/menu
GET /telephony/{billingAccount}/ovhPabx/{serviceName}/menu/{menuId}
POST /telephony/{billingAccount}/ovhPabx/{serviceName}/menu
PUT /telephony/{billingAccount}/ovhPabx/{serviceName}/menu/{menuId}
DELETE /telephony/{billingAccount}/ovhPabx/{serviceName}/menu/{menuId}
GET /telephony/{billingAccount}/ovhPabx/{serviceName}/menu/{menuId}/entry
POST /telephony/{billingAccount}/ovhPabx/{serviceName}/menu/{menuId}/entry
```

### Modele Menu
```typescript
interface OvhPabxMenu {
  menuId: number;
  name: string;
  greetSound: number;
  invalidSound: number;
  greetSoundTts: number;
  invalidSoundTts: number;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "alias_pabx_menus_title": "Menus interactifs",
  "alias_pabx_menus_create": "Creer un menu",
  "alias_pabx_menus_name": "Nom du menu",
  "alias_pabx_menus_greet": "Annonce d'accueil",
  "alias_pabx_menus_invalid": "Touche invalide",
  "alias_pabx_menus_key": "Touche",
  "alias_pabx_menus_action": "Action"
}
```

---

## 6. REGLES METIER

- Maximum 10 menus par PABX
- Chaque touche = une action
- Menu par defaut obligatoire
- Annonce obligatoire
