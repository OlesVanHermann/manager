================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.number.queue.svg
Route:   /web-cloud/voip/groups/{billingAccount}/numbers/{serviceName}/queue
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Configuration d'une file d'attente (queue) VoIP. Gestion des agents,
stratégie de distribution et paramètres de débordement.

================================================================================

## STRUCTURE PAGE

### NAV4 Tabs
- Général | [Configuration] | Statistiques | Options

### Contenu
- Cards statut temps réel (4)
- Table des agents
- Bloc Paramètres distribution
- Bloc Débordement

================================================================================

## DONNÉES DYNAMIQUES

| Élément SVG          | Source API                                 |
|----------------------|--------------------------------------------|
| En attente           | GET /telephony/{ba}/number/{sn}/queue → waitingCalls |
| Agents disponibles   | queue.agents[status=available].count       |
| Temps attente moyen  | queue.averageWaitTime                      |
| Appels aujourd'hui   | queue.dailyCalls                           |
| Liste agents         | GET /telephony/{ba}/number/{sn}/queue/agent |
| Stratégie            | queue.strategy                             |

================================================================================

## CARDS TEMPS RÉEL

| Card              | Source                  | Couleur  |
|-------------------|-------------------------|----------|
| En attente        | waitingCalls            | Vert     |
| Agents disponibles| agents[available]/total | Bleu     |
| Temps attente moy | averageWaitTime         | Jaune    |
| Appels aujourd'hui| dailyCalls              | Gris     |

================================================================================

## TABLE AGENTS

| Colonne        | Source                   | Format           |
|----------------|--------------------------|------------------|
| Agent          | agent.serviceName + name | Numéro + Nom     |
| Statut         | agent.status             | Badge            |
| En appel       | agent.currentCallDuration| mm:ss ou -       |
| Appels traités | agent.callsHandled       | Nombre           |
| Priorité       | agent.priority           | 1-3 (label)      |
| Actions        | -                        | ✎ ✕              |

### Statuts agents
| Statut      | Badge    | Description              |
|-------------|----------|--------------------------|
| Disponible  | Vert     | Prêt à recevoir          |
| En appel    | Bleu     | Communication en cours   |
| Pause       | Rouge    | Non disponible           |
| Sonnerie    | Jaune    | Appel en cours sonnerie  |

================================================================================

## STRATÉGIES DE DISTRIBUTION

| Stratégie        | Description                           |
|------------------|---------------------------------------|
| Round-robin      | Rotation équitable entre agents       |
| Ring all         | Tous les agents sonnent               |
| Longest idle     | Agent inactif le plus longtemps       |
| Least calls      | Agent avec le moins d'appels          |
| Random           | Sélection aléatoire                   |
| Sequential       | Dans l'ordre de priorité              |

================================================================================

## PARAMÈTRES DISTRIBUTION

| Paramètre           | Type   | Valeurs               |
|---------------------|--------|-----------------------|
| Stratégie           | Select | Liste stratégies      |
| Temps max en file   | Input  | 30-600 secondes       |
| Sonnerie simultanée | Select | 1-5 agents            |
| Temps sonnerie      | Input  | 10-60 secondes        |

================================================================================

## DÉBORDEMENT

| Condition          | Actions possibles               |
|--------------------|---------------------------------|
| Aucun agent dispo  | Rediriger, Messagerie, Annonce  |
| Temps max dépassé  | Rediriger, Messagerie, Raccrocher |
| File pleine        | Annonce + Raccrocher            |

================================================================================

## API

| Action          | Méthode | Endpoint                            |
|-----------------|---------|-------------------------------------|
| Config queue    | GET     | /telephony/{ba}/number/{sn}/queue   |
| Modifier queue  | PUT     | /telephony/{ba}/number/{sn}/queue   |
| Liste agents    | GET     | /telephony/{ba}/number/{sn}/queue/agent |
| Ajouter agent   | POST    | /telephony/{ba}/number/{sn}/queue/agent |
| Modifier agent  | PUT     | .../queue/agent/{agentId}           |
| Supprimer agent | DELETE  | .../queue/agent/{agentId}           |

================================================================================
