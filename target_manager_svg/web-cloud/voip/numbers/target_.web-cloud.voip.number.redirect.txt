================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.number.redirect.svg
Route:   /web-cloud/voip/groups/{billingAccount}/numbers/{serviceName}/redirect
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Configuration de la redirection d'un numéro VoIP. Permet de définir le
numéro de destination et les options de présentation.

================================================================================

## STRUCTURE PAGE

### NAV4 Tabs
- Général | [Configuration] | Statistiques | Options

### Contenu
- Bannière statut redirection
- Bloc Configuration principale
- Bloc Schéma visuel
- Bloc Options avancées

================================================================================

## DONNÉES DYNAMIQUES

| Élément SVG          | Source API                                 |
|----------------------|--------------------------------------------|
| Statut               | GET /telephony/{ba}/number/{sn}/redirect → enabled |
| Destination          | redirect.destination                       |
| Type redirection     | redirect.type (immediate/announcement)     |
| Numéro présenté      | redirect.presentation                      |
| Annonce              | redirect.announcement                      |
| Filtrage horaire     | redirect.timeCondition                     |

================================================================================

## CONFIGURATION PRINCIPALE

| Paramètre            | Type    | Valeurs                        |
|----------------------|---------|--------------------------------|
| Numéro destination   | Input   | +33XXXXXXXXX (E.164)           |
| Type redirection     | Toggle  | Immédiate / Avec annonce       |
| Numéro présenté      | Toggle  | Appelant / Ce numéro           |

================================================================================

## TYPES DE REDIRECTION

| Type        | Description                              |
|-------------|------------------------------------------|
| Immédiate   | Transfert direct sans annonce            |
| Avec annonce| Joue un message avant le transfert       |

================================================================================

## PRÉSENTATION DU NUMÉRO

| Option         | Description                              |
|----------------|------------------------------------------|
| Appelant       | Le destinataire voit le numéro appelant  |
| Ce numéro      | Le destinataire voit le numéro redirigé  |

================================================================================

## OPTIONS AVANCÉES

| Option               | Type    | Description                    |
|----------------------|---------|--------------------------------|
| Annonce personnalisée| Toggle  | Message audio avant transfert  |
| Filtrage horaire     | Toggle  | Redirection selon plages       |

### Configuration annonce
- Format: MP3/WAV
- Durée max: 60 secondes
- Upload via API multipart

### Filtrage horaire
- Plages définies par jour de semaine
- Destinations différentes selon plage
- Destination hors plage configurable

================================================================================

## API

| Action           | Méthode | Endpoint                              |
|------------------|---------|---------------------------------------|
| Lire config      | GET     | /telephony/{ba}/number/{sn}/redirect  |
| Modifier         | PUT     | /telephony/{ba}/number/{sn}/redirect  |
| Upload annonce   | POST    | /telephony/{ba}/number/{sn}/redirect/announcement |
| Config horaires  | PUT     | /telephony/{ba}/number/{sn}/redirect/timeCondition |

================================================================================
