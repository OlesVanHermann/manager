================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.sms.receivers.svg
Route:   /web-cloud/sms/{serviceName}/receivers
NAV:     NAV1=Web Cloud | NAV2=SMS | NAV3=SMS reçus
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Historique des SMS entrants reçus sur le numéro virtuel du compte.
Inclut les réponses clients et les demandes STOP.

================================================================================

## DONNEES DYNAMIQUES

| Exemple SVG              | Source API                                              |
|--------------------------|---------------------------------------------------------|
| #R-45678                 | GET /sms/.../incoming → id                              |
| +33 6 12 34 56 78        | incoming.sender                                         |
| OK pour demain...        | incoming.message                                        |
| Jean Dupont              | incoming.contactName (si match répertoire)              |
| 24/12/2024 15:42:18      | incoming.receivedAt                                     |
| Réponse                  | incoming.type (response/stop/incoming)                  |
| 847 SMS reçus            | pagination.total                                        |

================================================================================

## STRUCTURE PAGE

1. LEFT PANEL (280px)
   - Recherche comptes SMS
   - Liste des comptes SMS

2. RIGHT PANEL (1096px)
   - Header: Titre + description

   - TOOLBAR:
     * Refresh
     * Recherche (numéro/message)
     * Filtre date début
     * Filtre date fin
     * Export CSV

   - TABLE SMS RECUS:
     * ID
     * Expéditeur
     * Message + nom contact (si trouvé)
     * Date/heure réception
     * Type (badge: Réponse/STOP/Entrant)
     * Action (Répondre si pas STOP)

   - PAGINATION

   - STATS CARDS:
     * Reçus aujourd'hui
     * STOP ce mois
     * Réponses ce mois

================================================================================

## API ENDPOINTS

### Liste SMS entrants
GET /sms/{serviceName}/incoming
Query: { startDate?, endDate?, type?, search?, limit, offset }
Response: [{ id, sender, message, receivedAt, type, contactName? }]

### Détail SMS
GET /sms/{serviceName}/incoming/{smsId}
Response: { id, sender, message, receivedAt, type, contactName?, contactId? }

### Répondre
POST /sms/{serviceName}/outgoing
Body: { receiver, message, sender }

### Export CSV
GET /sms/{serviceName}/incoming/export
Query: { startDate, endDate, type? }
Response: CSV file

### Stats
GET /sms/{serviceName}/incoming/stats
Response: { todayCount, monthlyStopCount, monthlyResponseCount }

================================================================================

## REGLES METIER

- STOP traité automatiquement (blacklist)
- Matching auto avec répertoires (affiche nom)
- Historique conservé 1 an
- Réponse rapide depuis l'interface
- Export max 100 000 lignes

================================================================================

## COMPOSANTS REACT

- SmsReceiversTab (container)
- IncomingSmsTable
- IncomingTypeBadge
- IncomingSmsDetailModal
- QuickReplyModal
- DateRangePicker
- IncomingStatsCards
- ExportIncomingButton

================================================================================
FIN DOCUMENTATION
================================================================================
