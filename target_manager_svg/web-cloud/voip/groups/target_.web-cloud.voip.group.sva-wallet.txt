================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.group.sva-wallet.svg
Route:   /web-cloud/voip/group/{billingAccount}/sva-wallet
NAV:     NAV1=Web Cloud | NAV2=VoIP | NAV3=Portefeuille SVA
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Gestion du portefeuille de revenus SVA (Services à Valeur Ajoutée).
Suivi des gains, historique des transactions et demandes de retrait.

================================================================================

## DONNEES DYNAMIQUES

| Exemple SVG              | Source API                                              |
|--------------------------|---------------------------------------------------------|
| 2 847,56 €               | GET /telephony/.../svaWallet → balance                  |
| +847,23 €                | svaWallet.monthlyRevenue                                |
| 1 245                    | svaWallet.monthlyCallsCount                             |
| 4m 32s                   | svaWallet.avgDuration                                   |
| 01/01/2025               | svaWallet.nextPayoutDate                                |
| 24/12/2024               | transaction.date                                        |
| +124,56 €                | transaction.amount                                      |
| FR76 3000...             | bankAccount.iban                                        |

================================================================================

## STRUCTURE PAGE

1. LEFT PANEL (280px)
   - Recherche groupes
   - Liste des groupes de facturation

2. RIGHT PANEL (1096px)
   - Header: Titre + description

   - BALANCE CARD:
     * Solde disponible (grand)
     * Dernière MAJ
     * Bouton retirer

   - STATS CARDS (4):
     * Revenus ce mois
     * Appels ce mois
     * Durée moyenne
     * Prochain versement

   - TABLE TRANSACTIONS:
     * Toolbar (période, type, export)
     * Date
     * Type (badge: Revenus/Retrait)
     * Numéro SVA
     * Description
     * Nb appels
     * Durée totale
     * Montant (+ vert / - rouge)

   - PAGINATION

   - BLOC COMPTE BANCAIRE:
     * IBAN
     * BIC
     * Bouton modifier

================================================================================

## API ENDPOINTS

### Info portefeuille
GET /telephony/{billingAccount}/svaWallet
Response: { balance, monthlyRevenue, monthlyCallsCount, avgDuration, nextPayoutDate }

### Transactions
GET /telephony/{billingAccount}/svaWallet/transactions
Query: { period?, type?, limit, offset }
Response: [{ date, type, svaNumber, description, callsCount, duration, amount }]

### Demander retrait
POST /telephony/{billingAccount}/svaWallet/withdraw
Body: { amount }

### Compte bancaire
GET /telephony/{billingAccount}/svaWallet/bankAccount
Response: { iban, bic, accountHolder }

### Modifier compte bancaire
PUT /telephony/{billingAccount}/svaWallet/bankAccount
Body: { iban, bic, accountHolder }

### Export transactions
GET /telephony/{billingAccount}/svaWallet/transactions/export
Query: { period, type? }
Response: CSV file

================================================================================

## REGLES METIER

- Revenus calculés quotidiennement
- Retrait minimum: 50€
- Versement automatique mensuel si solde >100€
- IBAN vérifié par validation bancaire
- Délai virement: 3-5 jours ouvrés
- Commission OVH: 5% sur revenus

================================================================================

## COMPOSANTS REACT

- GroupSvaWalletTab (container)
- WalletBalanceCard
- SvaStatsCards
- TransactionsTable
- TransactionTypeBadge
- WithdrawModal
- BankAccountCard
- EditBankAccountModal
- ExportTransactionsButton

================================================================================
FIN DOCUMENTATION
================================================================================
