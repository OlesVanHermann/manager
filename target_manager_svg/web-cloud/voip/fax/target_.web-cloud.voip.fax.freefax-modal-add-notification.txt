# old_manager.web-cloud.freefax.modal-add-notification.txt
# Cahier des charges - Modal Ajout Notification
# Généré depuis : old_manager_web-cloud_telecom_fax.tar

---

## 1. RÉSUMÉ EXÉCUTIF

### Périmètre
Modal de création d'une nouvelle notification email pour le service FreeFax.

### Objectif fonctionnel
Permettre d'ajouter une adresse email pour recevoir les alertes fax/répondeur.

### Note
Le code source du modal n'est pas fourni. Spécification basée sur les traductions.

---

## 2. ARCHITECTURE

### Déclencheur
Bouton "Ajouter" (freefax_notification_add) dans la section Notifications.

---

## 3. PAGES & NAVIGATION

### Type
Modal/Dialog

### Titre
freefax_notification_add_title : "Ajouter une alerte"

---

## 4. COMPOSANTS UI

### Formulaire

| Champ | Label | Type | Validation |
|-------|-------|------|------------|
| Email | freefax_notification_email | input email | Required, format email |
| Type | freefax_notification_type | select | Required |
| Source | freefax_notification_source | select | Required |

### Options Type
| Valeur | Label |
|--------|-------|
| simple | "Notification seule" |
| attachment | "Pièce jointe" |

### Options Source
| Valeur | Label |
|--------|-------|
| fax | "Fax" |
| voicemail | "Répondeur" |
| both | "Fax et répondeur" |

### Boutons
| Bouton | Label | Action |
|--------|-------|--------|
| Valider | freefax_submit | Soumettre formulaire |
| Annuler | freefax_cancel | Fermer modal |

---

## 5. APIs & DONNÉES

### Endpoint
| Méthode | Endpoint | Description |
|---------|----------|-------------|
| POST | /freefax/{serviceName}/notifications | Création notification |

### Payload
```typescript
interface CreateNotificationPayload {
  email: string;
  type: 'simple' | 'attachment';
  source: 'fax' | 'voicemail' | 'both';
}
```

---

## 6. TRADUCTIONS

### Clés i18n utilisées
| Clé | FR |
|-----|-----|
| freefax_notification_add_title | "Ajouter une alerte" |
| freefax_notification_email | "Email" |
| freefax_notification_type | "Notification du répondeur" |
| freefax_notification_source | "Source de la notification" |
| freefax_submit | "Valider" |
| freefax_cancel | "Annuler" |
| freefax_notif_save_success | "Vos notifications ont été mises à jour." |
| freefax_notif_save_error | "Oups ! Nous n'avons pas pu sauvegarder la notification." |

---

## 7. RÈGLES MÉTIER

### Comportement
| Action | Résultat |
|--------|----------|
| Succès | Toast success + fermeture modal + refresh liste |
| Erreur | Toast error + modal reste ouverte |

### Note importante
CODE SOURCE NON FOURNI - Spécification basée sur les traductions.
