================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.abbreviated.svg
Route:   /web-cloud/voip/groups/{billingAccount}/abbreviated
NAV:     NAV1=Web Cloud | NAV2=VoIP | NAV3=Abreges
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Gestion des numeros abreges du groupe VoIP. Permet de composer rapidement
un contact en tapant un code court (ex: 2001).

================================================================================

## DONNEES DYNAMIQUES

| Exemple SVG              | Source API                                              |
|--------------------------|---------------------------------------------------------|
| voip-ab12345             | GET /telephony → billingAccount                         |
| 5 lignes, 3 numeros      | count(lines), count(numbers)                            |
| 2001                     | GET /telephony/{ba}/abbreviatedNumber → abbreviatedNumber |
| +33 6 12 34 56 78        | abbreviatedNumber[].destinationNumber                   |
| Dupont                   | abbreviatedNumber[].surname                             |
| Jean                     | abbreviatedNumber[].name                                |
| 6                        | count(abbreviatedNumber)                                |
| 1000                     | maxAbbreviatedNumbers (2999-2000+1)                     |

================================================================================

## STRUCTURE PAGE

1. LEFT PANEL (280px)
   - Barre recherche
   - Liste des groupes VoIP
   - Pagination

2. RIGHT PANEL (1096px)
   - Header: "Numeros abreges" + Groupe
   - NAV3 tabs: Lignes | Numeros | Fax | [Abreges] | Repertoire | Facturation

   - TOOLBAR:
     * Menu Actions (dropdown): Ajouter, Telecharger, Importer CSV, Vider
     * Recherche

   - BANNER INFO:
     * Explication numeros abreges

   - TABLE NUMEROS ABREGES (1056x330):
     * Colonnes: Numero abrege | Numero cible | Nom | Prenom | Actions
     * Actions: Menu contextuel (modifier, supprimer)

   - PAGINATION

   - BLOC: Plage disponible (1056x80)
     * Info: 2000 a 2999, X utilises sur 1000

================================================================================

## API ENDPOINTS

### Liste numeros abreges
GET /telephony/{billingAccount}/abbreviatedNumber
Response: [{
  abbreviatedNumber, destinationNumber, surname, name
}]

### Ajouter numero abrege
POST /telephony/{billingAccount}/abbreviatedNumber
Body: {
  abbreviatedNumber, destinationNumber, surname, name
}

### Modifier numero abrege
PUT /telephony/{billingAccount}/abbreviatedNumber/{abbreviatedNumber}
Body: { destinationNumber, surname, name }

### Supprimer numero abrege
DELETE /telephony/{billingAccount}/abbreviatedNumber/{abbreviatedNumber}

### Import CSV
POST /telephony/{billingAccount}/abbreviatedNumber/import
Body: multipart (CSV file)

### Export CSV
GET /telephony/{billingAccount}/abbreviatedNumber/export
Response: CSV download

### Vider liste
DELETE /telephony/{billingAccount}/abbreviatedNumber
(Supprime tous les numeros abreges)

================================================================================

## FORMAT CSV IMPORT

```csv
abbreviatedNumber;destinationNumber;surname;name
2001;+33612345678;Dupont;Jean
2002;+33698765432;Martin;Marie
```

================================================================================

## PLAGE NUMEROS

| Plage    | Description              |
|----------|--------------------------|
| 2000-2999| Numeros abreges standards|
| Max      | 1000 entrees             |

================================================================================

## ACTIONS MENU

| Action        | Description                    | API                          |
|---------------|--------------------------------|------------------------------|
| Ajouter       | Modal creation                 | POST .../abbreviatedNumber   |
| Telecharger   | Export CSV                     | GET .../export               |
| Importer CSV  | Upload fichier                 | POST .../import              |
| Vider         | Supprimer tout (confirmation)  | DELETE .../abbreviatedNumber |

================================================================================

## ACTIONS LIGNE

| Action     | Description         | API                              |
|------------|---------------------|----------------------------------|
| Modifier   | Modal edition       | PUT .../{abbreviatedNumber}      |
| Supprimer  | Confirmation        | DELETE .../{abbreviatedNumber}   |

================================================================================

## REGLES METIER

- Numero abrege: 4 chiffres (2000-2999)
- Numero cible: format international (+33...)
- Nom/Prenom: optionnels
- Pas de doublons (numero abrege unique)
- Import CSV: max 500 lignes par import

================================================================================

## COMPOSANTS REACT

- AbbreviatedNumbersTab (container)
- ActionsDropdownMenu
- AbbreviatedNumbersTable (tableau pagine)
- AddAbbreviatedModal
- EditAbbreviatedModal
- ImportCsvModal
- DeleteConfirmModal
- RangeInfoCard

================================================================================
FIN DOCUMENTATION
================================================================================
