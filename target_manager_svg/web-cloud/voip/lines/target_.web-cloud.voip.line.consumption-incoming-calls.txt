# Cahier des Charges : telecom/line - Appels entrants

## 1. RESUME EXECUTIF

### Perimetre
Page de consultation des appels entrants d'une ligne.

### Objectif fonctionnel
- Consulter l'historique des appels recus
- Voir les appels manques
- Filtrer par type et periode

---

## 2. LAYOUT

### Structure page avec resume + filtres + tableau

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ‚Üê Retour a la consommation |
| Titre | Appels entrants |

### Resume periode
| Element | Description |
|---------|-------------|
| Periode | Mois/Annee |
| Total | X appels - Duree totale HH:MM:SS |

### Bouton filtre
| Element | Description |
|---------|-------------|
| Type | Secondary |
| Icone | Loupe |
| Texte | Filtrer |

### Panneau filtres (expandable)
| Filtre | Type |
|--------|------|
| Numero appelant | Input text |
| Numero compose | Input text |
| Type | Select dropdown |

### Tableau appels
| Colonne | Description |
|---------|-------------|
| Date | DD/MM/YYYY + HH:MM:SS |
| Appelant | Numero ou "Inconnu" |
| Compose | Numero ou - |
| Duree | HH:MM:SS |
| Type | Badge |

### Badges type
| Type | Style |
|------|-------|
| Entrant | Fond vert |
| Manque | Fond rouge |
| Transfert | Fond bleu |

### Pagination
| Element | Description |
|---------|-------------|
| Compteur | X-Y sur Z |
| Navigation | Fleches + numeros |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/statistics/incoming
```

### Modele
```typescript
interface IncomingCall {
  id: string;
  date: string;
  callerNumber: string;
  dialedNumber?: string;
  duration: number;
  type: 'incoming' | 'missed' | 'transfer';
}

interface IncomingSummary {
  totalCalls: number;
  totalDuration: number;
  missedCalls: number;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "line_calls_in_title": "Appels entrants",
  "line_calls_in_back": "Retour a la consommation",
  "line_calls_in_period": "Periode",
  "line_calls_in_total": "appels - Duree totale",
  "line_calls_in_filter": "Filtrer",
  "line_calls_in_filter_caller": "Numero appelant...",
  "line_calls_in_filter_dialed": "Numero compose...",
  "line_calls_in_filter_type": "Tous les types",
  "line_calls_in_col_date": "Date",
  "line_calls_in_col_caller": "Appelant",
  "line_calls_in_col_dialed": "Compose",
  "line_calls_in_col_duration": "Duree",
  "line_calls_in_col_type": "Type",
  "line_calls_in_type_incoming": "Entrant",
  "line_calls_in_type_missed": "Manque",
  "line_calls_in_type_transfer": "Transfert",
  "line_calls_in_unknown": "Inconnu"
}
```

---

## 6. REGLES METIER

- Historique 12 mois
- Appels entrants gratuits
- Numero masque = "Inconnu"
- Transfert = appel redirige
