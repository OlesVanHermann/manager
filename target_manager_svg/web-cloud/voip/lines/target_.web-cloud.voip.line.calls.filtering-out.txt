================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.line.calls.filtering-out.svg
Route:   /web-cloud/voip/groups/{billingAccount}/lines/{serviceName}/calls/filtering-out
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Gestion des restrictions sur les appels sortants. Permet de bloquer ou
limiter certains types d'appels (international, surtaxés, mobiles).

================================================================================

## STRUCTURE PAGE

### NAV4 Tabs
- Général | Téléphone | [Appels] | Transferts | Messagerie | Conso | Options

### NAV5 Sous-tabs
- Historique | Filtrage entrant | [Filtrage sortant]

### Contenu
- Toggle global activation
- Toolbar + Table règles
- Types de restrictions
- Gestion code PIN

================================================================================

## DONNÉES DYNAMIQUES

| Élément SVG       | Source API                                     |
|-------------------|------------------------------------------------|
| Statut global     | GET /telephony/{ba}/line/{sn} → outgoingRestriction |
| Liste restrictions| GET /telephony/{ba}/line/{sn}/calls/outgoingRestriction |
| Code PIN          | GET /telephony/{ba}/line/{sn}/options → callPin |

================================================================================

## TABLE RESTRICTIONS

| Colonne          | Description                        |
|------------------|------------------------------------|
| Statut           | Toggle actif/inactif               |
| Type restriction | International, Surtaxés, Mobiles   |
| Destination      | Détail des numéros concernés       |
| Horaires         | Toujours ou plages horaires        |
| Code PIN         | Requis / Bloqué / Non requis       |
| Actions          | ✎ Modifier, ✕ Supprimer            |

================================================================================

## TYPES DE RESTRICTIONS

| Type                | Préfixes concernés           |
|---------------------|------------------------------|
| International       | +XX (hors +33)               |
| Numéros surtaxés    | 089x, 36xx, 0891, 0892, 0897 |
| Appels mobiles      | 06, 07                       |
| Numéros spéciaux    | 08xx                         |
| Plages horaires     | Selon configuration          |

================================================================================

## ACTIONS CODE PIN

| Action   | Comportement                              |
|----------|-------------------------------------------|
| Requis   | PIN nécessaire pour débloquer             |
| Bloqué   | Appel impossible même avec PIN            |
| Non requis| Pas de restriction sur ce type           |

### Déblocage temporaire
- Composer: *31*PIN# + numéro
- Exemple: *31*1234#0044123456789

================================================================================

## API

| Action    | Méthode | Endpoint                                   |
|-----------|---------|-------------------------------------------|
| Lister    | GET     | /telephony/{ba}/line/{sn}/calls/outgoingRestriction |
| Créer     | POST    | /telephony/{ba}/line/{sn}/calls/outgoingRestriction |
| Modifier  | PUT     | .../outgoingRestriction/{id}               |
| Supprimer | DELETE  | .../outgoingRestriction/{id}               |
| Changer PIN| POST   | /telephony/{ba}/line/{sn}/options/callPin  |

================================================================================
