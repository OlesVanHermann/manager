================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.line.calls.svg
Route:   /web-cloud/voip/groups/{billingAccount}/lines/{serviceName}/calls
Version: v1 (2025-12-28)
================================================================================

## DESCRIPTION

Historique des appels de la ligne VoIP avec filtres, statistiques et
export. Affiche les appels entrants, sortants et manqués.

================================================================================

## STRUCTURE PAGE

### NAV4 Tabs
- Général | Téléphone | [Appels] | Transferts | Messagerie | Conso | Options

### NAV5 Sous-tabs
- [Historique] | Filtrage entrant | Filtrage sortant

### Contenu
- Toolbar: Refresh, Filtres type/période, Export
- Cards statistiques (4)
- Table historique appels
- Pagination

================================================================================

## DONNÉES DYNAMIQUES

| Élément SVG        | Source API                                  |
|--------------------|---------------------------------------------|
| Historique appels  | GET /telephony/{ba}/line/{sn}/calls         |
| Stats totaux       | Calcul depuis calls                         |
| Détail appel       | calls[].{date,type,destination,duration...} |
| Correspondant nom  | Lookup phonebook ou répertoire              |

================================================================================

## FILTRES

| Filtre     | Valeurs                                    |
|------------|--------------------------------------------|
| Type       | Tous, Sortants, Entrants, Manqués          |
| Période    | Aujourd'hui, 7 jours, 30 jours, Personnalisé |

================================================================================

## CARDS STATISTIQUES

| Card            | Couleur   | Valeur               |
|-----------------|-----------|----------------------|
| Appels totaux   | Gris      | Somme tous appels    |
| Appels sortants | Vert      | Type = outgoing      |
| Appels entrants | Bleu      | Type = incoming      |
| Appels manqués  | Rouge     | Status = missed      |

================================================================================

## TABLE HISTORIQUE

| Colonne      | Source                   | Format            |
|--------------|--------------------------|-------------------|
| Date/Heure   | call.dateTime            | DD/MM/YYYY HH:mm  |
| Type         | call.type                | Badge Sortant/Entrant |
| Correspondant| call.destination + lookup| Numéro + Nom      |
| Durée        | call.duration            | mm:ss             |
| Statut       | call.status              | ● Abouti/Manqué   |
| Coût         | call.price               | X,XX €            |

================================================================================

## NAV5 - SOUS-TABS APPELS

| Tab              | Contenu                          |
|------------------|----------------------------------|
| Historique       | Ce SVG - liste appels            |
| Filtrage entrant | Règles blocage appels entrants   |
| Filtrage sortant | Restrictions appels sortants     |

================================================================================

## ACTIONS

| Action      | Déclencheur     | API/Résultat              |
|-------------|-----------------|---------------------------|
| Refresh     | Bouton ↻        | Recharger liste           |
| Filtrer     | Dropdowns       | Filtrage client-side      |
| Export CSV  | Bouton export   | Téléchargement fichier    |

================================================================================

## STATUTS APPELS

| Statut   | Badge        | Signification           |
|----------|--------------|-------------------------|
| Abouti   | ● vert       | Appel connecté          |
| Manqué   | ● rouge      | Non décroché            |
| Occupé   | ● orange     | Ligne occupée           |
| Rejeté   | ● gris       | Refusé par filtrage     |

================================================================================
