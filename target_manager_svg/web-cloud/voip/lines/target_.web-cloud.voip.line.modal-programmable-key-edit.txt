# Cahier des Charges : telecom/line - Modal edition touche programmable

## 1. RESUME EXECUTIF

### Perimetre
Modal de modification d'une touche programmable du telephone.

### Objectif fonctionnel
- Changer la fonction d'une touche
- Configurer le parametre
- Definir le libelle

---

## 2. LAYOUT

### Structure modal avec formulaire configuration touche

---

## 3. COMPOSANTS UI

### Modal
| Element | Description |
|---------|-------------|
| Titre | Modifier la touche {Lx} |
| Bouton fermer | X en haut droite |
| Overlay | Fond sombre |

### Warning
| Element | Description |
|---------|-------------|
| Fond | Jaune clair |
| Bordure | Jaune |
| Icone | Warning |
| Texte | Modifier peut affecter le fonctionnement |

### Champ Fonction
| Element | Description |
|---------|-------------|
| Label | Fonction * |
| Type | Select dropdown |
| Valeur | Fonction selectionnee |

### Dropdown Fonction (groupe)
| Groupe | Options |
|--------|---------|
| Lignes | Ligne principale |
| Transferts | Transfert supervise, Transfert aveugle |
| Supervision | Supervision BLF, Appel rapide |

### Champ Parametre
| Element | Description |
|---------|-------------|
| Label | Parametre * |
| Type | Input avec recherche |
| Icone | Loupe pour recherche |
| Description | Numero a superviser ou appeler |

### Boutons footer
| Bouton | Type | Position |
|--------|------|----------|
| Annuler | Secondary | Gauche |
| Enregistrer | Primary | Droite |

---

## 4. APIS & DONNEES

### Endpoints
```
PUT /telephony/{billingAccount}/line/{serviceName}/phone/functionKey/{keyId}
```

### Modele
```typescript
interface FunctionKeyUpdate {
  function: 'line' | 'transferSupervised' | 'transferBlind' | 'blf' | 'speedDial';
  parameter?: string;
  label?: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "line_key_edit_title": "Modifier la touche",
  "line_key_edit_warning": "Attention: modifier cette touche peut affecter le fonctionnement du telephone.",
  "line_key_edit_function": "Fonction",
  "line_key_edit_param": "Parametre",
  "line_key_edit_param_desc": "Numero de telephone a superviser ou appeler",
  "line_key_edit_group_lines": "Lignes",
  "line_key_edit_group_transfers": "Transferts",
  "line_key_edit_group_supervision": "Supervision",
  "line_key_edit_func_line": "Ligne principale",
  "line_key_edit_func_transfer_sup": "Transfert supervise",
  "line_key_edit_func_transfer_blind": "Transfert aveugle",
  "line_key_edit_func_blf": "Supervision BLF",
  "line_key_edit_func_speed": "Appel rapide",
  "line_key_edit_cancel": "Annuler",
  "line_key_edit_save": "Enregistrer"
}
```

---

## 6. REGLES METIER

- Fonction obligatoire
- Parametre requis pour BLF et speed dial
- Parametre = numero E.164
- Changements effectifs apres reboot telephone
