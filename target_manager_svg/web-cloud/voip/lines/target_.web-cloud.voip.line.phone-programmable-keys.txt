# Cahier des Charges : telecom/line - Touches programmables

## 1. RESUME EXECUTIF

### Perimetre
Page de configuration des touches programmables d'un telephone VoIP.

### Objectif fonctionnel
- Voir les touches configurees
- Modifier les fonctions des touches
- Appliquer a plusieurs lignes

---

## 2. LAYOUT

### Structure page avec tableau touches et warning

---

## 3. COMPOSANTS UI

### Header page
| Element | Description |
|---------|-------------|
| Retour | ‚Üê Retour au telephone |
| Titre | Touches programmables - {Modele} |
| Description | Configurez les touches de fonction |

### Lien action multiple
| Element | Description |
|---------|-------------|
| Texte | Appliquer a plusieurs lignes... |
| Type | Link bleu |

### Tableau touches
| Colonne | Description |
|---------|-------------|
| Touche | Badge L1, L2, etc. |
| Fonction | Type de fonction |
| Parametre | Numero ou valeur |
| Libelle personnalise | Nom affiche |
| Actions | Menu contextuel |

### Badge touche
| Type | Style |
|------|-------|
| L1 (reservee) | Fond jaune, texte orange |
| Autres | Fond gris, texte gris |

### Fonctions disponibles
| Fonction | Description |
|----------|-------------|
| Ligne principale | Ligne telephonique |
| Transfert supervise | Transfert avec consultation |
| Supervision BLF | Voir etat autre ligne |
| Appel rapide | Speed dial |
| Parking d'appel | Parking appel |
| Non configure | Touche vide |

### Menu ligne (...)
| Option | Description |
|--------|-------------|
| Modifier | Ouvre modal edition |

### Warning touche L1
| Element | Description |
|---------|-------------|
| Fond | Jaune clair |
| Bordure | Jaune |
| Icone | Warning |
| Texte | Touche L1 reservee a ligne principale |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /telephony/{billingAccount}/line/{serviceName}/phone/functionKey
PUT /telephony/{billingAccount}/line/{serviceName}/phone/functionKey/{keyId}
```

### Modele FunctionKey
```typescript
interface FunctionKey {
  keyNumber: number;
  function: 'line' | 'transfer' | 'blf' | 'speedDial' | 'parking' | 'none';
  parameter?: string;
  label?: string;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "line_keys_title": "Touches programmables",
  "line_keys_back": "Retour au telephone",
  "line_keys_desc": "Configurez les touches de fonction de votre telephone",
  "line_keys_bulk": "Appliquer a plusieurs lignes...",
  "line_keys_col_key": "Touche",
  "line_keys_col_function": "Fonction",
  "line_keys_col_param": "Parametre",
  "line_keys_col_label": "Libelle personnalise",
  "line_keys_func_line": "Ligne principale",
  "line_keys_func_transfer": "Transfert supervise",
  "line_keys_func_blf": "Supervision BLF",
  "line_keys_func_speed": "Appel rapide",
  "line_keys_func_parking": "Parking d'appel",
  "line_keys_func_none": "Non configure",
  "line_keys_modify": "Modifier",
  "line_keys_warning": "La touche L1 est reservee a la ligne principale. Modifier cette touche peut affecter le fonctionnement."
}
```

---

## 6. REGLES METIER

- L1 reservee a ligne principale
- Nombre touches selon modele telephone
- BLF necessite numero a superviser
- Application multi-lignes possible
- Changements effectifs apres reboot
