================================================================================
TARGET SVG DOCUMENTATION
================================================================================
Fichier: target_.web-cloud.voip.carrier-sip.routing.svg
Route:   /web-cloud/voip/{billingAccount}/carrier-sip/{serviceName}/routing
Version: v1 (2024-12-30)
================================================================================

⚠️ DONNÉES DYNAMIQUES
| Exemple SVG               | Source API                                        |
|---------------------------|---------------------------------------------------|
| Liste règles              | GET /telephony/{ba}/trunk/{sn}/routing            |
| Endpoints                 | GET /telephony/{ba}/trunk/{sn}/endpoints          |
| Load balancing mode       | GET /telephony/{ba}/trunk/{sn}/loadBalancing      |

================================================================================

# STRUCTURE PAGE
1. NAV1 - Header OVH (Web Cloud actif)
2. NAV2 - Section Web Cloud (VoIP actif)
3. LEFT PANEL - Menu Carrier SIP (Routage actif)
4. RIGHT PANEL
   - Header: "Routage des appels"
   - Toolbar: Refresh + Ajouter règle
   - Bannière info (ordre évaluation)
   - Table règles de routage
   - Bloc: Répartition de charge
   - Bloc: Paramètres failover

# TABLE RÈGLES ROUTAGE
| Colonne | Description |
|---------|-------------|
| # | Ordre d'évaluation |
| Préfixe | Pattern (* = joker) |
| Description | Note libre |
| Destination | Endpoint(s) cible |
| Statut | Actif / Inactif |
| Priorité | Valeur numérique (plus élevé = prioritaire) |
| Actions | Modifier, Monter, Descendre, Supprimer |

# MODES LOAD BALANCING
| Mode | Description |
|------|-------------|
| Failover | Primary/Backup séquentiel |
| Round-robin | Distribution circulaire |
| Weighted | Distribution par poids |
| Least connections | Vers endpoint le moins chargé |

# PARAMÈTRES FAILOVER
| Param | Description |
|-------|-------------|
| Délai timeout | Temps avant bascule |
| Seuil d'erreurs | Échecs consécutifs avant failover |
| Délai récupération | Temps avant réactivation endpoint |
| Mode probe | Méthode de vérification (OPTIONS/INVITE) |

# INTERACTIONS
- "+ Ajouter règle" → Modal création règle
- "✎" → Modal édition
- "↑ ↓" → Réordonne les règles
- "×" → Supprime la règle
- Radio mode → Change mode load balancing

# API ENDPOINTS
GET /telephony/{ba}/trunk/{sn}/routing
POST /telephony/{ba}/trunk/{sn}/routing
PUT /telephony/{ba}/trunk/{sn}/routing/{id}
DELETE /telephony/{ba}/trunk/{sn}/routing/{id}
PUT /telephony/{ba}/trunk/{sn}/loadBalancing

================================================================================
