# Cahier des Charges : web-cloud/email-exchange - Modal Diagnostic MX

## 1. VUE D'ENSEMBLE
- **Modal** : Résultat diagnostic enregistrements MX
- **Type** : Modal informative avec action
- **Objectif** : Afficher les erreurs MX et proposer une correction

## 2. STRUCTURE MODAL
- Header rouge (erreur)
- Domaine concerné
- Message d'erreur
- Comparaison actuel vs attendu
- Boutons Fermer / Configurer auto

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur (500x340)
- **OdsMessage** : Erreur rouge
- **OdsCard** : Configuration actuelle / attendue
- **OdsButton** : Fermer, Configurer auto

## 4. TITRE
"Erreur de configuration MX"
- Header fond rouge (#FEF2F2)
- Texte rouge (#DC2626)

## 5. DOMAINE
Affiché en gras : "example.com"

## 6. MESSAGE D'ERREUR
Fond rouge (#FEF2F2) avec icône :
| Élément | Valeur |
|---------|--------|
| Icône | ! (cercle rouge) |
| Titre | "Enregistrements MX incorrects" |
| Message | "Les enregistrements MX ne pointent pas vers Exchange. Les emails ne seront pas reçus correctement." |

## 7. COMPARAISON
### Configuration actuelle (fond gris)
| Priorité | Serveur |
|----------|---------|
| 10 | mail.other.com |
| 20 | backup.other.com |

### Configuration attendue (fond vert)
| Priorité | Serveur |
|----------|---------|
| 1 | mx1.mail.ovh.net |
| 5 | mx2.mail.ovh.net |

## 8. BOUTONS
| Bouton | Type | Action |
|--------|------|--------|
| Fermer | Secondaire | Ferme la modal |
| Configurer auto | Primaire bleu | Corrige automatiquement les MX |

## 9. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/domain/{domain}/dnsDiagnostic : Récupérer diagnostic
- POST /email/exchange/{org}/service/{service}/domain/{domain}/updateDns : Corriger DNS automatiquement

