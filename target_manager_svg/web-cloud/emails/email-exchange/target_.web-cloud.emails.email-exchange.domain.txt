# Cahier des Charges : web-cloud/email-exchange - Domaines associés

## 1. VUE D'ENSEMBLE
- **Écran** : Gestion des domaines Exchange
- **Type** : Page liste avec tableau et diagnostics
- **Objectif** : Gérer les domaines associés au service Exchange

## 2. LAYOUT
- Header OVHcloud
- Sidebar Exchange (Domaines associés actif)
- Titre + bouton ajouter
- Barre de recherche
- Tableau des domaines avec diagnostics DNS

## 3. COMPOSANTS UI
- **OdsButton** : Ajouter un domaine
- **OdsInput** : Recherche domaine
- **OdsTable** : Liste des domaines
- **OdsBadge** : Diagnostics DNS (MX, SRV, SPF, DKIM), Statuts
- **OdsActionMenu** : Menu contextuel (⋮)

## 4. TITRE
"Domaines associés"

## 5. BOUTON AJOUTER
| Élément | Valeur |
|---------|--------|
| Label | "Ajouter un domaine" |
| Type | Secondaire |
| Position | En haut à droite |

## 6. RECHERCHE
Placeholder : "Rechercher un domaine"

## 7. TABLEAU
| Colonne | Description |
|---------|-------------|
| Domaine | Nom du domaine |
| Mode | Autoritatif / Non-Autoritatif |
| Comptes | Nombre de comptes sur ce domaine |
| Diagnostic | Badges MX, SRV, SPF, DKIM |
| Statut | État global |
| Actions | Menu ⋮ |

## 8. BADGES DIAGNOSTIC
| Badge | Vert | Rouge | Jaune |
|-------|------|-------|-------|
| MX | Valide | Invalide | - |
| SRV | Valide | Invalide | - |
| SPF | Valide | Invalide | - |
| DKIM | Valide | Invalide | À configurer |
| CNAME | - | Invalide | - |

## 9. BADGES STATUT
| Statut | Couleur |
|--------|---------|
| OK | Vert (#10B981) |
| Tâche en cours | Bleu (#3B82F6) |
| Validation | Bleu (#3B82F6) |

## 10. EXEMPLES DE DONNÉES
| Domaine | Mode | Comptes | MX | SRV | SPF | DKIM | Statut |
|---------|------|---------|-----|-----|-----|------|--------|
| example.com | Autoritatif | 5 | ✓ | ✓ | ✓ | ✓ | OK |
| company.fr | Non-Autoritatif | 3 | ✗ | ✓ | ✓ | ⚠ | OK |
| test-domain.org | Autoritatif | 1 | ✓ | ✓ | ✓ | ✓ | Tâche en cours |
| new-domain.net | - | - | CNAME ✗ | - | - | - | Validation |

## 11. ACTION MENU
| Option | Couleur | Action |
|--------|---------|--------|
| Configuration | Normal | Ouvre page configuration |
| Supprimer ce domaine | Rouge (#DC2626) | Supprime le domaine |

## 12. PAGINATION
"Affichage 1-4 sur 4 domaines"

## 13. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/domain : Lister domaines
- POST /email/exchange/{org}/service/{service}/domain : Ajouter domaine
- DELETE /email/exchange/{org}/service/{service}/domain/{domain} : Supprimer domaine
- GET /email/exchange/{org}/service/{service}/domain/{domain}/dnsDiagnostic : Diagnostic DNS

