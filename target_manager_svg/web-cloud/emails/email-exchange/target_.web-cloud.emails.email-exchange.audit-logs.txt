# Cahier des Charges : web-cloud/email-exchange - Journal d'audit

## 1. VUE D'ENSEMBLE
- **Écran** : Journal d'audit Exchange
- **Type** : Page liste avec filtres
- **Objectif** : Consulter l'historique des actions

## 2. LAYOUT
- Header OVHcloud
- Sidebar Exchange (Journal d'audit actif)
- Titre
- Filtres (recherche, action, période)
- Bouton export CSV
- Tableau des événements
- Pagination

## 3. COMPOSANTS UI
- **OdsInput** : Recherche
- **OdsSelect** : Filtres (action, période)
- **OdsButton** : Exporter CSV
- **OdsTable** : Tableau des événements
- **OdsBadge** : Types d'action (couleurs variées)
- **OdsPagination** : Navigation pages

## 4. TITRE
"Journal d'audit"

## 5. FILTRES
| Filtre | Type | Valeur par défaut |
|--------|------|-------------------|
| Recherche | Input | Rechercher... |
| Action | Select | Toutes les actions |
| Période | Select | 7 derniers jours |

## 6. BOUTON EXPORT
| Élément | Valeur |
|---------|--------|
| Label | "Exporter CSV" |
| Type | Secondaire |

## 7. TABLEAU
| Colonne | Description |
|---------|-------------|
| Date | Date et heure (format FR) |
| Utilisateur | Email de l'utilisateur |
| Action | Badge coloré selon le type |
| Cible | Compte ou objet concerné |
| IP | Adresse IP source |

## 8. BADGES ACTION
| Action | Couleur fond | Couleur texte |
|--------|--------------|---------------|
| Compte créé | Vert (#DCFCE7) | Vert (#166534) |
| Mot de passe modifié | Bleu (#EFF6FF) | Bleu (#1E40AF) |
| Compte supprimé | Rouge (#FEE2E2) | Rouge (#DC2626) |
| Connexion | Jaune (#FEF3C7) | Orange (#D97706) |
| Règle transport créée | Bleu (#EFF6FF) | Bleu (#1E40AF) |

## 9. EXEMPLES DE DONNÉES
| Date | Utilisateur | Action | Cible | IP |
|------|-------------|--------|-------|-----|
| 29/12 09:15:32 | admin@domain.com | Compte créé | user@domain.com | 192.168.1.1 |
| 29/12 08:45:12 | admin@domain.com | Mot de passe modifié | contact@domain.com | 192.168.1.1 |
| 28/12 16:22:45 | admin@domain.com | Compte supprimé | old@domain.com | 192.168.1.1 |
| 28/12 14:10:08 | user@domain.com | Connexion | - | 82.64.12.34 |

## 10. PAGINATION
- Compteur : "127 événements"
- Pages : 1, 2, 3...

## 11. APIS & ENDPOINTS
- GET /email/exchange/{org}/service/{service}/auditLog : Lister les logs d'audit

