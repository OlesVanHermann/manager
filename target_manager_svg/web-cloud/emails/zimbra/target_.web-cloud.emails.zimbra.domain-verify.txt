# Cahier des Charges : web-cloud/zimbra - Verification domaine

## 1. RESUME EXECUTIF

### Perimetre
Page de verification de propriete d'un domaine externe.

### Objectif fonctionnel
- Afficher l'enregistrement CNAME a creer
- Permettre de copier les valeurs
- Expliquer la procedure de validation

---

## 2. LAYOUT

### Structure page avec breadcrumb + instructions + warning

---

## 3. COMPOSANTS UI

### Navigation
| Element | Description |
|---------|-------------|
| Breadcrumb | Zimbra > Domaines > Verification |
| Lien retour | Retour vers les noms de domaine |
| Titre | Verification de votre domaine |

### Description
| Element | Description |
|---------|-------------|
| Texte | Pour valider que vous etes titulaire du domaine {domain}, veuillez ajouter cet enregistrement DNS |

### Enregistrement DNS
| Champ | Type | Description |
|-------|------|-------------|
| Type d'enregistrement | Texte | CNAME |
| Sous domaine | Clipboard | ovh-verification-xxx.domaine.fr |
| Cible | Clipboard | ovh.com |

### Instructions
| Element | Description |
|---------|-------------|
| Delai | Attendez quelques minutes pour propagation |
| Validite | 48 heures pour effectuer la validation |

### Message warning
| Element | Description |
|---------|-------------|
| Type | Warning (jaune) |
| Texte | Suite a la validation, vous devrez modifier manuellement MX, SRV, SPF et DKIM |
| Lien | Veuillez vous referer a notre guide |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /zimbra/platform/{platformId}/domain/{domainId}/verification
POST /zimbra/platform/{platformId}/domain/{domainId}/verify
```

### Modele
```typescript
interface DomainVerification {
  domain: string;
  record: {
    type: 'CNAME';
    subdomain: string;
    target: string;
  };
  expiresAt: string; // 48h
  status: 'pending' | 'verified' | 'expired';
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "zimbra_verify_title": "Verification de votre domaine",
  "zimbra_verify_description": "Pour valider que vous etes titulaire du domaine {domain}, veuillez ajouter cet enregistrement DNS",
  "zimbra_verify_record_type": "Type d'enregistrement",
  "zimbra_verify_subdomain": "Sous domaine",
  "zimbra_verify_target": "Cible",
  "zimbra_verify_wait": "Suite a l'ajout, attendez quelques minutes que votre enregistrement se propage",
  "zimbra_verify_deadline": "Vous avez 48 heures pour effectuer cette validation",
  "zimbra_verify_warning": "Suite a la validation de votre domaine, vous devrez modifier manuellement les enregistrements MX, SRV, SPF et DKIM dans votre zone DNS",
  "zimbra_verify_guide": "Veuillez vous referer a notre guide"
}
```

---

## 6. REGLES METIER

- Verification par CNAME uniquement
- Token unique genere par OVH
- 48h pour valider
- Domaine externe = configuration DNS manuelle apres
- Guide disponible pour configuration post-validation
