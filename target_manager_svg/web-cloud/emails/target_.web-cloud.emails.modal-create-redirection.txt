# Cahier des Charges : web-cloud/emails - Modal Create Redirection

## 1. VUE D'ENSEMBLE

**Type:** Modal formulaire
**Fonction:** Cr√©er une redirection email
**Contexte:** Action depuis l'onglet Redirections

## 2. DIMENSIONS

- Modal: 500x480px
- Position: centr√©e avec overlay

## 3. STRUCTURE MODAL

### Header
- Background: #F9FAFB
- Titre: "Cr√©er une redirection"
- Bouton fermer: √ó (coin droit)

### Content
- Padding: 24px

### Footer
- Boutons align√©s gauche/droite

## 4. CONTENU

### Adresse source
- Label: "Adresse source *"
- Layout: Input + suffixe domaine
- Input: 280x40px
- Placeholder: "info"
- Suffixe: "@example.com" (background #F3F4F6, 162x40px)
- Aide: "Cette adresse recevra les emails et les transf√©rera"

### Fl√®che de direction
- Ic√¥ne: ‚Üì (bleu #0050D7, taille 24px)
- Position: centr√© entre source et destination

### Adresse destination
- Label: "Destination *"
- Input: 452x40px
- Placeholder: "destinataire@externe.com"
- Aide: "Peut √™tre une adresse interne ou externe au domaine"

### Section Options
- Label: "Options"
- Checkbox avec description:
  - ‚úì "Conserver une copie locale" (coch√© par d√©faut)
  - Aide: "Les emails seront aussi stock√©s dans la bo√Æte source"

### Info banni√®re
- Background: #DBEAFE
- Dimensions: 452x60px
- Ic√¥ne: üí°
- Texte ligne 1: "Astuce : vous pouvez ajouter plusieurs destinations en les"
- Texte ligne 2: "s√©parant par des virgules (max 100 destinations)."

## 5. FOOTER MODAL

| Bouton | Style | Dimensions |
|--------|-------|------------|
| Annuler | btn-outline | 130x40px |
| Cr√©er | btn-primary | 130x40px |

## 6. VALIDATION

- Adresse source valide (partie locale)
- Destination email valide
- Source ne doit pas √™tre d√©j√† redirig√©e

## 7. APIS & ENDPOINTS

```
# Exchange - Cr√©er redirection
POST /email/exchange/{organization}/service/{serviceName}/account/{email}/forward
Body: {
  forwardTo: "destinataire@externe.com",
  keepCopy: true
}
‚Üí Configure la redirection Exchange

# Email Pro
POST /email/pro/{service}/account/{email}/forward
Body: {
  forwardTo: "destinataire@externe.com",
  keepCopy: true
}

# MX Plan - Cr√©er redirection
POST /email/domain/{domain}/redirection
Body: {
  from: "info@example.com",
  to: "destinataire@externe.com",
  localCopy: true
}

# Lister redirections existantes
GET /email/domain/{domain}/redirection
GET /email/exchange/{organization}/service/{serviceName}/account/{email}
‚Üí Champ forwardTo
```

## 8. TRADUCTIONS (i18n)

| Cl√© | FR |
|-----|-----|
| modal_title | Cr√©er une redirection |
| field_source | Adresse source |
| source_help | Cette adresse recevra les emails et les transf√©rera |
| field_destination | Destination |
| destination_help | Peut √™tre une adresse interne ou externe au domaine |
| section_options | Options |
| option_local_copy | Conserver une copie locale |
| local_copy_help | Les emails seront aussi stock√©s dans la bo√Æte source |
| tip_multiple | Astuce : vous pouvez ajouter plusieurs destinations en les s√©parant par des virgules (max 100 destinations). |
| btn_cancel | Annuler |
| btn_create | Cr√©er |
| error_source_exists | Une redirection existe d√©j√† pour cette adresse |
| error_invalid_destination | Adresse de destination invalide |
