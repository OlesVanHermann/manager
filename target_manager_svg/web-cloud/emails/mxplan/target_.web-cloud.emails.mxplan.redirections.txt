# Cahier des Charges : web-cloud/email-mxplan - Redirections

## 1. RESUME EXECUTIF

### Perimetre
Onglet de gestion des redirections email MX Plan.

### Objectif fonctionnel
- Voir les redirections actives
- Creer de nouvelles redirections
- Modifier/supprimer les redirections
- Gerer les copies locales

---

## 2. LAYOUT

### Structure onglet avec bouton action + tableau pagine

---

## 3. COMPOSANTS UI

### Bouton action
| Element | Description |
|---------|-------------|
| Type | Primary |
| Texte | Creer une redirection |

### Tableau redirections
| Colonne | Description |
|---------|-------------|
| Adresse source | Email d'origine |
| Destination | Email(s) cible(s) |
| Type | Badge Locale/Externe |
| Copie locale | Oui/Non |
| Actions | Menu ⋮ |

### Types de redirection
| Type | Badge |
|------|-------|
| Locale | Bleu clair (#DBEAFE) - meme domaine |
| Externe | Violet clair (#E0E7FF) - autre domaine |

### Menu actions (⋮)
| Option | Description |
|--------|-------------|
| Modifier | Edit redirection |
| --- | Separateur |
| Supprimer | Destructif (rouge) |

### Pagination
| Element | Description |
|---------|-------------|
| Texte | Affichage X-Y sur Z redirections |

---

## 4. APIS & DONNEES

### Endpoints
```
GET /email/domain/{domain}/redirection
POST /email/domain/{domain}/redirection
DELETE /email/domain/{domain}/redirection/{id}
PUT /email/domain/{domain}/redirection/{id}
```

### Modele
```typescript
interface EmailRedirection {
  id: string;
  from: string;
  to: string;
  localCopy: boolean;
}

interface CreateRedirection {
  from: string;
  to: string;
  localCopy: boolean;
}
```

---

## 5. TRADUCTIONS (i18n)

```json
{
  "mxplan_redirections_title": "Redirections",
  "mxplan_redirections_create": "Creer une redirection",
  "mxplan_redirections_col_source": "Adresse source",
  "mxplan_redirections_col_dest": "Destination",
  "mxplan_redirections_col_type": "Type",
  "mxplan_redirections_col_copy": "Copie locale",
  "mxplan_redirections_type_local": "Locale",
  "mxplan_redirections_type_external": "Externe",
  "mxplan_redirections_copy_yes": "Oui",
  "mxplan_redirections_copy_no": "Non",
  "mxplan_redirections_action_edit": "Modifier",
  "mxplan_redirections_action_delete": "Supprimer",
  "mxplan_redirections_pagination": "Affichage de {start}-{end} sur {total} redirections"
}
```

---

## 6. REGLES METIER

- Redirection = transfert email vers autre adresse
- Copie locale = conserve une copie dans boite source
- Destinations multiples possibles (separees par virgule)
- Locale = destination sur meme domaine
- Externe = destination sur autre domaine
