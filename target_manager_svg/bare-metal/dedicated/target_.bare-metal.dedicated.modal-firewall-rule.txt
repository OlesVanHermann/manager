# Cahier des Charges : bare-metal/dedicated - Modal Ajouter Règle Firewall

## 1. VUE D'ENSEMBLE
- **Modal** : Ajouter une règle de firewall
- **Type** : Modal formulaire complet
- **Objectif** : Créer une règle firewall sur l'IP du serveur

## 2. STRUCTURE MODAL
- Modal blanche (700x700px)
- Header avec titre + bouton fermer
- Formulaire multi-sections
- Footer avec boutons

## 3. COMPOSANTS UI
- **OdsModal** : Conteneur
- **OdsInput** : Priorité, IP source, ports
- **OdsTile** : Action (Autoriser/Bloquer)
- **OdsSelect** : Protocole, Fragments, Options TCP
- **OdsButton** : Annuler (outline), Ajouter la règle (primary)

## 4. HEADER
- **Titre** : "Ajouter une règle de firewall"
- **Bouton fermer** : ×

## 5. FORMULAIRE

### Priorité
- **Label** : "Priorité *"
- **Description** : "0 = plus haute priorité, 19 = plus basse"
- **Input** : 4
- **Largeur** : 100px

### Action
- **Label** : "Action *"
- **Options** :
  | Action | État |
  |--------|------|
  | Autoriser | ✅ Sélectionné |
  | Bloquer | - |

### Protocole
- **Label** : "Protocole *"
- **Select** : TCP ▼
- **Largeur** : 200px

### IP source
- **Label** : "IP source"
- **Description** : "Laisser vide pour toutes les IPs (0.0.0.0/0)"
- **Placeholder** : "Ex: 192.168.1.0/24"
- **Largeur** : 300px

### Ports (3 colonnes)
| Champ | Valeur | Largeur |
|-------|--------|---------|
| Port source | Tous | 150px |
| Port destination * | 3306 | 150px |
| Fragments | Non ▼ | 150px |

### Options TCP
- **Label** : "Options TCP (si protocole TCP)"
- **Select** : Aucune ▼
- **Largeur** : 200px

## 6. BOUTONS
- **Annuler** : Outline, ferme la modal
- **Ajouter la règle** : Primary, crée la règle

## 7. APIS & ENDPOINTS
- POST /ip/{ip}/firewall/rule
  - Body: { priority, action, protocol, sourceIp, sourcePort, destinationPort, fragments, tcpOptions }
  - Ajoute une règle firewall
