# Cahier des Charges : bare-metal/ip - Modal ajouter règle firewall

## 1. VUE D'ENSEMBLE
- **Type** : Modal formulaire complexe
- **Contexte** : Firewall IP
- **Objectif** : Ajouter une nouvelle règle de filtrage firewall

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Modal largeur | 550px |
| Modal hauteur | 490px |

## 3. COMPOSANTS UI
- **OdsModal** : Container principal
- **OdsText** : Labels
- **OdsInput** : Priorité, IP source, ports
- **OdsSelect** : Action, protocole
- **OdsCheckbox** : Options TCP
- **OdsButton** : Annuler, Ajouter

## 4. HEADER MODAL
| Propriété | Valeur |
|-----------|--------|
| Titre | "Ajouter une règle firewall" |
| Fond | Bleu clair (#EFF6FF) |
| Couleur texte | Bleu (#1E40AF) |
| Bouton fermer | × |

## 5. FORMULAIRE

### Ligne 1 : Priorité + Action

#### Champ Priorité *
| Propriété | Valeur |
|-----------|--------|
| Label | "Priorité *" |
| Type | OdsInput (number) |
| Largeur | 150px |
| Exemple | "1" |

#### Champ Action *
| Propriété | Valeur |
|-----------|--------|
| Label | "Action *" |
| Type | OdsSelect |
| Largeur | 200px |
| Options | Autoriser, Refuser |

### Ligne 2 : Protocole

#### Champ Protocole *
| Propriété | Valeur |
|-----------|--------|
| Label | "Protocole *" |
| Type | OdsSelect |
| Options | TCP, UDP, ICMP, Any |

### Ligne 3 : IP source + Port source

#### Champ IP source
| Propriété | Valeur |
|-----------|--------|
| Label | "IP source" |
| Type | OdsInput |
| Placeholder | "any" |

#### Champ Port source
| Propriété | Valeur |
|-----------|--------|
| Label | "Port source" |
| Type | OdsInput |
| Placeholder | "any" |

### Ligne 4 : Port destination

#### Champ Port destination *
| Propriété | Valeur |
|-----------|--------|
| Label | "Port destination *" |
| Type | OdsInput |
| Exemple | "443" |

### Ligne 5 : Options TCP

#### Options (checkboxes)
| Option | Label | État par défaut |
|--------|-------|-----------------|
| established | "Connexions établies uniquement" | Décoché |
| fragments | "Fragments autorisés" | Coché |

## 6. FOOTER MODAL
| Bouton | Style | Action |
|--------|-------|--------|
| Annuler | Secondary | Ferme modal |
| Ajouter | Primary (bleu #0050D7) | Ajoute la règle |

## 7. APIS & ENDPOINTS
- POST /ip/{ip}/firewall/rule - Ajouter une règle

