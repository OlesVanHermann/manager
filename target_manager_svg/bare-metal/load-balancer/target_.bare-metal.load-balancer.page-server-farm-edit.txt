# Cahier des Charges : bare-metal/load-balancer - Page Modifier Ferme

## 1. VUE D'ENSEMBLE
- **Type** : Page de formulaire complet
- **Contexte** : Gestion Load Balancer
- **Objectif** : Modifier la configuration d'une ferme de serveurs

## 2. DIMENSIONS
| Propriété | Valeur |
|-----------|--------|
| Page largeur | 1000px |
| Page hauteur | 850px |

## 3. COMPOSANTS UI
- **OdsInput** : Nom d'affichage
- **OdsButtonGroup** : Protocole, Répartition, Persistance
- **OdsQuantity** : Port
- **OdsSelect** : Datacenter, Réseau privé, Health check
- **OdsAccordion** : Options avancées
- **OdsButton** : Modifier, Annuler, Configurer le probe

## 4. HEADER PAGE
| Propriété | Valeur |
|-----------|--------|
| Header standard | OVHcloud (bleu #000E9C) |
| Lien retour | "← Modifier la ferme {farmId}" |

## 5. CONTENU

### Champs principaux

#### Nom d'affichage
| Propriété | Valeur |
|-----------|--------|
| Label | "Nom d'affichage" |
| Type | OdsInput |
| Largeur | 400px |
| Exemple | farm-web-production |

#### Protocole
| Propriété | Valeur |
|-----------|--------|
| Label | "Protocole" |
| Type | ButtonGroup |
| Options | HTTP (sélectionné), HTTPS, TCP, UDP |
| Style sélectionné | Fond #0050D7, texte blanc |

#### Port
| Propriété | Valeur |
|-----------|--------|
| Label | "Port" |
| Type | OdsInput |
| Largeur | 150px |
| Exemple | 8080 |
| Note | "Port max: 65535" |

#### Datacenter
| Propriété | Valeur |
|-----------|--------|
| Label | "Datacenter" |
| Type | OdsSelect |
| Largeur | 400px |
| Options | gra, rbx, sbg, waw, bhs... |

#### Réseau privé
| Propriété | Valeur |
|-----------|--------|
| Label | "Réseau privé" |
| Type | OdsSelect |
| Largeur | 400px |
| Options | Liste des réseaux vRack disponibles |
| Exemple | network-backend |

### Section Options avancées (accordion)
| Propriété | Valeur |
|-----------|--------|
| Titre | "▼ Options avancées" |
| Sous-titre | "Configurez la répartition de charge et les health checks" |
| Fond | #F9FAFB |

### Répartition (balance)
| Propriété | Valeur |
|-----------|--------|
| Label | "Répartition" |
| Type | ButtonGroup |
| Options | roundrobin (sélectionné), first, leastconn, source |
| Style sélectionné | Fond #0050D7, texte blanc |

### Persistance (stickiness)
| Propriété | Valeur |
|-----------|--------|
| Label | "Persistance" |
| Type | ButtonGroup |
| Options | none (sélectionné), cookie, sourceIp |
| Style sélectionné | Fond #0050D7, texte blanc |

### Health check (probe)
| Propriété | Valeur |
|-----------|--------|
| Label | "Health check" |
| Type | OdsSelect + OdsButton |
| Largeur select | 200px |
| Options | http, tcp, smtp, none... |
| Bouton | "Configurer le probe" |

## 6. FOOTER PAGE
| Bouton | Style | Action |
|--------|-------|--------|
| Modifier | Primary (#0050D7) | Enregistre les modifications |
| Annuler | Secondary (bordure grise) | Retour à la liste |

## 7. APIS & ENDPOINTS
- GET /ipLoadbalancing/{serviceName}/farm/{farmId} - Détails ferme
- PUT /ipLoadbalancing/{serviceName}/farm/{farmId} - Modifier ferme
- GET /ipLoadbalancing/{serviceName}/availableZones - Zones disponibles
- GET /ipLoadbalancing/{serviceName}/vrack/network - Réseaux vRack

