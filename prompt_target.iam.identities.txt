# ============================================================================
# PROMPT TARGET - IAM / Identities
# Version: 3.0 (2026-01-03)
# NAV1: iam | NAV2: identities
# ============================================================================

## 1. VUE D'ENSEMBLE

| Propriete    | Valeur                                    |
|--------------|-------------------------------------------|
| NAV1         | IAM / Securite                            |
| NAV2         | Identities                                |
| NAV3         | General, Users, Groups                    |
| NAV4         | Varie selon NAV3 et vue selectionnee      |
| Description  | Gestion des utilisateurs et groupes       |
| URL          | /iam/identities                           |

---

## 2. REGLE STRICTE: SIDECAR TYPE A AVEC NAV3 MULTIPLES

**NAV2=Identities a un sidecar (Type A) avec plusieurs options NAV3.**

Structure du sidecar (de haut en bas):
1. **NAV3 dropdown** : [General] / [Users] / [Groups]
2. **Recherche** : [Rechercher...]
3. **Tous (All)** : Premier element, selectionne par defaut = vue agregee
4. **Liste des items** : Liste des elements du type selectionne

---

## 3. LAYOUT AVEC SIDECAR

```
+--------------------------------------------------------------------------------+
|                              NAV1: IAM / Securite (50px)                       |
+--------------------------------------------------------------------------------+
| [General][Identities *][Policies][Secrets][Keys][Logs][Settings]      (40px)   |
+---------------------------+----------------------------------------------------+
| LEFT PANEL (280px)        | RIGHT PANEL (1096px)                   (15px gap)  |
|                           |                                                    |
| +---------------------+   | +------------------------------------------------+ |
| | NAV3: [General  v]  |   | | Titre + Description            [+ Action]      | |
| +---------------------+   | +------------------------------------------------+ |
|                           | | [Tab1 *][Tab2][Tab3]                           | |
| +---------------------+   | +------------------------------------------------+ |
| | Rechercher...       |   | |                                                | |
| +---------------------+   | |                                                | |
|                           | |              CONTENU PAGE                      | |
| * General (All)       v   | |                                                | |
| -----------------------   | |                                                | |
| USERS                     | |                                                | |
|   admin@company.com  U    | |                                                | |
|   dev@company.com    U    | +------------------------------------------------+ |
| -----------------------   |                                                    |
| GROUPS                    |                                                    |
|   Administrators     G    |                                                    |
|   Developers         G    |                                                    |
+---------------------------+----------------------------------------------------+
```

---

## 4. NAV3: OPTIONS DISPONIBLES

| NAV3 | Label FR | Description | Icone |
|------|----------|-------------|-------|
| general | General | Vue agregee de toutes les identites | dashboard |
| users | Users | Gestion des utilisateurs | user |
| groups | Groups | Gestion des groupes | users |

---

## 5. NAV3: GENERAL (Vue agregee)

### 5.1 URL
`/iam/identities` ou `/iam/identities/general`

### 5.2 Sidecar General

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [General       v]   |
+---------------------------+
| Search identity...        |
+---------------------------+
| > General (All)        v  |  <-- Premier = vue agregee
| -----------------------   |
| USERS                     |
|   admin@company.com   U   |  <-- U = user icon
|   dev@company.com     U   |
|   readonly@company    U   |
|   api@company.com     U   |
| -----------------------   |
| GROUPS                    |
|   Administrators      G   |  <-- G = group icon
|   Developers          G   |
|   Finance             G   |
| -----------------------   |
| SERVICE ACCOUNTS          |
|   api-backend         R   |  <-- R = robot icon
|   ci-cd-pipeline      R   |
| -----------------------   |
| FEDERATION                |
|   Azure AD            L   |  <-- L = link icon
|   Okta                L   |
| -----------------------   |
| 12 users, 4 groups        |
| 2 svc acc, 2 federation   |
+---------------------------+
```

### 5.3 NAV4: General

Pas d'onglets NAV4 pour la vue General - affichage direct du dashboard.

### 5.4 Page General - Dashboard (Defaut)

```
+----------------------------------------------------+
| Identities                           [+ Add v]     |
| Manage users, groups and access                    |
+----------------------------------------------------+
|                                                    |
| +----------+ +----------+ +----------+ +--------+  |
| | Users    | | Groups   | | Svc Acc  | | SSO    |  |
| |    12    | |     4    | |     2    | |   2    |  |
| | +2 /30d  | |    -     | | +1 /30d  | |   -    |  |
| +----------+ +----------+ +----------+ +--------+  |
|                                                    |
| RECENT ACTIVITY                                    |
| +------------------------------------------------+ |
| | 14:32 CREATE  user/dev@company.com             | |
| | 14:20 UPDATE  group/Developers                 | |
| | 13:45 DELETE  user/old@company.com             | |
| | 12:30 CREATE  svc-acc/ci-cd-pipeline           | |
| +------------------------------------------------+ |
|                                                    |
| ALERTS                      QUICK ACTIONS          |
| +---------------------+    +--------------------+  |
| | R 2 users inactive  |    | [+ Add User]       |  |
| | Y 1 user no MFA     |    | [+ Create Group]   |  |
| +---------------------+    | [+ Add Svc Acc]    |  |
|                            | [+ Setup SSO]      |  |
|                            +--------------------+  |
|                                                    |
| BY STATUS                   BY GROUP               |
| +---------------------+    +--------------------+  |
| | G Active: 10 W Dis:2|    | Admins: 3          |  |
| +---------------------+    | Developers: 8      |  |
|                            +--------------------+  |
+----------------------------------------------------+
```

---

## 6. NAV3: USERS

### 6.1 URL
`/iam/identities/users`

### 6.2 Sidecar Users

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [Users         v]   |
+---------------------------+
| Search users...           |
+---------------------------+
| > Tous les users       v  |  <-- Premier = vue agregee
| -----------------------   |
|   admin@company.com  G U  |  <-- G = vert (actif)
|   dev@company.com    G U  |
|   readonly@company   G U  |
|   api@company.com    Y U  |  <-- Y = jaune (pending)
|   old@company.com    W U  |  <-- W = gris (inactif)
| -----------------------   |
|                           |
| 12 users total            |
+---------------------------+
```

### 6.3 NAV4: Users (Onglets vue All)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| all | All | Tous les utilisateurs | * OUI |
| active | Active | Utilisateurs actifs | |
| inactive | Inactive | Utilisateurs inactifs | |
| pending | Pending | Invitations en attente | |

### 6.4 NAV4: Users (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Informations utilisateur | * OUI |
| groups | Groups | Groupes de l'utilisateur | |
| policies | Policies | Policies attachees | |
| activity | Activity | Historique d'activite | |

### 6.5 Page Users - All (Defaut)

```
+----------------------------------------------------+
| Users                                [+ Add User]  |
| Manage user access to your account                 |
+----------------------------------------------------+
| [All *][Active][Inactive][Pending]                 |
+----------------------------------------------------+
|                                                    |
| +------------------------------------------------+ |
| | C | Email         | Name    | Status | MFA    | |
| +---+---------------+---------+--------+--------+ |
| | C | admin@co...   | Admin   | G      | v      | |
| | C | dev@compan... | Dev     | G      | v      | |
| | C | readonly@...  | Reader  | G      | x      | |
| | C | api@compan... | API     | Y      | x      | |
| | C | old@compan... | Old     | W      | -      | |
| +------------------------------------------------+ |
|                                                    |
| Showing 1-5 of 12 users           < [1] 2 3 >      |
|                                                    |
| G 10 Active  Y 1 Pending  W 1 Inactive             |
+----------------------------------------------------+
```

### 6.6 Page Users - Detail

```
+----------------------------------------------------+
| admin@company.com                          [menu]  |
| G Active | Admin User | MFA v                      |
+----------------------------------------------------+
| [General *][Groups][Policies][Activity]            |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Email          admin@company.com               | |
| | Name           Admin User                      | |
| | Status         G Active                        | |
| | MFA            v Enabled                       | |
| | Last login     02 jan 2026 14:30               | |
| | Created        15 dec 2024                     | |
| +------------------------------------------------+ |
|                                                    |
| GROUPS (2)                       [+ Add to Group]  |
| +------------------------------------------------+ |
| | [Administrators x] [Developers x]              | |
| +------------------------------------------------+ |
|                                                    |
| POLICIES (3)                    [+ Attach Policy]  |
| +------------------------------------------------+ |
| | [admin-full-access] [compute-admin]            | |
| | [storage-readonly]                             | |
| +------------------------------------------------+ |
|                                                    |
|        [Edit User]  [Disable]  [Delete]            |
+----------------------------------------------------+
```

---

## 7. NAV3: GROUPS

### 7.1 URL
`/iam/identities/groups`

### 7.2 Sidecar Groups

```
+---------------------------+
| LEFT PANEL (280px)        |
+---------------------------+
| NAV3: [Groups        v]   |
+---------------------------+
| Search groups...          |
+---------------------------+
| > Tous les groupes     v  |  <-- Premier = vue agregee
| -----------------------   |
|   Administrators      G   |  <-- G = group icon
|   Developers          G   |
|   Finance             G   |
|   Operations          G   |
| -----------------------   |
|                           |
| 4 groups                  |
+---------------------------+
```

### 7.3 NAV4: Groups (Onglets vue All)

Pas d'onglets NAV4 pour la vue All des groupes - affichage direct de la liste.

### 7.4 NAV4: Groups (Onglets vue Detail)

| NAV4 | Label FR | Description | Defaut |
|------|----------|-------------|--------|
| general | General | Informations groupe | * OUI |
| members | Members | Membres du groupe | |
| policies | Policies | Policies attachees | |
| activity | Activity | Historique d'activite | |

### 7.5 Page Groups - All (Defaut)

```
+----------------------------------------------------+
| Groups                          [+ Create Group]   |
| Organize users into groups for access control      |
+----------------------------------------------------+
|                                                    |
| +------------------------------------------------+ |
| | Group         | Members | Policies | [menu]    | |
| +---------------+---------+----------+-----------+ |
| | Administrators|    3    |     2    |   [menu]  | |
| | Full access   |         |          |           | |
| +---------------+---------+----------+-----------+ |
| | Developers    |    8    |     3    |   [menu]  | |
| | Dev team      |         |          |           | |
| +---------------+---------+----------+-----------+ |
| | Finance       |    4    |     1    |   [menu]  | |
| | Billing team  |         |          |           | |
| +---------------+---------+----------+-----------+ |
| | Operations    |    5    |     2    |   [menu]  | |
| | Ops team      |         |          |           | |
| +------------------------------------------------+ |
|                                                    |
| 4 groups | 20 users total                          |
+----------------------------------------------------+
```

### 7.6 Page Groups - Detail

```
+----------------------------------------------------+
| Administrators                             [menu]  |
| G 3 members | 2 policies                           |
+----------------------------------------------------+
| [General *][Members][Policies][Activity]           |
+----------------------------------------------------+
|                                                    |
| INFORMATIONS                                       |
| +------------------------------------------------+ |
| | Name           Administrators                  | |
| | Description    Full access admin group         | |
| | Members        3                               | |
| | Policies       2                               | |
| | Created        15 dec 2024                     | |
| +------------------------------------------------+ |
|                                                    |
| MEMBERS (3)                        [+ Add Member]  |
| +------------------------------------------------+ |
| | admin@company.com    Admin    G Active [x]     | |
| | cto@company.com      CTO      G Active [x]     | |
| | lead@company.com     Lead     G Active [x]     | |
| +------------------------------------------------+ |
|                                                    |
| POLICIES (2)                   [+ Attach Policy]   |
| +------------------------------------------------+ |
| | [admin-full-access] [billing-admin]            | |
| +------------------------------------------------+ |
|                                                    |
|             [Edit Group]  [Delete]                 |
+----------------------------------------------------+
```

---

## 8. MODALES

### 8.1 Modal: Add User

```
+----------------------------------------------+
| Add User                                [x]  |
+----------------------------------------------+
|                                              |
| Email *                                      |
| +------------------------------------------+ |
| | newuser@company.com                      | |
| +------------------------------------------+ |
|                                              |
| First Name                                   |
| +------------------------------------------+ |
| | John                                     | |
| +------------------------------------------+ |
|                                              |
| Last Name                                    |
| +------------------------------------------+ |
| | Doe                                      | |
| +------------------------------------------+ |
|                                              |
| Groups                                       |
| +------------------------------------------+ |
| | Developers                             v | |
| +------------------------------------------+ |
|                                              |
| [v] Send welcome email                       |
| [ ] Require MFA on first login               |
|                                              |
+----------------------------------------------+
|                       [Cancel]  [Add User]   |
+----------------------------------------------+
```

### 8.2 Modal: Create Group

```
+----------------------------------------------+
| Create Group                            [x]  |
+----------------------------------------------+
|                                              |
| Group Name *                                 |
| +------------------------------------------+ |
| | DevOps                                   | |
| +------------------------------------------+ |
|                                              |
| Description                                  |
| +------------------------------------------+ |
| | DevOps team with deployment access       | |
| +------------------------------------------+ |
|                                              |
| Initial Members                              |
| +------------------------------------------+ |
| | [v] dev@company.com                      | |
| | [v] ops@company.com                      | |
| | [ ] admin@company.com                    | |
| +------------------------------------------+ |
|                                              |
+----------------------------------------------+
|                    [Cancel]  [Create Group]  |
+----------------------------------------------+
```

### 8.3 Modal: Delete User

```
+----------------------------------------------+
| Delete User                             [x]  |
+----------------------------------------------+
|                                              |
| Delete this user?                            |
|                                              |
| +------------------------------------------+ |
| | User: dev@company.com                    | |
| |                                          | |
| | Name: Dev User                           | |
| | Groups: Developers                       | |
| | Created: 15 dec 2024                     | |
| +------------------------------------------+ |
|                                              |
| ! This action is irreversible.               |
|   The user will lose all access immediately. |
|                                              |
+----------------------------------------------+
|                        [Cancel]  [Delete]    |
+----------------------------------------------+
```

### 8.4 Modal: Add to Group

```
+----------------------------------------------+
| Add to Group                            [x]  |
+----------------------------------------------+
|                                              |
| User                                         |
| +------------------------------------------+ |
| | dev@company.com                          | |
| +------------------------------------------+ |
|                                              |
| Select groups to add                         |
| +------------------------------------------+ |
| | [ ] Administrators                       | |
| | [v] Developers                           | |
| | [ ] Finance                              | |
| | [ ] Operations                           | |
| +------------------------------------------+ |
|                                              |
| 1 group selected                             |
|                                              |
+----------------------------------------------+
|                           [Cancel]  [Add]    |
+----------------------------------------------+
```

### 8.5 Modal: Add Member to Group

```
+----------------------------------------------+
| Add Member                              [x]  |
+----------------------------------------------+
|                                              |
| Group                                        |
| +------------------------------------------+ |
| | Administrators                           | |
| +------------------------------------------+ |
|                                              |
| Select users to add                          |
| +------------------------------------------+ |
| | Search users...                          | |
| +------------------------------------------+ |
|                                              |
| Available users                              |
| +------------------------------------------+ |
| | [ ] dev@company.com                      | |
| | [v] ops@company.com                      | |
| | [ ] finance@company.com                  | |
| +------------------------------------------+ |
|                                              |
| 1 user selected                              |
|                                              |
+----------------------------------------------+
|                      [Cancel]  [Add Member]  |
+----------------------------------------------+
```

### 8.6 Modal: Attach Policy

```
+----------------------------------------------+
| Attach Policy                           [x]  |
+----------------------------------------------+
|                                              |
| Attach to                                    |
| +------------------------------------------+ |
| | User: admin@company.com                  | |
| +------------------------------------------+ |
|                                              |
| Select policies                              |
| +------------------------------------------+ |
| | Search policies...                       | |
| +------------------------------------------+ |
|                                              |
| Available policies                           |
| +------------------------------------------+ |
| | [v] admin-full-access                    | |
| | [ ] compute-admin                        | |
| | [v] storage-readonly                     | |
| | [ ] network-viewer                       | |
| +------------------------------------------+ |
|                                              |
| 2 policies selected                          |
|                                              |
+----------------------------------------------+
|                      [Cancel]  [Attach]      |
+----------------------------------------------+
```

---

## 9. EMPTY STATES

### 9.1 No Users

```
+----------------------------------------------------+
| Users                                [+ Add User]  |
+----------------------------------------------------+
|                                                    |
|                      [user icon]                   |
|                                                    |
|              Aucun utilisateur                     |
|                                                    |
|      Ajoutez des utilisateurs pour gerer          |
|      l'acces a votre compte OVHcloud.             |
|                                                    |
|              [+ Ajouter un utilisateur]            |
|                                                    |
|                  Doc gestion utilisateurs          |
|                                                    |
+----------------------------------------------------+
```

### 9.2 No Groups

```
+----------------------------------------------------+
| Groups                          [+ Create Group]   |
+----------------------------------------------------+
|                                                    |
|                     [group icon]                   |
|                                                    |
|              Aucun groupe                          |
|                                                    |
|      Creez des groupes pour organiser vos         |
|      utilisateurs et simplifier la gestion        |
|      des permissions.                             |
|                                                    |
|              [+ Creer un groupe]                   |
|                                                    |
|                  Doc gestion groupes               |
|                                                    |
+----------------------------------------------------+
```

---

## 10. DIMENSIONS (TOLERANCE: 0px)

| Element | Valeur |
|---------|--------|
| NAV1 height | 50px |
| NAV2 height | 40px |
| Gap NAV2->Content | 15px |
| Sidebar width | 280px |
| Gap panels | 16px |
| Content width | 1096px (avec margins) |
| Margins | 24px |
| Border radius cards | 8px |
| Table row height | 48px |
| KPI card width | ~150px |
| KPI card height | 80px |

---

## 11. ETATS

### Badge Status
| Status   | Icon | Background | Text      |
|----------|------|------------|-----------|
| Active   | G    | #DEF7EC    | #03543F   |
| Inactive | W    | #F3F4F6    | #6B7280   |
| Pending  | Y    | #FEF3C7    | #92400E   |
| Disabled | R    | #FEE2E2    | #991B1B   |

### Identity Type Icons
| Type            | Icon | Color   |
|-----------------|------|---------|
| User            | U    | #6B7280 |
| Group           | G    | #6B7280 |
| Service Account | R    | #6B7280 |
| SSO/Federation  | L    | #6B7280 |

---

## 12. APIs PRINCIPALES

| Endpoint | Methode | Description |
|----------|---------|-------------|
| GET /iam/identities | GET | Dashboard identites |
| GET /iam/identities/users | GET | Liste des users |
| POST /iam/identities/users | POST | Creer user |
| GET /iam/identities/users/{id} | GET | Detail user |
| PUT /iam/identities/users/{id} | PUT | Modifier user |
| DELETE /iam/identities/users/{id} | DELETE | Supprimer user |
| PUT /iam/identities/users/{id}/disable | PUT | Desactiver user |
| PUT /iam/identities/users/{id}/enable | PUT | Activer user |
| POST /iam/identities/users/{id}/groups | POST | Ajouter a un groupe |
| DELETE /iam/identities/users/{id}/groups/{gid} | DELETE | Retirer d'un groupe |
| POST /iam/identities/users/{id}/policies | POST | Attacher policy |
| DELETE /iam/identities/users/{id}/policies/{pid} | DELETE | Detacher policy |
| GET /iam/identities/groups | GET | Liste des groupes |
| POST /iam/identities/groups | POST | Creer groupe |
| GET /iam/identities/groups/{id} | GET | Detail groupe |
| PUT /iam/identities/groups/{id} | PUT | Modifier groupe |
| DELETE /iam/identities/groups/{id} | DELETE | Supprimer groupe |
| POST /iam/identities/groups/{id}/members | POST | Ajouter membre |
| DELETE /iam/identities/groups/{id}/members/{uid} | DELETE | Retirer membre |
| POST /iam/identities/groups/{id}/policies | POST | Attacher policy |

---

## 13. LIENS ENTRE PAGES

| Depuis | Action | Vers |
|--------|--------|------|
| General KPI Users | Click | /iam/identities/users |
| General KPI Groups | Click | /iam/identities/groups |
| General KPI Svc Acc | Click | /iam/settings/service-accounts |
| General KPI SSO | Click | /iam/settings/sso |
| General Quick Action Add User | Click | Modal Add User |
| General Quick Action Create Group | Click | Modal Create Group |
| Sidecar User | Click | User detail |
| Sidecar Group | Click | Group detail |
| Users All | Click row | User detail |
| Users Detail Groups tag | Click | Group detail |
| Users Detail Policies tag | Click | /iam/policies/{policy} |
| Groups All | Click row | Group detail |
| Groups Detail Members row | Click | User detail |
| Groups Detail Policies tag | Click | /iam/policies/{policy} |

---

## 14. FICHIERS .ss ASSOCIES

| Fichier | Description |
|---------|-------------|
| target_.iam.identities.ss | Vue agregee (General) |
| target_.iam.identities.tab-users.ss | Tab users dans General |
| target_.iam.identities.tab-user-groups.ss | Tab groups dans General |
| target_.iam.identities.tab-sso.ss | Tab SSO dans General |
| target_.iam.identities.sso-detail.ss | Detail SSO provider |
| target_.iam.identities.modal-add-user.ss | Modal add user |
| target_.iam.identities.modal-delete-user.ss | Modal delete user |
| target_.iam.users.ss | Liste users |
| target_.iam.users.detail.ss | Detail user |
| target_.iam.users.onboarding.ss | Empty state users |
| target_.iam.users.modal-create.ss | Modal create user |
| target_.iam.groups.ss | Liste groups |
| target_.iam.groups.detail.ss | Detail group |
| target_.iam.groups.onboarding.ss | Empty state groups |
| target_.iam.groups.modal-create.ss | Modal create group |

Localisation: `/home/ubuntu/target_manager_svg/iam/general/`

---

## 15. VOIR AUSSI

- prompt_target.iam.txt (design system parent)
- prompt_target.iam.general.txt
- prompt_target.iam.policies.txt
- prompt_target.iam.secrets.txt
- prompt_target.iam.keys.txt
- prompt_target.iam.logs.txt
- prompt_target.iam.settings.txt (pour Service Accounts et SSO)
