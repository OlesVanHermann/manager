# ============================================================================
# PROMPT TARGET - IAM / General (Dashboard)
# Version: 4.0 (2026-01-04)
# NAV1: iam | NAV2: general
# ============================================================================

## 1. VUE D'ENSEMBLE

| Propriete    | Valeur                                    |
|--------------|-------------------------------------------|
| NAV1         | IAM                                       |
| NAV2         | General (defaut)                          |
| NAV3         | **AUCUN**                                 |
| NAV4         | **AUCUN**                                 |
| Sidecar      | **NON (FULL WIDTH)**                      |
| URL          | /iam ou /iam/general                      |

---

## 2. REGLE STRICTE: NAV2=general = FULL WIDTH

**Pour chaque NAV1, la page NAV2=general:**
- PAS de sidecar (LEFT PANEL)
- PAS de NAV3
- PAS de NAV4 (tabs dans sidecar)
- PAGE PRINCIPALE sur 100% de la largeur (1392px avec margins)
- RECAP de TOUS les services du NAV1

---

## 3. LAYOUT

```
+------------------------------------------------------------------------------+
| NAV1: [General][Bare Metal][Hosted Private][Public Cloud][Web Cloud]         |
|       [Network][IAM*][Licence]                                    [xx-ovh v] |
+------------------------------------------------------------------------------+
| NAV2: [General*][Identities][Policies][Secrets][Keys][Logs][Settings]        |
+------------------------------------------------------------------------------+
|                                                                              |
|  +------------------------------------------------------------------------+  |
|  |                                                                        |  |
|  |                    PAGE PRINCIPALE (100% = 1392px)                     |  |
|  |                                                                        |  |
|  |                    Recap de tous les services IAM                      |  |
|  |                                                                        |  |
|  +------------------------------------------------------------------------+  |
|                                                                              |
+------------------------------------------------------------------------------+
```

### Dimensions

| Element | Valeur |
|---------|--------|
| NAV1 height | 50px |
| NAV2 height | 40px |
| Gap NAV2->Content | 15px |
| Sidebar width | **0px (FULL WIDTH)** |
| Content width | 1392px (avec margins 24px) |
| Margins | 24px |

---

## 4. CONTENU DASHBOARD

### 4.1 Header

```
+------------------------------------------------------------------------+
| IAM - Securite                                          [+ Nouveau v]  |
| Vue d'ensemble de la securite de votre compte                          |
+------------------------------------------------------------------------+
```

### 4.2 KPI Cards (5 cards en ligne)

```
+------------+ +------------+ +------------+ +------------+ +------------+
| Identities | | Policies   | | Secrets    | | Keys       | | Logs       |
|     12     | |      8     | |     24     | |     26     | |   1,247    |
|   users    | |  3 custom  | |  3 regions | |   3 KMS    | |    /24h    |
+------------+ +------------+ +------------+ +------------+ +------------+
```

| Card | Lien vers |
|------|-----------|
| Identities | /iam/identities |
| Policies | /iam/policies |
| Secrets | /iam/secrets |
| Keys | /iam/keys |
| Logs | /iam/logs |

### 4.3 Security Score + Compliance

```
+--------------------------------+  +--------------------------------+
| SECURITY SCORE                 |  | COMPLIANCE                     |
|                                |  |                                |
|      +--------+                |  | [v] ISO 27001   [v] SOC 2     |
|      |  85%   |  Bon           |  | [v] GDPR        [v] HDS       |
|      | ====== |  +5%           |  | [v] SecNumCloud               |
|      +--------+                |  |                                |
+--------------------------------+  +--------------------------------+
```

### 4.4 Alertes + Activite recente

```
+--------------------------------+  +--------------------------------+
| ALERTES                        |  | ACTIVITE RECENTE               |
|                                |  |                                |
| [!] 2 users sans MFA [Corriger]|  | 14:32 admin  CREATE user/dev  |
| [!] 1 cert expire 7j [Voir]    |  | 14:25 admin  UPDATE policy    |
| [!] 3 secrets anciens [Nettoyer]| | 14:20 dev    READ   secret    |
|                                |  | 14:15 api    ENCRYPT key      |
+--------------------------------+  +--------------------------------+
```

---

## 5. ETATS SPECIAUX

### 5.1 Onboarding (nouveau client)

```
+------------------------------------------------------------------------+
|                                                                        |
|                              [Shield Icon]                             |
|                                                                        |
|                    Bienvenue dans IAM / Securite                       |
|                                                                        |
|           Gerez les identites, les acces et la securite                |
|                  de votre infrastructure OVHcloud.                     |
|                                                                        |
|                 [Commencer la configuration]                           |
|                                                                        |
|    +----------------+  +----------------+  +----------------+          |
|    | Identities     |  | Policies       |  | Secrets        |          |
|    | Gerer les      |  | Definir les    |  | Stocker vos    |          |
|    | utilisateurs   |  | permissions    |  | secrets        |          |
|    +----------------+  +----------------+  +----------------+          |
|                                                                        |
+------------------------------------------------------------------------+
```

### 5.2 Loading

- Skeleton cards pour KPIs
- Skeleton pour alertes et activite

### 5.3 Erreur

- Banner rouge en haut
- Message: "Impossible de charger les donnees"
- Bouton [Reessayer]

---

## 6. APIS

| Endpoint | Methode | Description |
|----------|---------|-------------|
| /iam/dashboard | GET | Donnees agregees dashboard |
| /iam/dashboard/score | GET | Security score |
| /iam/dashboard/alerts | GET | Alertes actives |
| /iam/dashboard/activity | GET | Activite recente |
| /iam/dashboard/compliance | GET | Statut certifications |
| /iam/dashboard/kpis | GET | KPIs (counts) |

---

## 7. LIENS ENTRE PAGES

| Depuis | Action | Vers |
|--------|--------|------|
| Dashboard KPI Identities | Click | /iam/identities |
| Dashboard KPI Policies | Click | /iam/policies |
| Dashboard KPI Secrets | Click | /iam/secrets |
| Dashboard KPI Keys | Click | /iam/keys |
| Dashboard KPI Logs | Click | /iam/logs |
| Dashboard Alert | Click [Action] | Page concernee |
| Activity | Click [Voir tous] | /iam/logs |

---

## 8. FICHIERS .ss ASSOCIES

| Fichier | Description |
|---------|-------------|
| target_.iam.general.ss | General principal |
| target_.iam.general.onboarding.ss | Empty state / onboarding |
| target_.iam.general.loading.ss | Etat chargement |
| target_.iam.general.error.ss | Etat erreur |

Localisation: `/home/ubuntu/target_manager_svg/iam/general/`

---

## 9. RAPPEL STRUCTURE SIDECAR (pour autres NAV2)

Pour les autres NAV2 (identities, policies, secrets, keys, logs, settings):

**Type A: Sidecar simple**
```
+-------------------------+
| LEFT PANEL (280px)      |
+-------------------------+
| NAV3: [General]         |
+-------------------------+
| Region: [EU-West (PAR)] |  <- Optionnel
+-------------------------+
| Projet: [my-project]    |  <- Optionnel
+-------------------------+
| [Rechercher...]         |
+-------------------------+
| * Tous les services     |  <- ALL toujours en 1er
| o service-name-1        |
| o service-name-2        |
+-------------------------+
```

**Header .ss Type A:**
```
# NAV1: iam | NAV2: identities | NAV3: General / Liste services (ALL 1er) | NAV4: Users
```

============================================================================
FIN PROMPT TARGET - IAM / General
============================================================================
