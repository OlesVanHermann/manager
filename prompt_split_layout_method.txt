################################################################################
#                    MÃ‰THODE DE DÃ‰FACTORISATION COHÃ‰RENTE
#                         prompt_layout_method.txt
################################################################################

##############################################################################
# 0. TERMINOLOGIE OFFICIELLE
##############################################################################

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Niveau  â”‚ Nom          â”‚ Position     â”‚ Description                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NAV1    â”‚ Univers      â”‚ Header       â”‚ Header OVH (Web Cloud, Public Cloud...) â”‚
â”‚ NAV2    â”‚ Produit      â”‚ Sous-header  â”‚ Section (Domaines, HÃ©bergement...)      â”‚
â”‚ NAV3    â”‚ Groupement   â”‚ LEFT PANEL   â”‚ Toggle TOUJOURS en sidebar,             â”‚
â”‚         â”‚              â”‚ (au-dessus   â”‚ AU-DESSUS de [Rechercher]               â”‚
â”‚         â”‚              â”‚ de search)   â”‚ ([GÃ©nÃ©ral][Sites][Expert]...)           â”‚
â”‚ NAV4    â”‚ Fonction     â”‚ RIGHT PANEL  â”‚ Onglets TOUJOURS dans le panel          â”‚
â”‚         â”‚              â”‚ (tabs)       â”‚ principal (FTP, SSL, BDD...)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RÃˆGLES DE POSITION :

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ NAV1 - Univers (Header bleu OVH)                                            â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ NAV2 - Produit (Sous-header blanc)                                          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ LEFT PANEL (280px)    â”‚ RIGHT PANEL (flex: 1)                               â”‚
  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚ â”‚ NAV3 - Groupement â”‚ â”‚ â”‚ Titre service                                   â”‚ â”‚
  â”‚ â”‚ [GÃ©nÃ©ral][Sites]  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ NAV4 - Fonction                                 â”‚ â”‚
  â”‚ â”‚ ğŸ” Rechercher...  â”‚ â”‚ â”‚ [FTP] [SSL] [BDD] [CDN] [Cron]                  â”‚ â”‚
  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚ â”‚ Liste services    â”‚ â”‚ â”‚ Contenu de l'onglet sÃ©lectionnÃ©                 â”‚ â”‚
  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IMPORTANT :
- NAV3 (Groupement) est TOUJOURS dans le LEFT PANEL, AU-DESSUS de la recherche
- NAV4 (Fonction) est TOUJOURS dans le RIGHT PANEL (tabs principaux)

##############################################################################
# 1. PRINCIPE DE LA DÃ‰FACTORISATION
##############################################################################

La dÃ©factorisation signifie que chaque section (domains, hosting, emails...)
a son propre CSS COMPLET et AUTONOME, sans dÃ©pendance Ã  des styles partagÃ©s.

AVANTAGES:
- Isolation totale (pas de conflits CSS)
- Maintenance simplifiÃ©e par section
- PossibilitÃ© de modifier une section sans impacter les autres

RISQUE:
- IncohÃ©rence visuelle entre sections si les specs ne sont pas respectÃ©es

SOLUTION:
- Template de layout obligatoire pour chaque nouvelle section
- Script de vÃ©rification automatique (prompt_target_check.py)

##############################################################################
# 2. TEMPLATE DE LAYOUT OBLIGATOIRE
##############################################################################

Chaque section DOIT avoir ces 4 Ã©lÃ©ments de layout avec les specs exactes:

### 2.1 CONTAINER (.{prefix}-page ou .{prefix}-layout)

```css
.{prefix}-page {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  overflow: hidden;
  /* PAS DE PADDING ICI - c'est le conteneur racine */
}
```

### 2.2 SPLIT (.{prefix}-split ou .{prefix}-detail-container)

```css
.{prefix}-split {
  display: flex;
  flex-direction: row;
  flex: 1;
  min-height: 0;
  overflow: hidden;
  
  /* === SPECS CRITIQUES === */
  padding: 15px 24px 24px 24px;  /* top=15px (gap NAV2), autres=24px */
  gap: 16px;                     /* entre sidebar et main */
}
```

### 2.3 SIDEBAR (.{prefix}-sidebar ou .{prefix}-left-panel)

```css
.{prefix}-sidebar {
  /* === SPECS CRITIQUES === */
  width: 280px;
  min-width: 280px;
  max-width: 280px;
  flex-shrink: 0;
  
  /* Reste du style */
  height: 100%;
  display: flex;
  flex-direction: column;
  background: #FFFFFF;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  overflow: hidden;
}
```

### 2.4 MAIN (.{prefix}-main ou .{prefix}-right-panel)

```css
.{prefix}-main {
  /* === SPECS CRITIQUES === */
  flex: 1;
  min-width: 0;
  
  /* Reste du style */
  height: 100%;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
```

##############################################################################
# 3. STRUCTURE JSX CORRESPONDANTE
##############################################################################

```tsx
// {Section}Layout.tsx
import './{section}.css';

export function {Section}Layout() {
  return (
    <div className="{prefix}-page">           {/* CONTAINER */}
      <div className="{prefix}-split">        {/* SPLIT avec padding + gap */}
        <{Section}Sidebar />                  {/* SIDEBAR 280px */}
        <div className="{prefix}-main">       {/* MAIN flex:1 */}
          <Outlet />
        </div>
      </div>
    </div>
  );
}
```

##############################################################################
# 4. CHECKLIST DE CRÃ‰ATION D'UNE NOUVELLE SECTION
##############################################################################

Avant de merger une nouvelle section, vÃ©rifier:

â–¡ Container .{prefix}-page existe avec display: flex; flex-direction: column;
â–¡ Split .{prefix}-split existe avec:
    â–¡ display: flex
    â–¡ padding: 15px 24px 24px 24px
    â–¡ gap: 16px
â–¡ Sidebar .{prefix}-sidebar existe avec:
    â–¡ width: 280px
    â–¡ min-width: 280px
    â–¡ max-width: 280px
â–¡ Main .{prefix}-main existe avec:
    â–¡ flex: 1
â–¡ ExÃ©cuter: python3 prompt_target_check.py src/pages/web-cloud
â–¡ ZÃ©ro erreur critique

##############################################################################
# 5. SCRIPT DE VÃ‰RIFICATION
##############################################################################

### Usage

```bash
# VÃ©rifier toutes les sections de web-cloud
python3 prompt_target_check.py /home/ubuntu/aiapp/frontend/src/pages/web-cloud

# IntÃ©grer dans le build
npm run build && python3 prompt_target_check.py src/pages/web-cloud || exit 1
```

### Ce que le script vÃ©rifie

1. COMPLÃ‰TUDE: Chaque section a les 4 Ã©lÃ©ments (container, split, sidebar, main)
2. CONFORMITÃ‰: Chaque propriÃ©tÃ© a la valeur exacte des specs
3. COHÃ‰RENCE: Toutes les sections ont les mÃªmes valeurs

### Output attendu (succÃ¨s)

```
================================================================================
  ğŸ“‹ TABLEAU DE COMPARAISON
================================================================================

  Ã‰lÃ©ment              |   domains    |   hosting    |    emails    |  wordpress  
  ------------------------------------------------------------------------------------
  split.padding-top    |     15px     |     15px     |     15px     |     15px    
  split.gap            |     16px     |     16px     |     16px     |     16px    
  sidebar.width        |    280px     |    280px     |    280px     |    280px    

  âœ… TOUS LES LAYOUTS SONT COHÃ‰RENTS ET CONFORMES!
```

##############################################################################
# 6. ERREURS COURANTES ET SOLUTIONS
##############################################################################

### Erreur 1: padding: 24px au lieu de 15px 24px 24px 24px

```css
/* âŒ INCORRECT */
.dom-detail-container {
  padding: 24px;  /* padding-top est 24px au lieu de 15px */
}

/* âœ… CORRECT */
.dom-detail-container {
  padding: 15px 24px 24px 24px;  /* top right bottom left */
}
```

### Erreur 2: gap manquant sur le split

```css
/* âŒ INCORRECT */
.hosting-split {
  display: flex;
  /* gap manquant! */
}

/* âœ… CORRECT */
.hosting-split {
  display: flex;
  gap: 16px;
}
```

### Erreur 3: padding sur le mauvais conteneur

```css
/* âŒ INCORRECT - padding sur le container au lieu du split */
.hosting-page {
  padding: 15px 24px 24px 24px;
}
.hosting-split {
  /* pas de padding */
}

/* âœ… CORRECT - padding sur le split */
.hosting-page {
  /* pas de padding */
}
.hosting-split {
  padding: 15px 24px 24px 24px;
}
```

### Erreur 4: Sidebar avec mauvaise largeur

```css
/* âŒ INCORRECT */
.access-left-panel {
  width: 320px;  /* trop large! */
}

/* âœ… CORRECT */
.access-left-panel {
  width: 280px;
  min-width: 280px;
  max-width: 280px;
}
```

### Erreur 5: Classe manquante dans le CSS

Le JSX utilise `.hosting-layout` mais le CSS dÃ©finit `.hosting-page`:

```tsx
// âŒ INCORRECT
<div className="hosting-layout">  // Cette classe n'existe pas!
```

```tsx
// âœ… CORRECT - utiliser la classe dÃ©finie dans le CSS
<div className="hosting-page">
```

Ou ajouter la classe manquante dans le CSS.

##############################################################################
# 7. VARIABLES CSS PARTAGÃ‰ES (OPTIONNEL)
##############################################################################

Pour faciliter la maintenance, on peut dÃ©finir des variables CSS globales
dans un fichier partagÃ©, MAIS chaque section doit quand mÃªme redÃ©finir
ses classes localement (dÃ©factorisation).

```css
/* src/styles/layout-vars.css (optionnel, pour rÃ©fÃ©rence) */
:root {
  /* Specs Layout */
  --layout-nav1-height: 50px;
  --layout-nav2-height: 40px;
  --layout-gap-nav2-content: 15px;
  --layout-margin-lateral: 24px;
  --layout-sidebar-width: 280px;
  --layout-gap-panels: 16px;
  
  /* Utilisation dans les sections */
  --layout-split-padding: 15px 24px 24px 24px;
}
```

Puis dans chaque section (copier les valeurs, pas les variables):

```css
/* domains/domains.css */
.dom-detail-container {
  padding: 15px 24px 24px 24px;  /* Valeur en dur, pas var() */
  gap: 16px;
}
```

##############################################################################
# 8. WORKFLOW RECOMMANDÃ‰
##############################################################################

### Pour crÃ©er une nouvelle section:

1. COPIER le template de layout
2. REMPLACER le prÃ©fixe ({prefix} â†’ nom de la section)
3. AJOUTER les styles spÃ©cifiques
4. VÃ‰RIFIER avec prompt_target_check.py
5. CORRIGER les erreurs
6. MERGER

### Pour modifier une section existante:

1. NE PAS toucher aux valeurs critiques (padding, gap, width)
2. Si modification nÃ©cessaire, appliquer Ã  TOUTES les sections
3. VÃ‰RIFIER la cohÃ©rence avec prompt_target_check.py

### Pour le CI/CD:

```yaml
# .github/workflows/build.yml
- name: Check layout consistency
  run: python3 scripts/prompt_target_check.py src/pages/web-cloud
  
- name: Build
  run: npm run build
```

##############################################################################
# 9. RÃ‰SUMÃ‰ DES SPECS (Ã€ MÃ‰MORISER)
##############################################################################

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SPECS CRITIQUES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  NAV1 height       â”‚  50px                                  â”‚
â”‚  NAV2 height       â”‚  40px                                  â”‚
â”‚  Gap NAV2â†’Content  â”‚  15px (padding-top du split)           â”‚
â”‚  Margins latÃ©rales â”‚  24px (padding left/right du split)    â”‚
â”‚  Sidebar width     â”‚  280px (min/max aussi)                 â”‚
â”‚  Gap panels        â”‚  16px (entre sidebar et main)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  .{prefix}-split {                                          â”‚
â”‚    padding: 15px 24px 24px 24px;                            â”‚
â”‚    gap: 16px;                                               â”‚
â”‚  }                                                          â”‚
â”‚  .{prefix}-sidebar {                                        â”‚
â”‚    width: 280px;                                            â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
